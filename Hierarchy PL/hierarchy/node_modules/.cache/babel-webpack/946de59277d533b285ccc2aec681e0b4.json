{"ast":null,"code":"import _asyncToGenerator from \"C:/Hierarchy/Hierarchy PL/hierarchy/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport { Component, Input } from '@angular/core';\nimport { FacultyResult } from 'models/faculty-result.model';\nimport { GroupResult } from 'models/group-result.model';\nimport { SpecialityResult } from 'models/speciality-result.model';\nimport { StudentsResult } from 'models/students-result.model';\nimport { Students } from 'models/students.model';\nlet AddEditStudentsComponent = class AddEditStudentsComponent {\n  constructor(service) {\n    this.service = service;\n    this.currentStudent = new Students();\n    this.load = 'visibility:hidden';\n    this.disabled = '';\n    this.student = new Students();\n    this.isChanged = false;\n    this.FacultyList = new FacultyResult();\n    this.SpecialityList = new SpecialityResult();\n    this.GroupList = new GroupResult();\n  }\n\n  ngOnInit() {\n    this.refreshGroupList();\n    this.RefreshSpecialityList();\n    this.RefreshFacultyList();\n  }\n\n  RefreshFacultyList() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.service.getFacultyList().then(data => {\n        if (data.success) {\n          _this.FacultyList = data;\n        } else {\n          alert(data.userMessage);\n        }\n      });\n    })();\n  }\n\n  RefreshSpecialityList() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this2.service.getSpecialityList().then(data => {\n        if (data.success) {\n          _this2.SpecialityList = data;\n        } else {\n          alert(data.userMessage);\n        }\n      });\n    })();\n  }\n\n  refreshGroupList() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this3.service.getGroupList().then(data => {\n        if (data.success) {\n          _this3.GroupList = data;\n        } else {\n          alert(data.userMessage);\n        }\n      });\n    })();\n  }\n\n  SubmitStudent() {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      let result = new StudentsResult();\n      _this4.disabled = 'disabled';\n      _this4.load = '';\n      yield _this4.service.AddStudent(_this4.currentStudent).then(data => {\n        result.success = data.success;\n        result.userMessage = data.userMessage;\n\n        if (result.success) {\n          alert('We have added a new student to database');\n          _this4.isChanged = true;\n        } else {\n          alert(result.userMessage);\n        }\n\n        _this4.CurrentStudent = new Students();\n      }).catch(error => {\n        alert(' Please make sure you have provided all the values');\n      });\n      _this4.disabled = '';\n      _this4.load = \"visibility:hidden\";\n    })();\n  }\n\n  UpdateStudent() {\n    var _this5 = this;\n\n    return _asyncToGenerator(function* () {\n      let result = new StudentsResult();\n      _this5.disabled = 'disabled';\n      _this5.load = \"\";\n\n      _this5.service.UpdateStudent(_this5.student).then(data => {\n        result.success = data.success;\n        result.userMessage = data.userMessage;\n\n        if (result.success) {\n          alert('Reference code is: ' + _this5.student.student_id);\n          _this5.isChanged = true;\n        } else {\n          alert(result.userMessage);\n        }\n\n        _this5.student = new Students();\n      }).catch(error => {\n        alert(error.error.userMessage + ' Please make sure you have provided all the values');\n      });\n\n      _this5.disabled = '';\n      _this5.load = \"'visibility:hidden'\";\n    })();\n  }\n\n};\n\n__decorate([Input()], AddEditStudentsComponent.prototype, \"student\", void 0);\n\n__decorate([Input()], AddEditStudentsComponent.prototype, \"ActivateAddStudentComp\", void 0);\n\n__decorate([Input()], AddEditStudentsComponent.prototype, \"ActivateEditStudentComp\", void 0);\n\nAddEditStudentsComponent = __decorate([Component({\n  selector: 'app-add-edit-students',\n  templateUrl: './add-edit-students.component.html',\n  styleUrls: ['./add-edit-students.component.css']\n})], AddEditStudentsComponent);\nexport { AddEditStudentsComponent };","map":{"version":3,"sources":["C:\\Hierarchy\\Hierarchy PL\\hierarchy\\src\\app\\students\\add-edit-students\\add-edit-students.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { FacultyResult } from 'models/faculty-result.model';\nimport { Faculty } from 'models/faculty.model';\nimport { GroupResult } from 'models/group-result.model';\nimport { Group } from 'models/group.model';\nimport { SpecialityResult } from 'models/speciality-result.model';\nimport { StudentsResult } from 'models/students-result.model';\nimport { Students } from 'models/students.model';\nimport { SharedService } from 'src/app/shared.service';\n\n@Component({\n  selector: 'app-add-edit-students',\n  templateUrl: './add-edit-students.component.html',\n  styleUrls: ['./add-edit-students.component.css']\n})\nexport class AddEditStudentsComponent implements OnInit {\n  currentStudent: Students = new Students();\n  load: string = 'visibility:hidden';\n  disabled: string = '';\n  @Input() student:Students= new Students();\n  @Input() ActivateAddStudentComp:Boolean;\n  @Input() ActivateEditStudentComp:Boolean;\n  isChanged: Boolean = false;\n   constructor(private service:SharedService) { }\n\n  ngOnInit(): void {\n    this.refreshGroupList();\n    this.RefreshSpecialityList();\n    this.RefreshFacultyList();\n  }\n  FacultyList: FacultyResult = new FacultyResult();\n  async RefreshFacultyList(){\n    await this.service.getFacultyList().then((data) =>{\n      if (data.success) {\n        this.FacultyList=data;\n        \n     \n       } else {\n         alert(data.userMessage);\n       }\n    })\n  }\n  SpecialityList: SpecialityResult = new SpecialityResult();\n  async RefreshSpecialityList(){\n\n    await this.service.getSpecialityList().then((data) => {\n        \n      if (data.success) {\n       this.SpecialityList=data;\n       \n    \n      } else {\n        alert(data.userMessage);\n      }\n  });\n    }\n  GroupList: GroupResult = new GroupResult();\n  async refreshGroupList(){\n    await this.service.getGroupList().then((data) => {\n      \n      if (data.success) {\n       this.GroupList=data;\n    \n      } else {\n        alert(data.userMessage);\n      }\n      })\n  }\nCurrentStudent: Students;\n  async SubmitStudent() {\n    let result = new StudentsResult();\n    this.disabled = 'disabled';\n    this.load = '';\n    await this.service\n      .AddStudent(this.currentStudent)\n      .then((data) => {\n        result.success = data.success;\n        result.userMessage = data.userMessage;\n        if (result.success) {\n          alert('We have added a new student to database');\n          this.isChanged = true;\n        } else {\n          alert(result.userMessage);\n        }\n      \n        \n        this.CurrentStudent = new Students();\n      })\n      .catch((error) => {\n        alert(\n            ' Please make sure you have provided all the values'\n        );\n      });\n    this.disabled = '';\n    this.load = \"visibility:hidden\";\n  }\n\n  async UpdateStudent() {\n    let result = new StudentsResult();\n    this.disabled = 'disabled';\n    this.load = \"\";\n     this.service\n      .UpdateStudent(this.student)\n      .then((data) => {\n        result.success = data.success;\n        result.userMessage = data.userMessage;\n  \n        if (result.success) {\n          alert('Reference code is: ' + this.student.student_id);\n          this.isChanged = true;\n        } else {\n          alert(result.userMessage);\n        }\n      \n        this.student = new Students();\n      })\n      .catch((error) => {\n        alert(\n          error.error.userMessage +\n            ' Please make sure you have provided all the values'\n        );\n      });\n    this.disabled = '';\n    this.load = \"'visibility:hidden'\";\n  }\n}\n  \n\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}