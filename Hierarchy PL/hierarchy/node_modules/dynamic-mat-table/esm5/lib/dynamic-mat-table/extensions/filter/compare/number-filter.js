/**
 * @fileoverview added by tsickle
 * Generated from: lib/dynamic-mat-table/extensions/filter/compare/number-filter.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { __extends } from "tslib";
import { AbstractFilter } from './abstract-filter';
/** @type {?} */
var equals = 'a === b';
/** @type {?} */
var notEquals = 'a !== b';
/** @type {?} */
var greaterThan = 'a > b';
/** @type {?} */
var lessThan = 'a < b';
/** @type {?} */
var empty = '!a';
/** @type {?} */
var notEmpty = '!!a';
/** @type {?} */
var operations = [equals, notEquals, greaterThan, lessThan, empty, notEmpty];
var NumberFilter = /** @class */ (function (_super) {
    __extends(NumberFilter, _super);
    // private languageText: LanguagePack;
    function NumberFilter(languagePack) {
        var _this = _super.call(this) || this;
        _this.languagePack = languagePack;
        // tslint:disable-next-line:variable-name
        _this._selectedIndex = null;
        if (NumberFilter.operationList.length === 0) {
            operations.forEach((/**
             * @param {?} fn
             * @return {?}
             */
            function (fn) {
                NumberFilter.operationList.push({ predicate: fn, text: null });
            }));
        }
        NumberFilter.operationList[0].text = languagePack.filterLabels.NumberEquals; // equals //
        NumberFilter.operationList[1].text = languagePack.filterLabels.NumberNotEquals; // notEquals //
        NumberFilter.operationList[2].text = languagePack.filterLabels.NumberGreaterThan; // greaterThan //
        NumberFilter.operationList[3].text = languagePack.filterLabels.NumberLessThan; // lessThan //
        NumberFilter.operationList[4].text = languagePack.filterLabels.NumberEmpty; // empty //
        NumberFilter.operationList[5].text = languagePack.filterLabels.NumberNotEmpty; // notEmpty //
        return _this;
    }
    Object.defineProperty(NumberFilter.prototype, "selectedIndex", {
        get: /**
         * @return {?}
         */
        function () {
            return this._selectedIndex;
        },
        set: /**
         * @param {?} value
         * @return {?}
         */
        function (value) {
            this._selectedIndex = value;
            // init filter parameters
            if (value === 0 || value === 1 || value === 2 || value === 3) { // equals notEquals greaterThan lessThan
                this.parameters = [{ value: null, text: this.languagePack.filterLabels.Number }];
            }
            else { // empty notEmpty
                this.parameters = null;
            }
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(NumberFilter.prototype, "selectedValue", {
        get: /**
         * @return {?}
         */
        function () {
            if (this._selectedIndex !== null) {
                return NumberFilter.operationList[this._selectedIndex];
            }
            else {
                return null;
            }
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    NumberFilter.prototype.getOperations = /**
     * @return {?}
     */
    function () {
        return NumberFilter.operationList;
    };
    /**
     * @param {?} dynamicVariable
     * @return {?}
     */
    NumberFilter.prototype.toString = /**
     * @param {?} dynamicVariable
     * @return {?}
     */
    function (dynamicVariable) {
        /** @type {?} */
        var a = '_a$';
        /** @type {?} */
        var b = '_b$';
        /** @type {?} */
        var predicate = this.selectedValue.predicate.replace('a', a).replace('b', b);
        /** @type {?} */
        var statement = predicate.replace(a, a + "['" + dynamicVariable + "']");
        // one static variable (equals, notEquals,greaterThan,lessThan)
        if (this._selectedIndex === 0 ||
            this._selectedIndex === 1 ||
            this._selectedIndex === 2 ||
            this._selectedIndex === 3) {
            /** @type {?} */
            var value = this.parameters[0].value ? this.parameters[0].value.toString() : ' null ';
            return statement.replace(b, value);
        }
        else { // none static variable (empty, notEmpty)
            return statement;
        }
    };
    /**
     * @return {?}
     */
    NumberFilter.prototype.toPrint = /**
     * @return {?}
     */
    function () {
        return NumberFilter.operationList[this._selectedIndex].text + ' ' + this.parameters[0].value + ' ' + (this.type || '') + ' ';
    };
    /**
     * @return {?}
     */
    NumberFilter.prototype.toSql = /**
     * @return {?}
     */
    function () {
        return NumberFilter.sql[this._selectedIndex] + ' ' + (this.parameters[0].value || '') + ' ' + (this.type || '') + ' ';
    };
    NumberFilter.sql = ['=', '<>', '>', '<', 'IS NULL', 'IS NOT NULL'];
    NumberFilter.operationList = [];
    return NumberFilter;
}(AbstractFilter));
export { NumberFilter };
if (false) {
    /**
     * @type {?}
     * @private
     */
    NumberFilter.sql;
    /**
     * @type {?}
     * @private
     */
    NumberFilter.operationList;
    /**
     * @type {?}
     * @private
     */
    NumberFilter.prototype._selectedIndex;
    /** @type {?} */
    NumberFilter.prototype.languagePack;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibnVtYmVyLWZpbHRlci5qcyIsInNvdXJjZVJvb3QiOiJuZzovL2R5bmFtaWMtbWF0LXRhYmxlLyIsInNvdXJjZXMiOlsibGliL2R5bmFtaWMtbWF0LXRhYmxlL2V4dGVuc2lvbnMvZmlsdGVyL2NvbXBhcmUvbnVtYmVyLWZpbHRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxPQUFPLEVBQUUsY0FBYyxFQUFtQixNQUFNLG1CQUFtQixDQUFDOztJQUc5RCxNQUFNLEdBQUcsU0FBUzs7SUFDbEIsU0FBUyxHQUFHLFNBQVM7O0lBQ3JCLFdBQVcsR0FBRyxPQUFPOztJQUNyQixRQUFRLEdBQUcsT0FBTzs7SUFDbEIsS0FBSyxHQUFHLElBQUk7O0lBQ1osUUFBUSxHQUFHLEtBQUs7O0lBQ2hCLFVBQVUsR0FBRyxDQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUsUUFBUSxDQUFDO0FBRTlFO0lBQWtDLGdDQUFzQjtJQUd0RCxzQ0FBc0M7SUFFdEMsc0JBQW1CLFlBQXVCO1FBQTFDLFlBQ0UsaUJBQU8sU0FZUjtRQWJrQixrQkFBWSxHQUFaLFlBQVksQ0FBVzs7UUFnQmxDLG9CQUFjLEdBQVcsSUFBSSxDQUFDO1FBZHBDLElBQUssWUFBWSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQzVDLFVBQVUsQ0FBQyxPQUFPOzs7O1lBQUMsVUFBQSxFQUFFO2dCQUNuQixZQUFZLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBQyxDQUFDLENBQUM7WUFDaEUsQ0FBQyxFQUFDLENBQUM7U0FDSjtRQUNELFlBQVksQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLFlBQVksQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLENBQU0sWUFBWTtRQUM5RixZQUFZLENBQUMsYUFBYSxDQUFDLENBQUMs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LDhCQUFPOzs7SUFBZDtRQUNFLE9BQU8sWUFBWSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsSUFBSSxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQztJQUMvSCxDQUFDOzs7O0lBRU0sNEJBQUs7OztJQUFaO1FBQ0UsT0FBTyxZQUFZLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssSUFBSSxFQUFFLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQztJQUN4SCxDQUFDO0lBckVjLGdCQUFHLEdBQUcsQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsU0FBUyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBQ3RELDBCQUFhLEdBQXNCLEVBQUUsQ0FBQztJQXFFdkQsbUJBQUM7Q0FBQSxBQXZFRCxDQUFrQyxjQUFjLEdBdUUvQztTQXZFWSxZQUFZOzs7Ozs7SUFDdkIsaUJBQXFFOzs7OztJQUNyRSwyQkFBcUQ7Ozs7O0lBbUJyRCxzQ0FBc0M7O0lBaEIxQixvQ0FBOEIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBYnN0cmFjdEZpbHRlciwgRmlsdGVyT3BlcmF0aW9uIH0gZnJvbSAnLi9hYnN0cmFjdC1maWx0ZXInO1xyXG5pbXBvcnQgeyBUYWJsZUludGwgfSBmcm9tICcuLi8uLi8uLi8uLi9pbnRlcm5hdGlvbmFsL3RhYmxlLUludGwnO1xyXG5cclxuY29uc3QgZXF1YWxzID0gJ2EgPT09IGInO1xyXG5jb25zdCBub3RFcXVhbHMgPSAnYSAhPT0gYic7XHJcbmNvbnN0IGdyZWF0ZXJUaGFuID0gJ2EgPiBiJztcclxuY29uc3QgbGVzc1RoYW4gPSAnYSA8IGInO1xyXG5jb25zdCBlbXB0eSA9ICchYSc7XHJcbmNvbnN0IG5vdEVtcHR5ID0gJyEhYSc7XHJcbmNvbnN0IG9wZXJhdGlvbnMgPSBbZXF1YWxzLCBub3RFcXVhbHMsIGdyZWF0ZXJUaGFuLCBsZXNzVGhhbiwgZW1wdHksIG5vdEVtcHR5XTtcclxuXHJcbmV4cG9ydCBjbGFzcyBOdW1iZXJGaWx0ZXIgZXh0ZW5kcyBBYnN0cmFjdEZpbHRlcjxudW1iZXI+IHtcclxuICBwcml2YXRlIHN0YXRpYyBzcWwgPSBbJz0nLCAnPD4nLCAnPicsICc8JywgJ0lTIE5VTEwnLCAnSVMgTk9UIE5VTEwnXTtcclxuICBwcml2YXRlIHN0YXRpYyBvcGVyYXRpb25MaXN0OiBGaWx0ZXJPcGVyYXRpb25bXSA9IFtdO1xyXG4gIC8vIHByaXZhdGUgbGFuZ3VhZ2VUZXh0OiBMYW5ndWFnZVBhY2s7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBsYW5ndWFnZVBhY2s6IFRhYmxlSW50bCkge1xyXG4gICAgc3VwZXIoKTtcclxuICAgIGlmICggTnVtYmVyRmlsdGVyLm9wZXJhdGlvbkxpc3QubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIG9wZXJhdGlvbnMuZm9yRWFjaChmbiA9PiB7XHJcbiAgICAgICAgTnVtYmVyRmlsdGVyLm9wZXJhdGlvbkxpc3QucHVzaCh7IHByZWRpY2F0ZTogZm4sIHRleHQ6IG51bGx9KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBOdW1iZXJGaWx0ZXIub3BlcmF0aW9uTGlzdFswXS50ZXh0ID0gbGFuZ3VhZ2VQYWNrLmZpbHRlckxhYmVscy5OdW1iZXJFcXVhbHM7ICAgICAgLy8gZXF1YWxzIC8vXHJcbiAgICBOdW1iZXJGaWx0ZXIub3BlcmF0aW9uTGlzdFsxXS50ZXh0ID0gbGFuZ3VhZ2VQYWNrLmZpbHRlckxhYmVscy5OdW1iZXJOb3RFcXVhbHM7ICAgLy8gbm90RXF1YWxzIC8vXHJcbiAgICBOdW1iZXJGaWx0ZXIub3BlcmF0aW9uTGlzdFsyXS50ZXh0ID0gbGFuZ3VhZ2VQYWNrLmZpbHRlckxhYmVscy5OdW1iZXJHcmVhdGVyVGhhbjsgLy8gZ3JlYXRlclRoYW4gLy9cclxuICAgIE51bWJlckZpbHRlci5vcGVyYXRpb25MaXN0WzNdLnRleHQgPSBsYW5ndWFnZVBhY2suZmlsdGVyTGFiZWxzLk51bWJlckxlc3NUaGFuOyAgICAvLyBsZXNzVGhhbiAvL1xyXG4gICAgTnVtYmVyRmlsdGVyLm9wZXJhdGlvbkxpc3RbNF0udGV4dCA9IGxhbmd1YWdlUGFjay5maWx0ZXJMYWJlbHMuTnVtYmVyRW1wdHk7ICAgICAgIC8vIGVtcHR5IC8vXHJcbiAgICBOdW1iZXJGaWx0ZXIub3BlcmF0aW9uTGlzdFs1XS50ZXh0ID0gbGFuZ3VhZ2VQYWNrLmZpbHRlckxhYmVscy5OdW1iZXJOb3RFbXB0eTsgICAgLy8gbm90RW1wdHkgLy9cclxuICB9XHJcblxyXG4gIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTp2YXJpYWJsZS1uYW1lXHJcbiAgcHJpdmF0ZSBfc2VsZWN0ZWRJbmRleDogbnVtYmVyID0gbnVsbDtcclxuICBnZXQgc2VsZWN0ZWRJbmRleCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuX3NlbGVjdGVkSW5kZXg7XHJcbiAgfVxyXG4gIHNldCBzZWxlY3RlZEluZGV4KHZhbHVlOiBudW1iZXIpIHtcclxuICAgIHRoaXMuX3NlbGVjdGVkSW5kZXggPSB2YWx1ZTtcclxuICAgIC8vIGluaXQgZmlsdGVyIHBhcmFtZXRlcnNcclxuICAgIGlmICh2YWx1ZSA9PT0gMCB8fCB2YWx1ZSA9PT0gMSB8fCB2YWx1ZSA9PT0gMiB8fCB2YWx1ZSA9PT0gMyApIHsgLy8gZXF1YWxzIG5vdEVxdWFscyBncmVhdGVyVGhhbiBsZXNzVGhhblxyXG4gICAgICB0aGlzLnBhcmFtZXRlcnMgPSBbeyB2YWx1ZTogbnVsbCwgdGV4dDogdGhpcy5sYW5ndWFnZVBhY2suZmlsdGVyTGFiZWxzLk51bWJlciB9XTtcclxuICAgIH0gZWxzZSB7IC8vIGVtcHR5IG5vdEVtcHR5XHJcbiAgICAgIHRoaXMucGFyYW1ldGVycyA9IG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXQgc2VsZWN0ZWRWYWx1ZSgpOiBGaWx0ZXJPcGVyYXRpb24ge1xyXG4gICAgaWYgKHRoaXMuX3NlbGVjdGVkSW5kZXggIT09IG51bGwpIHtcclxuICAgICAgcmV0dXJuIE51bWJlckZpbHRlci5vcGVyYXRpb25MaXN0W3RoaXMuX3NlbGVjdGVkSW5kZXhdO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0T3BlcmF0aW9ucygpOiBGaWx0ZXJPcGVyYXRpb25bXSB7XHJcbiAgICByZXR1cm4gTnVtYmVyRmlsdGVyLm9wZXJhdGlvbkxpc3Q7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgdG9TdHJpbmcoZHluYW1pY1ZhcmlhYmxlOiBhbnkpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgYSA9ICdfYSQnO1xyXG4gICAgY29uc3QgYiA9ICdfYiQnO1xyXG4gICAgY29uc3QgcHJlZGljYXRlID0gdGhpcy5zZWxlY3RlZFZhbHVlLnByZWRpY2F0ZS5yZXBsYWNlKCdhJywgYSkucmVwbGFjZSgnYicsIGIpO1xyXG4gICAgY29uc3Qgc3RhdGVtZW50ID0gcHJlZGljYXRlLnJlcGxhY2UoYSwgYCR7YX1bJyR7ZHluYW1pY1ZhcmlhYmxlfSddYCk7XHJcbiAgICAvLyBvbmUgc3RhdGljIHZhcmlhYmxlIChlcXVhbHMsIG5vdEVxdWFscyxncmVhdGVyVGhhbixsZXNzVGhhbilcclxuICAgIGlmICh0aGlzLl9zZWxlY3RlZEluZGV4ID09PSAwIHx8XHJcbiAgICAgIHRoaXMuX3NlbGVjdGVkSW5kZXggPT09IDEgfHxcclxuICAgICAgdGhpcy5fc2VsZWN0ZWRJbmRleCA9PT0gMiB8fFxyXG4gICAgICB0aGlzLl9zZWxlY3RlZEluZGV4ID09PSAzICkge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5wYXJhbWV0ZXJzWzBdLnZhbHVlID8gdGhpcy5wYXJhbWV0ZXJzWzBdLnZhbHVlLnRvU3RyaW5nKCkgOiAnIG51bGwgJztcclxuICAgICAgICByZXR1cm4gc3RhdGVtZW50LnJlcGxhY2UoYiwgdmFsdWUpO1xyXG4gICAgfSBlbHNlIHsgLy8gbm9uZSBzdGF0aWMgdmFyaWFibGUgKGVtcHR5LCBub3RFbXB0eSlcclxuICAgICAgcmV0dXJuIHN0YXRlbWVudDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyB0b1ByaW50KCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gTnVtYmVyRmlsdGVyLm9wZXJhdGlvbkxpc3RbdGhpcy5fc2VsZWN0ZWRJbmRleF0udGV4dCArICcgJyArIHRoaXMucGFyYW1ldGVyc1swXS52YWx1ZSArICcgJyArICh0aGlzLnR5cGUgfHwgJycpICsgJyAnO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHRvU3FsKCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gTnVtYmVyRmlsdGVyLnNxbFt0aGlzLl9zZWxlY3RlZEluZGV4XSArICcgJyArICh0aGlzLnBhcmFtZXRlcnNbMF0udmFsdWUgfHwgJycpICsgJyAnICsgKHRoaXMudHlwZSB8fCAnJykgKyAnICc7XHJcbiAgfVxyXG59XHJcbiJdfQ==