{"version":3,"file":"dynamic-mat-table.js","sources":["ng://dynamic-mat-table/lib/cores/type.ts","ng://dynamic-mat-table/lib/cores/dynamic-cell/IDynamicCell.ts","ng://dynamic-mat-table/lib/utilies/text.utils.ts","ng://dynamic-mat-table/lib/cores/table-data-source.ts","ng://dynamic-mat-table/lib/dynamic-mat-table/dynamic-mat-table.service.ts","ng://dynamic-mat-table/lib/cores/table.core.directive.ts","ng://dynamic-mat-table/lib/dynamic-mat-table/extensions/filter/compare/abstract-filter.ts","ng://dynamic-mat-table/lib/dynamic-mat-table/extensions/filter/compare/text-filter.ts","ng://dynamic-mat-table/lib/dynamic-mat-table/extensions/filter/compare/number-filter.ts","ng://dynamic-mat-table/lib/international/table-Intl.ts","ng://dynamic-mat-table/lib/dynamic-mat-table/extensions/filter/header-filter.component.ts","ng://dynamic-mat-table/lib/dynamic-mat-table/extensions/print-dialog/print-dialog.component.ts","ng://dynamic-mat-table/lib/models/resize-column.mode.ts","ng://dynamic-mat-table/lib/utilies/html.helper.ts","ng://dynamic-mat-table/lib/dynamic-mat-table/dynamic-mat-table.component.ts","ng://dynamic-mat-table/lib/cores/dynamic-cell/dynamic-cell.directive.ts","ng://dynamic-mat-table/lib/dynamic-mat-table/extensions/row-menu/row-menu.component.ts","ng://dynamic-mat-table/lib/dynamic-mat-table/extensions/row-menu/row-menu.module.ts","ng://dynamic-mat-table/lib/dynamic-mat-table/extensions/table-menu/table-menu.component.ts","ng://dynamic-mat-table/lib/dynamic-mat-table/extensions/table-menu/table-menu.module.ts","ng://dynamic-mat-table/lib/dynamic-mat-table/extensions/filter/filter-event.directive.ts","ng://dynamic-mat-table/lib/dynamic-mat-table/extensions/filter/header-filter.module.ts","ng://dynamic-mat-table/lib/cores/fixed-size-table-virtual-scroll-strategy.ts","ng://dynamic-mat-table/lib/cores/table-item-size.directive.ts","ng://dynamic-mat-table/lib/cores/table-virtual-scroll.module.ts","ng://dynamic-mat-table/lib/dynamic-mat-table/extensions/toolbar/toolbar.component.ts","ng://dynamic-mat-table/lib/dynamic-mat-table/dynamic-mat-table.module.ts","ng://dynamic-mat-table/lib/models/language-pack.model.ts","ng://dynamic-mat-table/lib/models/context-menu.model.ts","ng://dynamic-mat-table/lib/models/table-row.model.ts","ng://dynamic-mat-table/lib/models/table-field.model.ts","ng://dynamic-mat-table/lib/models/print-config.model.ts","ng://dynamic-mat-table/lib/models/table-pagination.model.ts","ng://dynamic-mat-table/lib/models/table-setting.model.ts"],"sourcesContent":["\r\n// |||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||\r\n\r\n// |||||||||||||||||||||||||||||||||||||| Utils ||||||||||||||||||||||||||||||||||||||||||||||||||\r\n/**\r\n * check object is null or undefined\r\n */\r\nexport function isNullorUndefined(value: any): boolean {\r\n    if ( value === null || value === undefined) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n/**\r\n * clone object but refrence variable not change\r\n */\r\nexport function clone<T>(obj: any): any {\r\n    if ( obj === null || obj === undefined) {\r\n      return obj;\r\n    } else if ( Array.isArray(obj)) {\r\n      const array: T[] = [];\r\n      obj.forEach( item => array.push( Object.assign({}, item)));\r\n      return array;\r\n    } else {\r\n      return Object.assign({}, obj);\r\n    }\r\n  }\r\n\r\n/**\r\n * clone object and all refrence variable but may be there is a circle loop.\r\n */\r\nexport function deepClone<T>(obj: any) {\r\n    if ( obj === null || obj === undefined) {\r\n      return obj;\r\n    } else if ( Array.isArray(obj)) {\r\n      const array: T[] = [];\r\n      obj.forEach( item => array.push( deepClone<typeof item>(item) ));\r\n      return array as T[];\r\n    } else {\r\n      const c = Object.assign({} as T, obj);\r\n      const fields: string[] = Object.getOwnPropertyNames(obj);\r\n      fields.forEach( f => {\r\n        const field = obj[f];\r\n        if ( field !== null && typeof field === 'object' ) {\r\n          c[f] = deepClone<typeof field>(field);\r\n        }\r\n      });\r\n      return c;\r\n    }\r\n}\r\n\r\nexport function getObjectProp(fieldName: string, defaultValue: any, ...variable: any[]) {\r\n    for (const v in variable) {\r\n      if (variable[v] && !isNullorUndefined(variable[v][fieldName])) {\r\n        return variable[v][fieldName];\r\n      }\r\n    }\r\n    return defaultValue;\r\n}\r\n\r\nexport function copy(from: any, to: any, forced: boolean = false, nullSkip: boolean = true, undefinedSkip: boolean = true) {\r\n    if (from === null || from === undefined) {\r\n        return;\r\n    }\r\n    if (to === null || to === undefined) {\r\n        to = {};\r\n    }\r\n    const f: string[] = Object.keys(from);\r\n    const t: string[] = Object.keys(to);\r\n    f.forEach( fi => {\r\n        if (forced === true || t.includes(fi) === true) {\r\n            if (!(from[fi] === null && nullSkip === true) && !(from[fi] === undefined && undefinedSkip === true)) {\r\n                to[fi] = from[fi];\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\n// |||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||\r\n\r\n// |||||||||||||||||||||||||||||||||||| Text Utils |||||||||||||||||||||||||||||||||||||||||||||||\r\n/**\r\n * Transforms a camelCase string into a readable text format\r\n * @example textify('helloWorld!')\r\n * // Hello world!\r\n */\r\nexport function textify(text: string) {\r\n    return text\r\n      .replace(/([A-Z])/g, char => ` ${char.toLowerCase()}`)\r\n      .replace(/^([a-z])/, char => char.toUpperCase());\r\n}\r\n\r\n  /**\r\n   * Transforms a text string into a title case text format\r\n   * @example titleCase('hello world!')\r\n   * // Hello Workd!\r\n   */\r\nexport function titleCase(value: string) {\r\n    const sentence = value.toLowerCase().split(' ');\r\n    for (let i = 0; i < sentence.length; i++) {\r\n       sentence[i] = sentence[i][0].toUpperCase() + sentence[i].slice(1);\r\n    }\r\n    return sentence.join(' ');\r\n}\r\n\r\n\r\nexport interface Dictionary<T> {\r\n  [Key: string]: T;\r\n}","import { EventEmitter } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { DynamicMatTableComponent } from '../../dynamic-mat-table/dynamic-mat-table.component';\nimport { TableField } from '../../models/table-field.model';\nimport { IRowEvent, TableRow } from '../../models/table-row.model';\nexport interface IDynamicCell {\n  row: TableRow ;\n  column: TableField<any>;\n  parent: DynamicMatTableComponent<any>;\n  onRowEvent?: EventEmitter<IRowEvent>;\n  //onSignal?: BehaviorSubject<any>;  \n  // signal?: (sender: IDynamicCell, e: any) => void;\n}\n","/**\r\n * Simplifies a string (trims and lowerCases)\r\n */\r\nexport function simplify(s: string): string {\r\n  return `${s}`.trim().toLowerCase();\r\n}\r\n\r\n/**\r\n * Transforms a camelCase string into a readable text format\r\n * @example textify('helloWorld!')\r\n * // Hello world!\r\n */\r\nexport function textify(text: string) {\r\n  return text\r\n    .replace(/([A-Z])/g, char => ` ${char.toLowerCase()}`)\r\n    .replace(/^([a-z])/, char => char.toUpperCase());\r\n}\r\n\r\n/**\r\n * Transforms a text string into a title case text format\r\n * @example titleCase('hello world!')\r\n * // Hello Workd!\r\n */\r\nexport function titleCase(value: string) {\r\n  const sentence = value.toLowerCase().split(' ');\r\n  for (let i = 0; i < sentence.length; i++) {\r\n     sentence[i] = sentence[i][0].toUpperCase() + sentence[i].slice(1);\r\n  }\r\n  return sentence.join(' ');\r\n}\r\n","import { BehaviorSubject, combineLatest, merge, Observable, of, ReplaySubject, Subject, Subscription } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { MatSort, Sort } from '@angular/material/sort';\r\nimport { MatPaginator, PageEvent } from '@angular/material/paginator';\r\nimport { AbstractFilter } from '../dynamic-mat-table/extensions/filter/compare/abstract-filter';\r\nimport { titleCase } from '../utilies/text.utils';\r\n\r\nexport  class TableVirtualScrollDataSource<T> extends MatTableDataSource<T> {\r\n  public dataToRender$: Subject<T[]>;\r\n  public dataOfRange$: Subject<T[]>;\r\n  private streamsReady: boolean;\r\n  private filterMap: HashMap<AbstractFilter[]> = {};\r\n\r\n  get allData(): T[] {\r\n    return this.data;\r\n  }\r\n\r\n  toTranslate(): any[] {\r\n    const tranList = [];\r\n    const keys: string[] = Object.keys( this.filterMap );\r\n    for ( const k of keys) {\r\n      let fieldTotalTran = '';\r\n      for ( const f of this.filterMap[k]) {\r\n        fieldTotalTran += f.toPrint();\r\n      }\r\n      if ( fieldTotalTran !== '') {\r\n        tranList.push( { key: titleCase(k) , value: fieldTotalTran} );\r\n      }\r\n    }\r\n    return tranList;\r\n  }\r\n\r\n  getFilter(fieldName: string): AbstractFilter[] {\r\n    return this.filterMap[fieldName];\r\n  }\r\n\r\n  setFilter(fieldName: string, filters: AbstractFilter[]): Observable<null> {\r\n    this.filterMap[fieldName] = filters;\r\n    return new Observable(subscriber => {\r\n      setTimeout(() => {\r\n        this.refreshFilterPredicate();\r\n        subscriber.next();\r\n        subscriber.complete();\r\n      }, 200); // for show progress\r\n    });\r\n  }\r\n\r\n  clearFilter(fieldName: string = null) {\r\n    if (fieldName != null ) {\r\n      delete this.filterMap[fieldName];\r\n    } else {\r\n      this.filterMap = {};\r\n    }\r\n    this.refreshFilterPredicate();\r\n  }\r\n\r\n  clearData() {\r\n    this.data = [];\r\n  }\r\n\r\n  public refreshFilterPredicate() {\r\n    let conditionsString = '';\r\n    Object.keys(this.filterMap).forEach(key => {\r\n      let fieldCondition = '';\r\n      this.filterMap[key].forEach((fieldFilter, row, array) => {\r\n        if (row < array.length - 1) {\r\n          fieldCondition += fieldFilter.toString(key) + (fieldFilter.type === 'and' ? ' && ' : ' || ');\r\n        } else {\r\n          fieldCondition += fieldFilter.toString(key);\r\n        }\r\n      });\r\n      if (fieldCondition !== '') {\r\n        conditionsString += ` ${conditionsString === '' ? '' : ' && '} ( ${fieldCondition} )`;\r\n      }\r\n    });\r\n    if (conditionsString !== '') {\r\n      const filterFunction = new Function('_a$', 'return ' + conditionsString);\r\n      this.filterPredicate = (data: T, filter: string) => filterFunction(data) as boolean;\r\n    } else {\r\n      this.filterPredicate = (data: T, filter: string) => true;\r\n    }\r\n    this.filter = conditionsString;        \r\n  }\r\n\r\n  // When client paging active use for reterive paging data\r\n  pagingData(data) {\r\n    const p: MatPaginator = (this as any)._paginator;\r\n    if ( p && p !== null) {\r\n      const end = (p.pageIndex + 1) * p.pageSize;\r\n      const start = p.pageIndex * p.pageSize;\r\n      return data.slice(start, end);\r\n    }\r\n    return data;\r\n  }\r\n\r\n  _updateChangeSubscription() {\r\n    this.initStreams();\r\n    const sort: MatSort | null = (this as any)._sort;\r\n    const paginator: MatPaginator | null = (this as any)._paginator;\r\n    const internalPageChanges: Subject<void> = (this as any)._internalPageChanges;\r\n    const filter: BehaviorSubject<string> = (this as any)._filter;\r\n    const renderData: BehaviorSubject<T[]> = (this as any)._renderData;\r\n    const dataStream: BehaviorSubject<T[]> = (this as any)._data;\r\n\r\n    const sortChange: Observable<Sort | null | void> = sort ?\r\n      merge(sort.sortChange, sort.initialized) as Observable<Sort | void> : of(null);\r\n    const pageChange: Observable<PageEvent | null | void> = paginator ?\r\n      merge(paginator.page, internalPageChanges, paginator.initialized) as Observable<PageEvent | void> : of(null);\r\n\r\n    // First Filter\r\n    const filteredData = combineLatest([dataStream, filter]).pipe(map(([data]) => this._filterData(data)));\r\n    // Second Order\r\n    const orderedData = combineLatest([filteredData, sortChange]).pipe(map(([data]) => this._orderData(data)));\r\n    // Last Paging\r\n    const paginatedData = combineLatest([orderedData, pageChange]).pipe(map(([data]) => this.pagingData(data)));\r\n\r\n    this._renderChangesSubscription?.unsubscribe();\r\n    this._renderChangesSubscription = new Subscription();\r\n    this._renderChangesSubscription.add(paginatedData.subscribe(data => this.dataToRender$.next(data)));\r\n    this._renderChangesSubscription.add(this.dataOfRange$.subscribe(data => renderData.next(data)));\r\n  }\r\n\r\n  private initStreams() {\r\n    if (!this.streamsReady) {\r\n      this.dataToRender$ = new ReplaySubject<T[]>(1);\r\n      this.dataOfRange$ = new ReplaySubject<T[]>(1);\r\n      this.streamsReady = true;\r\n    }\r\n  }\r\n}\r\n\r\nexport interface HashMap<T> {\r\n  [key: string]: T;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { TableField } from '../models/table-field.model';\r\nimport { SelectionModel } from '@angular/cdk/collections';\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class TableService {\r\n  public tableName: string;\r\n\r\n  constructor() {}\r\n\r\n  /************************************* Local Export *****************************************/\r\n  static getFormattedTime() {\r\n    const today = new Date();\r\n    const y = today.getFullYear();\r\n    const m = today.getMonth() + 1;\r\n    const d = today.getDate();\r\n    const h = today.getHours();\r\n    const mi = today.getMinutes();\r\n    const s = today.getSeconds();\r\n    return y + \"-\" + m + \"-\" + d + \"-\" + h + \"-\" + mi + \"-\" + s;\r\n  }\r\n\r\n  // private downloadBlob(blob: any, filename: string) {\r\n  //   if (navigator.msSaveBlob) { // IE 10+\r\n  //     navigator.msSaveBlob(blob, filename);\r\n  //   } else {\r\n  //     const link = document.createElement('a');\r\n  //     if (link.download !== undefined) {\r\n  //       // Browsers that support HTML5 download attribute\r\n  //       const link = window.document.createElement('a');\r\n  //       const date = new Date();\r\n  //       link.className = 'download' + date.getUTCFullYear() + date.getUTCMonth() + date.getUTCSeconds();\r\n  //       link.setAttribute('href', blob);\r\n  //       link.setAttribute('download', filename);\r\n  //       link.style.visibility = 'hidden';\r\n  //       link.click();\r\n  //       // setTimeout(() => {\r\n  //       //   const g = document.body.getElementsByClassName(link.className);\r\n  //       //   document.body.removeChild(link);\r\n  //       // });\r\n  //     }\r\n  //   }\r\n  // }\r\n\r\n  private downloadBlob(blob: Blob | any, filename: string) {\r\n    if (navigator.msSaveBlob) {\r\n      // IE 10+\r\n      navigator.msSaveBlob(blob, filename);\r\n    } else {\r\n      const link = document.createElement(\"a\");\r\n      if (link.download !== undefined) {\r\n        // Browsers that support HTML5 download attribute\r\n        const url = URL.createObjectURL(blob);\r\n        link.setAttribute(\"href\", url);\r\n        link.setAttribute(\"download\", filename);\r\n        link.style.visibility = \"hidden\";\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n      }\r\n    }\r\n  }  \r\n\r\n  public exportToCsv<T>( columns: TableField<T>[], rows: object[], selectionModel: SelectionModel<any>, filename: string = \"\") {\r\n    filename = filename === \"\" ? this.tableName + TableService.getFormattedTime() + \".csv\" : filename;\r\n    if (!rows || !rows.length) {\r\n      return;\r\n    }    \r\n    const fields = columns.filter((c) => c.exportable !== false && c.display !== 'hiden');\r\n    const separator = \",\";\r\n    const CR_LF = \"\\n\"; //'\\u0D0A';\r\n    const keys = fields.map( f => f.name);\r\n    const headers = fields.map( f => f.header);\r\n    const csvContent = headers.join(separator) + CR_LF +\r\n      rows\r\n        .map((row) => {\r\n          return fields.map((f) => {              \r\n              let cell = f.toExport(row, \"csv\") || \"\";\r\n              cell = cell instanceof Date ? cell.toLocaleString() : cell.toString().replace(/\"/g, '\"\"');\r\n              if (cell.search(/(\"|,|\\n)/g) >= 0) {\r\n                cell = `\"${cell}\"`;\r\n              }\r\n              return cell;\r\n            }).join(separator);\r\n        }).join(CR_LF);\r\n    \r\n    const blob = new Blob([\r\n      new Uint8Array([0xEF, 0xBB, 0xBF]), /* UTF-8 BOM */\r\n      csvContent], {type : 'text/csv;charset=utf-8'});    \r\n    this.downloadBlob(blob, filename);\r\n  }\r\n\r\n  public exportToJson(rows: object[], filename: string = \"\") {\r\n    filename =\r\n      filename === \"\"\r\n        ? this.tableName + TableService.getFormattedTime() + \".json\"\r\n        : filename;\r\n    const blob = new Blob([JSON.stringify(rows)], {\r\n      type: \"text/csv;charset=utf-8;\",\r\n    });\r\n    this.downloadBlob(blob, filename);\r\n  }\r\n\r\n  /************************************* Save Setting into storage *****************************************/\r\n  public loadSavedColumnInfo(\r\n    columnInfo: TableField<any>[],\r\n    saveName?: string\r\n  ): TableField<any>[] {\r\n    // Only load if a save name is passed in\r\n    if (saveName) {\r\n      if (!localStorage) {\r\n        return;\r\n      }\r\n\r\n      const loadedInfo = localStorage.getItem(`${saveName}-columns`);\r\n\r\n      if (loadedInfo) {\r\n        return JSON.parse(loadedInfo);\r\n      }\r\n      this.saveColumnInfo(columnInfo);\r\n      return columnInfo;\r\n    }\r\n  }\r\n\r\n  public saveColumnInfo(\r\n    columnInfo: TableField<any>[],\r\n    saveName: string = this.tableName\r\n  ): void {\r\n    // console.log(saveName);\r\n    if (saveName) {\r\n      if (!localStorage) {\r\n        return;\r\n      }\r\n\r\n      localStorage.setItem(`${saveName}-columns`, JSON.stringify(columnInfo));\r\n    }\r\n  }\r\n}\r\n","import { IRowEvent, IRowActionMenuEvent, TableRow, TableSelectionMode, ITableEvent } from '../models/table-row.model';\r\nimport { TableVirtualScrollDataSource } from './table-data-source';\r\nimport { ViewChild, Input, Output, EventEmitter, HostBinding, ChangeDetectorRef, ElementRef } from '@angular/core';\r\nimport { TableField } from '../models/table-field.model';\r\nimport { titleCase } from '../utilies/text.utils';\r\nimport { CdkVirtualScrollViewport } from '@angular/cdk/scrolling';\r\nimport { moveItemInArray } from '@angular/cdk/drag-drop';\r\nimport { SelectionModel } from '@angular/cdk/collections';\r\nimport { TableService } from '../dynamic-mat-table/dynamic-mat-table.service';\r\nimport { TablePagination, TablePaginationMode } from '../models/table-pagination.model';\r\nimport { PrintConfig } from '../models/print-config.model';\r\nimport { TableSetting, Direction } from '../models/table-setting.model';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatTable } from '@angular/material/table';\r\nimport { Directive } from '@angular/core';\r\nimport { clone, getObjectProp, isNullorUndefined } from './type';\r\nimport { TableScrollStrategy } from './fixed-size-table-virtual-scroll-strategy';\r\nimport { ContextMenuItem } from '../models/context-menu.model';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: '[core]'\r\n})\r\nexport class TableCoreDirective<T extends TableRow> {\r\n  @ViewChild(MatSort, { static: true }) sort: MatSort;\r\n  @ViewChild(MatPaginator, { static: true }) paginator: MatPaginator; \r\n  @Input() public dataSource: BehaviorSubject<any[]>;\r\n  @Input() backgroundColor: string = null;\r\n  @Input()\r\n  @HostBinding('style.direction')\r\n  get direction(): Direction {\r\n    return this.tableSetting?.direction;\r\n  }\r\n  set direction(value: Direction) {\r\n    this.tableSetting.direction = value;\r\n  }\r\n\r\n  @Input() contextMenuItems: ContextMenuItem[] = [];\r\n  @Input()\r\n  get ScrollStrategyType() {\r\n    return this.tableSetting.scrollStrategy;\r\n  }\r\n  set ScrollStrategyType(value: TableScrollStrategy) {        \r\n    this.viewport['_scrollStrategy'].scrollStrategyMode = value;\r\n    this.tableSetting.scrollStrategy = value;\r\n  }\r\n\r\n  @Input()\r\n  get pagingMode() {\r\n    return this.tablePagingMode;\r\n  }\r\n  set pagingMode(value: TablePaginationMode) {\r\n    this.tablePagingMode = value;\r\n    this.updatePagination();\r\n  }\r\n\r\n  @Input()\r\n  get pagination() {\r\n    return this._tablePagination;\r\n  }\r\n  set pagination(value: TablePagination) {\r\n    if (value && value !== null) {\r\n      this._tablePagination = value;\r\n      if ( isNullorUndefined(this._tablePagination.pageSizeOptions)) {\r\n        this._tablePagination.pageSizeOptions = [5, 10, 25, 100];\r\n      }\r\n      if ( isNullorUndefined(this._tablePagination.pageSizeOptions)) {\r\n        this._tablePagination.pageSize = this._tablePagination.pageSizeOptions[0];\r\n      }\r\n      this.updatePagination();\r\n    }\r\n  } \r\n\r\n  @Input()\r\n  get rowSelectionModel() {\r\n    return this._rowSelectionModel;\r\n  }\r\n  set rowSelectionModel(value: SelectionModel<T>) { \r\n    if (!isNullorUndefined(value)) {\r\n      if (this._rowSelectionMode && value && this._rowSelectionMode !== 'none') {\r\n        this._rowSelectionMode = (value.isMultipleSelection() === true ? 'multi': 'single');\r\n      }\r\n      this._rowSelectionModel = value;\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  get rowSelectionMode() {\r\n    return this._rowSelectionMode;\r\n  }\r\n  set rowSelectionMode(selection: TableSelectionMode) {    \r\n    selection = selection || 'none';\r\n    this._rowSelectionModel = selection === 'none' ? null : new SelectionModel<T>(selection === 'multi', []);    \r\n    if(selection === 'none' && this._rowSelectionMode !== 'none' && this.displayedColumns[0] === 'row-checkbox') {\r\n      this.displayedColumns.shift();            \r\n      this.saveSetting(this.tableSetting,false);\r\n    } else if(selection !== 'none' && this._rowSelectionMode === 'none') {\r\n      this.displayedColumns.unshift('row-checkbox');            \r\n      this.saveSetting(this.tableSetting,false);\r\n    }\r\n    this._rowSelectionMode = selection;    \r\n  }\r\n\r\n  @Input()\r\n  get tableName() {\r\n    return this.tableService.tableName;\r\n  }\r\n  set tableName(value: string) {\r\n    this.tableService.tableName = value;\r\n  }\r\n\r\n  @Input()\r\n  get showProgress() {\r\n    return this.progressColumn.length > 0;\r\n  }\r\n  set showProgress(value: boolean) {\r\n    this.progressColumn = [];\r\n    if (value === true) {\r\n      this.progressColumn.push('progress');\r\n    }\r\n  } \r\n\r\n  // private totalRecord = 0;\r\n\r\n  // @Input() \r\n  // get dataSource() {    \r\n  //   if(isNullorUndefined(this.tvsDataSource)) {      \r\n  //     return null;\r\n  //   }    \r\n  //   if (this.totalRecord !== this.tvsDataSource.allData.length) {      \r\n  //     this.initSystemField(this.tvsDataSource.allData);\r\n  //   }\r\n  //   return this.tvsDataSource;\r\n  // } \r\n  // set dataSource(value: TableVirtualScrollDataSource<T>) {           \r\n  //   this.clear();    \r\n  //   if (!isNullorUndefined(value)) {      \r\n  //     this.initSystemField(value.data);\r\n  //     this.tvsDataSource = value;\r\n  //     this.tvsDataSource.sort = this.sort;\r\n  //     (this.tvsDataSource as any)._paginator = value;      \r\n  //   } \r\n  // }\r\n\r\n  protected initSystemField(data: any[]) {    \r\n    data = data.map( (item, index) => {\r\n      item.id = index ;\r\n      item.option = item.option || {};      \r\n      return item;\r\n    });\r\n  }\r\n\r\n  public expandColumn = [];\r\n  private _expandComponent: any;\r\n  @Input()\r\n  get expandComponent(): any {    \r\n    return this._expandComponent;\r\n  }\r\n  set expandComponent(value: any) {    \r\n    this._expandComponent = value;\r\n    if (this._expandComponent !== null && this._expandComponent !== undefined) {\r\n      this.expandColumn = ['expandedDetail'];\r\n    } else {\r\n      this.expandColumn = [];\r\n    }\r\n  }\r\n\r\n  @Input() public rowContextMenuItems: ContextMenuItem[];\r\n  @Input() defaultWidth: number = null;\r\n  @Input() minWidth = 120;\r\n  @Input()\r\n  get columns() {\r\n    return this.tableColumns;\r\n  }\r\n  set columns(fields: TableField<T>[]) {\r\n    (fields || []).forEach((f, i) => {\r\n      // key name error //\r\n      if (f.name.toLowerCase() === 'id') {\r\n        throw 'Field name is reserved.[\"id\"]';\r\n      }      \r\n      const settingFields = (this.tableSetting.columnSetting || []).filter(s => s.name === f.name);\r\n      const settingField = settingFields.length > 0 ? settingFields[0] : null;\r\n      // default value for fields\r\n      f.printable = f.printable || true;\r\n      f.exportable = f.exportable || true;\r\n      f.toExport = f.toExport || ((value, type) => typeof value === 'object' ? null : value || '');\r\n      f.toPrint = (value) =>  typeof value === 'object' ? null : value || '';\r\n      f.enableContextMenu = f.enableContextMenu || true;\r\n      f.header = f.header || titleCase(f.name);\r\n      f.display = getObjectProp('display', 'visible' , settingField, f );\r\n      f.filter = getObjectProp('filter', 'client-side' , settingField, f );\r\n      f.sort = getObjectProp('sort', 'client-side' , settingField, f );\r\n      f.sticky = getObjectProp('sticky', 'none' , settingField, f );\r\n      f.width =  getObjectProp('width', this.defaultWidth , settingField, f );\r\n    });\r\n    this.tableColumns = fields;   \r\n    this.updateColumn();     \r\n  }\r\n\r\n  public updateColumn() {\r\n    if (isNullorUndefined(this.tableSetting.columnSetting)) {\r\n      this.tableSetting.columnSetting = clone(this.tableColumns);\r\n      this.refreshTableSetting();\r\n    }\r\n    this.setDisplayedColumns();\r\n  }\r\n\r\n  /*************************************** I/O parameters *********************************/\r\n  @Input() printConfig: PrintConfig = {};  \r\n  @Input() sticky: boolean;\r\n  @Input() pending: boolean;\r\n  @Input() rowHeight = 48;\r\n  @Input() headerHeight = 56;\r\n  @Input() footerHeight = 48;\r\n  @Input() headerEnable = true;\r\n  @Input() footerEnable = false;\r\n  @Input() showNoData: boolean;\r\n  @Input() showReload: boolean;  \r\n  // tslint:disable-next-line: no-output-on-prefix\r\n  @Output() onTableEvent: EventEmitter<ITableEvent> = new EventEmitter();\r\n  @Output() onRowEvent: EventEmitter<IRowEvent> = new EventEmitter();\r\n  @Output() settingChange: EventEmitter<any> = new EventEmitter();\r\n  @Output() paginationChange: EventEmitter<TablePagination> = new EventEmitter();\r\n  \r\n\r\n  //**this event is deperact and move to onRowEvent */\r\n  // @Output() rowActionMenuChange: EventEmitter<IRowActionMenuEvent<any>> = new EventEmitter();\r\n  \r\n  /*************************************** Expand Row *********************************/\r\n  expandedElement: TableRow | null;\r\n\r\n  constructor(public tableService: TableService, public cdr: ChangeDetectorRef) {    \r\n    this.showProgress = true;\r\n    this.tableSetting = {\r\n      direction: 'ltr',\r\n      columnSetting: null,\r\n      visibaleActionMenu: null\r\n    };\r\n  }\r\n\r\n  // Variables //\r\n  progressColumn: string[] = [];\r\n  displayedColumns: string[] = [];\r\n  // private menus: TableMenu[] = [];\r\n  public tableColumns: TableField<T>[];\r\n  public tvsDataSource: TableVirtualScrollDataSource<T> = new TableVirtualScrollDataSource<T>([]);\r\n\r\n  private _rowSelectionMode: TableSelectionMode;\r\n  private _rowSelectionModel = new SelectionModel<T>(true, []);\r\n  private _tablePagination: TablePagination = { };\r\n  public tablePagingMode: TablePaginationMode  = 'none';\r\n  public viewportClass: 'viewport' | 'viewport-with-pagination' = 'viewport-with-pagination';\r\n  tableSetting: TableSetting;\r\n\r\n  /**************************************** Refrence Variables ***************************************/\r\n  @ViewChild(MatTable, { static: true }) table !: MatTable<any>;\r\n  @ViewChild(CdkVirtualScrollViewport, { static: true }) viewport !: CdkVirtualScrollViewport;    \r\n  /**************************************** Methods **********************************************/\r\n\r\n  refreshTableSetting() {\r\n    // this.tableSetting = clone(this.tableSetting);\r\n  }\r\n\r\n  updatePagination() {    \r\n    if (isNullorUndefined(this.tvsDataSource)){\r\n      return;\r\n    }      \r\n    if (this.tablePagingMode === 'client-side' || this.tablePagingMode === 'server-side') {\r\n      this.viewportClass = 'viewport-with-pagination';\r\n      if ( !isNullorUndefined(this.tvsDataSource.paginator)) {\r\n        let dataLen = this.tvsDataSource.paginator.length;\r\n        if (!isNullorUndefined(this._tablePagination.length) && this._tablePagination.length > dataLen) {\r\n          dataLen = this._tablePagination.length;\r\n        }\r\n        this.tvsDataSource.paginator.length = dataLen;\r\n      } \r\n    } else {\r\n      this.viewportClass = 'viewport';\r\n      if ((this.tvsDataSource as any)._paginator !== undefined) {\r\n        delete (this.tvsDataSource as any)._paginator;\r\n      }\r\n    } \r\n    this.tvsDataSource.refreshFilterPredicate();\r\n  }\r\n\r\n  public clear() {\r\n    if (!isNullorUndefined(this.tvsDataSource)) {\r\n      if (this.viewport) {\r\n        this.viewport.scrollTo({ top: 0, behavior: 'auto' });\r\n      }\r\n      this.tvsDataSource.clearData();\r\n      this.expandedElement = null;\r\n    }\r\n    if(this._rowSelectionModel) {\r\n      this._rowSelectionModel.clear();\r\n    }\r\n    this.cdr.detectChanges()\r\n  }  \r\n \r\n  setDisplayedColumns() {    \r\n    if (this.columns) {\r\n      this.displayedColumns = [];\r\n      this.columns.forEach((colunm, index) => {\r\n        colunm.index = index;\r\n        if (colunm.display === undefined || colunm.display === 'visible' || colunm.display === 'prevent-hidden') {\r\n          this.displayedColumns.push(colunm.name);\r\n        }        \r\n      }); \r\n      //bugfixed because of double header show\r\n      // if ((this._rowSelectionMode === 'multi' || this._rowSelectionMode === 'single') && this.displayedColumns.indexOf('row-checkbox') === -1) {\r\n      //   this.displayedColumns.unshift('row-checkbox');\r\n      // } \r\n      setTimeout( () => {\r\n        if ((this._rowSelectionMode === 'multi' || this._rowSelectionMode === 'single') && this.displayedColumns.indexOf('row-checkbox') === -1) {\r\n          this.displayedColumns.unshift('row-checkbox');\r\n        }\r\n      }, 0); \r\n\r\n      if (this.tableSetting.visibleTableMenu !== false) {\r\n        this.displayedColumns.push('table-menu');\r\n      }\r\n    }\r\n    // this.updatePagination();\r\n  }\r\n\r\n  /************************************ Drag & Drop Column *******************************************/ \r\n  public refreshGrid() {\r\n    this.cdr.detectChanges()\r\n    this.table.renderRows();\r\n  }\r\n\r\n  public moveRow(from: number, to: number) {\r\n    if (from >= 0 && from < this.tvsDataSource.data.length  && to >= 0 && to < this.tvsDataSource.data.length ) {      \r\n      this.tvsDataSource.data[from].id = to;\r\n      this.tvsDataSource.data[to].id = from;        \r\n      moveItemInArray(this.tvsDataSource.data, from, to);\r\n      this.tvsDataSource.data = Object.assign([], this.tvsDataSource.data);\r\n    }\r\n  }\r\n\r\n  moveColumn(from: number, to: number) {\r\n    setTimeout(() => {\r\n      moveItemInArray(this.columns, from, to);\r\n      this.refreshColumn(this.columns);\r\n    });\r\n  }\r\n\r\n  refreshColumn(columns: TableField<T>[]) {\r\n    if (this.viewport) {      \r\n      const currentOffset = this.viewport.measureScrollOffset();\r\n      this.columns = columns;\r\n      this.setDisplayedColumns();\r\n      setTimeout(() => this.viewport.scrollTo({ top: currentOffset, behavior: 'auto' }), 0);\r\n    }\r\n  }\r\n\r\n  saveSetting(tableSetting: TableSetting, raiseEvent: boolean = false) {    \r\n    if (tableSetting !== null) {\r\n      this.tableSetting = tableSetting;\r\n      this.refreshColumn(tableSetting.columnSetting);\r\n    }\r\n    if (raiseEvent === true) {\r\n      this.settingChange.emit(this.tableSetting);\r\n    }\r\n  }\r\n\r\n  /************************************ Selection Table Row *******************************************/\r\n\r\n  /** Whether the number of selected elements matches the total number of rows. */\r\n  isAllSelected() {\r\n    const numSelected = this._rowSelectionModel.selected.length;\r\n    const numRows = this.tvsDataSource.data.length;\r\n    return numSelected === numRows;\r\n  }\r\n\r\n  /** Selects all rows if they are not all selected; otherwise clear selection. */\r\n  masterToggle() {\r\n    this.isAllSelected() ?\r\n      this._rowSelectionModel.clear() :\r\n      this.tvsDataSource.data.forEach(row => this._rowSelectionModel.select(row));    \r\n    this.onRowEvent.emit({ event: 'MasterSelectionChange', sender:  this._rowSelectionModel});\r\n  }\r\n\r\n  onRowSelectionChange(e: any, row: T) {\r\n    if (e) {      \r\n      this._rowSelectionModel.toggle(row);\r\n      this.onRowEvent.emit({ event: 'RowSelectionChange', sender:  this._rowSelectionModel});\r\n    }\r\n  }\r\n\r\n  /** The label for the checkbox on the passed row */\r\n  // checkboxLabel(row?: T): string {\r\n  //   if (!row) {\r\n  //     return `${this.isAllSelected() ? 'select' : 'deselect'} all`;\r\n  //   }\r\n  //   return `${this._rowSelectionModel.isSelected(row) ? 'deselect' : 'select'} row ${row.id + 1}`;\r\n  // } \r\n\r\n}\r\n\r\n","export abstract class AbstractFilter<T = any> {\r\n  /*\r\n    type variable is array because in future may be\r\n    control have two or more parameters such as ranger[from, to]\r\n  */\r\n  public parameters?: [{value: T, text: string}];\r\n  public type: 'and' | 'or';\r\n  abstract selectedIndex: number;\r\n  abstract readonly selectedValue: FilterOperation;\r\n  abstract toString(dynamicVariable: any): string;\r\n  abstract toPrint(): string;\r\n  abstract toSql(): string;\r\n  abstract getOperations(): FilterOperation[];\r\n  public hasValue() {\r\n    if (this.parameters !== null) {\r\n      return this.parameters.filter( p => p.value != null && p.value !== undefined && p.value.toString() !== '').length > 0;\r\n    }\r\n  }\r\n}\r\n\r\nexport  interface FilterOperation {\r\n  predicate: string;\r\n  text: string;\r\n}\r\n","import { AbstractFilter, FilterOperation } from './abstract-filter';\r\nimport { TableIntl } from '../../../../international/table-Intl';\r\n\r\nconst contains = 'a.toString().includes(b)';\r\nconst equals = 'a.toString() === b.toString()';\r\nconst startsWith = 'a.toString().startsWith(b)';\r\nconst endsWith = 'a.toString().endsWith(b.toString())';\r\nconst empty = '!a';\r\nconst notEmpty = '!!a';\r\nconst operations = [contains, equals, startsWith, endsWith, empty, notEmpty];\r\n\r\nexport class TextFilter extends AbstractFilter<string> {\r\n  private static sql = ['LIKE \"%[*]%\"', '= \"[*]\"', 'LIKE \"%[*]\"', 'LIKE \"[*]%\"', 'IS NULL', 'IS NOT NULL'];\r\n  private static operationList: FilterOperation[] = [];\r\n\r\n  constructor(public languagePack: TableIntl) {\r\n    super();\r\n    this._selectedIndex = 0;\r\n    if ( TextFilter.operationList.length === 0) { // init for first time\r\n      operations.forEach(fn => {\r\n        TextFilter.operationList.push({ predicate: fn, text: null});\r\n      });\r\n    }\r\n    TextFilter.operationList[0].text = languagePack.filterLabels.TextContains;    // contains //\r\n    TextFilter.operationList[1].text = languagePack.filterLabels.TextEquals;      // equals //\r\n    TextFilter.operationList[2].text = languagePack.filterLabels.TextStartsWith;  // startsWith //\r\n    TextFilter.operationList[3].text = languagePack.filterLabels.TextEndsWith;    // endsWith //\r\n    TextFilter.operationList[4].text = languagePack.filterLabels.TextEmpty;       // empty //\r\n    TextFilter.operationList[5].text = languagePack.filterLabels.TextNotEmpty;    // notEmpty //\r\n  }\r\n\r\n  // tslint:disable-next-line:variable-name\r\n  private _selectedIndex: number = null;\r\n  get selectedIndex(): number {\r\n    return this._selectedIndex;\r\n  }\r\n  set selectedIndex(value: number) {\r\n    this._selectedIndex = value;\r\n    // init filter parameters\r\n    if (value === 0 || value === 1 || value === 2 || value === 3 ) { // contains equals startsWith endsWith\r\n      this.parameters = [{ value: '', text: this.languagePack.filterLabels.Text }];\r\n    } else { // empty notEmpty\r\n      this.parameters = null;\r\n    }\r\n  }\r\n\r\n  get selectedValue(): FilterOperation {\r\n    if (this._selectedIndex !== null) {\r\n      return TextFilter.operationList[this._selectedIndex];\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public getOperations(): FilterOperation[] {\r\n    return TextFilter.operationList;\r\n  }\r\n\r\n  public toString(dynamicVariable: any): string {\r\n    const a = '_a$';\r\n    const b = '_b$';\r\n    const predicate = this.selectedValue.predicate.replace('a', a).replace('b', b);\r\n    const statement = predicate.replace(a, `${a}['${dynamicVariable}']?.toString()?.toLowerCase()`);\r\n    // one static parameters equals  notEquals greaterThan lessThan //\r\n    if (this._selectedIndex === 0 ||\r\n      this._selectedIndex === 1 ||\r\n      this._selectedIndex === 2 ||\r\n      this._selectedIndex === 3 ) {\r\n        const value = '\\'' + (this.parameters[0].value !== null ? this.parameters[0].value.toLowerCase() : ' null ') + '\\'';\r\n        return statement.replace('_b$', value);\r\n    } else { // without static parameters\r\n      return statement;\r\n    }\r\n  }\r\n\r\n  public toPrint(): string {\r\n    return TextFilter.operationList[this._selectedIndex].text + ' ' + this.parameters[0].value + ' ' + (this.type || '') + ' ';\r\n  }\r\n\r\n  public toSql(): string {\r\n    return TextFilter.sql[this._selectedIndex].replace('[*]', (this.parameters[0].value || '')) + (this.type || '') + ' ';\r\n  }\r\n}\r\n\r\n","import { AbstractFilter, FilterOperation } from './abstract-filter';\r\nimport { TableIntl } from '../../../../international/table-Intl';\r\n\r\nconst equals = 'a === b';\r\nconst notEquals = 'a !== b';\r\nconst greaterThan = 'a > b';\r\nconst lessThan = 'a < b';\r\nconst empty = '!a';\r\nconst notEmpty = '!!a';\r\nconst operations = [equals, notEquals, greaterThan, lessThan, empty, notEmpty];\r\n\r\nexport class NumberFilter extends AbstractFilter<number> {\r\n  private static sql = ['=', '<>', '>', '<', 'IS NULL', 'IS NOT NULL'];\r\n  private static operationList: FilterOperation[] = [];\r\n  // private languageText: LanguagePack;\r\n\r\n  constructor(public languagePack: TableIntl) {\r\n    super();\r\n    if ( NumberFilter.operationList.length === 0) {\r\n      operations.forEach(fn => {\r\n        NumberFilter.operationList.push({ predicate: fn, text: null});\r\n      });\r\n    }\r\n    NumberFilter.operationList[0].text = languagePack.filterLabels.NumberEquals;      // equals //\r\n    NumberFilter.operationList[1].text = languagePack.filterLabels.NumberNotEquals;   // notEquals //\r\n    NumberFilter.operationList[2].text = languagePack.filterLabels.NumberGreaterThan; // greaterThan //\r\n    NumberFilter.operationList[3].text = languagePack.filterLabels.NumberLessThan;    // lessThan //\r\n    NumberFilter.operationList[4].text = languagePack.filterLabels.NumberEmpty;       // empty //\r\n    NumberFilter.operationList[5].text = languagePack.filterLabels.NumberNotEmpty;    // notEmpty //\r\n  }\r\n\r\n  // tslint:disable-next-line:variable-name\r\n  private _selectedIndex: number = null;\r\n  get selectedIndex(): number {\r\n    return this._selectedIndex;\r\n  }\r\n  set selectedIndex(value: number) {\r\n    this._selectedIndex = value;\r\n    // init filter parameters\r\n    if (value === 0 || value === 1 || value === 2 || value === 3 ) { // equals notEquals greaterThan lessThan\r\n      this.parameters = [{ value: null, text: this.languagePack.filterLabels.Number }];\r\n    } else { // empty notEmpty\r\n      this.parameters = null;\r\n    }\r\n  }\r\n\r\n  get selectedValue(): FilterOperation {\r\n    if (this._selectedIndex !== null) {\r\n      return NumberFilter.operationList[this._selectedIndex];\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public getOperations(): FilterOperation[] {\r\n    return NumberFilter.operationList;\r\n  }\r\n\r\n  public toString(dynamicVariable: any): string {\r\n    const a = '_a$';\r\n    const b = '_b$';\r\n    const predicate = this.selectedValue.predicate.replace('a', a).replace('b', b);\r\n    const statement = predicate.replace(a, `${a}['${dynamicVariable}']`);\r\n    // one static variable (equals, notEquals,greaterThan,lessThan)\r\n    if (this._selectedIndex === 0 ||\r\n      this._selectedIndex === 1 ||\r\n      this._selectedIndex === 2 ||\r\n      this._selectedIndex === 3 ) {\r\n        const value = this.parameters[0].value ? this.parameters[0].value.toString() : ' null ';\r\n        return statement.replace(b, value);\r\n    } else { // none static variable (empty, notEmpty)\r\n      return statement;\r\n    }\r\n  }\r\n\r\n  public toPrint(): string {\r\n    return NumberFilter.operationList[this._selectedIndex].text + ' ' + this.parameters[0].value + ' ' + (this.type || '') + ' ';\r\n  }\r\n\r\n  public toSql(): string {\r\n    return NumberFilter.sql[this._selectedIndex] + ' ' + (this.parameters[0].value || '') + ' ' + (this.type || '') + ' ';\r\n  }\r\n}\r\n","import { LanguagePack, TableLabels, FilterLabels, MenuLabels } from '../models/language-pack.model';\r\nimport { Injectable } from '@angular/core';\r\nimport { MatPaginatorIntl } from '@angular/material/paginator';\r\nimport { Subject } from 'rxjs';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TableIntl implements LanguagePack {\r\n  menuLabels: MenuLabels = {\r\n    saveData: 'Save Data',\r\n    fullScreen: 'Full Screen',\r\n    \r\n    columnSetting: 'Column Setting',\r\n    saveTableSetting: 'Save Table Setting',\r\n    clearFilter: 'Clear Filter',\r\n    jsonFile: 'Json File',\r\n    csvFile: 'CSV File',\r\n    printTable: 'Print Table',\r\n    filterMode: 'Filter Mode:',\r\n    filterLocalMode: 'Local',\r\n    filterServerMode: 'Server',\r\n    sortMode: 'Sort Mode:',\r\n    sortLocalMode: 'Local',\r\n    sortServerMode: 'Server',\r\n    printMode: 'Print Mode',\r\n    printYesMode: 'Yes',\r\n    printNoMode: 'No',\r\n    pinMode: 'Pin Mode:',\r\n    pinNoneMode: 'None',\r\n    pinStartMode: 'Start',\r\n    pinEndMode: 'End',\r\n    thereIsNoColumn: 'There is no column.'\r\n  };\r\n\r\n  paginatorLabels: MatPaginatorIntl = {\r\n    changes:  new Subject<void>(),\r\n    itemsPerPageLabel: 'Items per page:',\r\n    nextPageLabel: 'Next Page:',\r\n    previousPageLabel: 'Previous Page:',\r\n    firstPageLabel: 'First Page:',\r\n    lastPageLabel: 'Last Page:',\r\n    getRangeLabel : (page: number, pageSize: number, length: number) => {\r\n      if (length === 0 || pageSize === 0) { return `0 of ${length}`; }\r\n      length = Math.max(length, 0);\r\n      const startIndex = page * pageSize;\r\n      const endIndex = startIndex < length ?\r\n          Math.min(startIndex + pageSize, length) :\r\n          startIndex + pageSize;\r\n      return `${startIndex + 1} - ${endIndex} of ${length}`;\r\n    }\r\n  };\r\n\r\n  tableLabels: TableLabels =\r\n  {\r\n    NoData: 'No records found.'\r\n  };\r\n\r\n  filterLabels: FilterLabels = {\r\n    Clear: 'Clear',\r\n    Search: 'Search',\r\n    And: 'And',\r\n    Or: 'Or',\r\n    /* Text Compare */\r\n    Text: 'Text',\r\n    TextContains: 'Contains',\r\n    TextEmpty: 'Empty',\r\n    TextStartsWith: 'Starts With',\r\n    TextEndsWith: 'Ends With',\r\n    TextEquals: 'Equals',\r\n    TextNotEmpty: 'Not Empty',\r\n    /* Number Compare */\r\n    Number: 'Number',\r\n    NumberEquals: 'Equals',\r\n    NumberNotEquals: 'Not Equals',\r\n    NumberGreaterThan: 'Greater Than',\r\n    NumberLessThan: 'Less Than',\r\n    NumberEmpty: 'Empty',\r\n    NumberNotEmpty: 'Not Empty',\r\n    /* Category List Compare */\r\n    CategoryContains: 'Contains',\r\n    CategoryNotContains: 'Not Contains',\r\n    /* Boolean Compare */\r\n    /* Date Compare */\r\n  };\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import { AfterViewInit, ChangeDetectionStrategy, Component, HostBinding, Output, ViewChild,\r\n         Input, EventEmitter, OnInit, ChangeDetectorRef, QueryList, ViewChildren, OnDestroy, ContentChildren } from '@angular/core';\r\nimport { TableField } from './../../../models/table-field.model';\r\nimport { TableService } from '../../dynamic-mat-table.service';\r\nimport { TextFilter } from './compare/text-filter';\r\nimport { NumberFilter } from './compare/number-filter';\r\nimport { AbstractFilter } from './compare/abstract-filter';\r\nimport { transition, trigger, query, style, stagger, animate } from '@angular/animations';\r\nimport { TableIntl } from '../../../international/table-Intl';\r\nimport { MatInput } from '@angular/material/input';\r\nimport { MatMenuTrigger } from '@angular/material/menu';\r\nimport { isNullorUndefined } from '../../../cores/type';\r\nimport { Subscription } from 'rxjs';\r\n\r\nconst listAnimation = trigger('listAnimation', [\r\n  transition('* <=> *', [\r\n    query(':enter',\r\n      [style({ opacity: 0 }), stagger('10ms', animate('400ms ease-out', style({ opacity: 1 })))],\r\n      { optional: true }\r\n    ),\r\n  ])\r\n]);\r\n\r\n@Component({\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'header-filter',\r\n  templateUrl: './header-filter.component.html',\r\n  styleUrls: ['./header-filter.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  animations: [listAnimation]\r\n})\r\nexport class HeaderFilterComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  @Input() field?: TableField<any>;\r\n  @Output() filterChanged: EventEmitter<AbstractFilter[]> = new EventEmitter<AbstractFilter[]>();\r\n\r\n  @ContentChildren('filterInput') filterInputList !: QueryList<MatInput>;\r\n  @ViewChild(MatMenuTrigger, { static: true }) menu !: MatMenuTrigger;\r\n\r\n  private filterList: AbstractFilter[] = [];\r\n  private eventsSubscription: Subscription;\r\n  @Input()\r\n  get filters(): AbstractFilter[] {\r\n    if ( isNullorUndefined(this.filterList) === true || this.filterList.length === 0) {\r\n      this.filterList = [];\r\n      this.addNewFilter(this.field.type || 'text');\r\n    }\r\n    return this.filterList;\r\n  }\r\n  set filters(values: AbstractFilter[]) {\r\n    this.filterList = values;\r\n  }\r\n\r\n  @HostBinding('class.has-value')\r\n  get hasValue(): boolean {\r\n    return this.filters && this.filters.filter( f => f.hasValue() === true).length > 0;\r\n  }\r\n\r\n  @HostBinding('class.show-trigger')\r\n  get showTrigger(): boolean {\r\n    if(this.menu === undefined) { \r\n      return false;\r\n    } else {\r\n      return this.menu.menuOpen || this.hasValue;\r\n    }\r\n  }\r\n\r\n  constructor(public languagePack: TableIntl, public service: TableService, private cdr: ChangeDetectorRef) {\r\n  }\r\n\r\n  ngOnDestroy(): void {    \r\n    if (this.eventsSubscription) {\r\n      this.eventsSubscription.unsubscribe();\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (isNullorUndefined(this.filters)) {\r\n      this.filters = [];\r\n      this.addNewFilter(this.field.type);\r\n    }\r\n  }\r\n\r\n  addNewFilter(type: string = 'text') {\r\n    switch (type || 'text') {\r\n      case 'text': {\r\n        this.filterList.push(new TextFilter(this.languagePack));\r\n        break;\r\n      }\r\n      case 'number': {\r\n        this.filterList.push(new NumberFilter(this.languagePack));\r\n        break;\r\n      }\r\n      case 'date': {\r\n        // this.compare = new DateCompare(service);\r\n        break;\r\n      }\r\n      case 'boolean': {\r\n        // this.compare = new BooleanCompare(service);\r\n        break;\r\n      }\r\n      default: this.filterList.push(new TextFilter(this.languagePack));\r\n    }\r\n    this.filters[this.filters.length - 1].selectedIndex = 0;\r\n    return this.filters[this.filters.length - 1];\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    if (this.menu) {\r\n      this.eventsSubscription = this.menu.menuOpened.subscribe(() => this.focusToLastInput());\r\n    }\r\n  }\r\n\r\n  focusToLastInput() {\r\n    setTimeout(() => {\r\n      if (this.filterInputList.length > 0) {\r\n        this.filterInputList.last.focus();\r\n      }\r\n    });\r\n  }\r\n\r\n  filterAction_OnClick(index, action) {\r\n    if (action === 0 || action === 1) { // and or\r\n      this.filters[index].type = action === 0 ? 'and' : 'or';\r\n      if (this.filters.length === index + 1) {\r\n        this.addNewFilter(this.field.type);\r\n        this.focusToLastInput();\r\n      }\r\n    } else if (action === 2 && this.filters.length > 1) { // delete\r\n      setTimeout(() => {\r\n        this.filters.splice(index, 1);\r\n        this.cdr.detectChanges();\r\n        this.focusToLastInput();\r\n      }); // bug for delete filter item(unwanted reaction close menu)\r\n    }\r\n  }\r\n\r\n  clearColumn_OnClick() {\r\n    this.filterList = [];\r\n    this.filterChanged.emit(this.filterList);\r\n  }\r\n\r\n  applyFilter_OnClick() {\r\n    this.filterChanged.emit(this.filterList);\r\n  }\r\n\r\n}\r\n\r\n","import { Component, OnInit, ViewChild, ElementRef, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { PrintConfig } from '../../../models/print-config.model';\r\n\r\n// tslint:disable-next-line:max-line-length\r\nconst styles = 'body{margin:15px;}table{width:100%;border-collapse:collapse;}h2{text-align:center;}th.mat-header-cell{text-align:center;}div{text-align:center;margin:30px }tr{border-bottom:1px solid }td,th{padding:10px; text-align: center }.param-list{text-align: left;border:solid gray;border-width: 0px 0px 2px 0;margin-bottom: 10px;padding-bottom: 10px;}.param {display: inline-block;margin: 10px;}';\r\n\r\n@Component({\r\n  // tslint:disable-next-line: component-selector\r\n  selector: 'print-dialog',\r\n  templateUrl: './print-dialog.component.html',\r\n  styleUrls: ['./print-dialog.component.scss']\r\n})\r\nexport class PrintTableDialogComponent implements OnInit {\r\n  @ViewChild('printContentRef', {static: true}) printContentRef !: ElementRef;\r\n\r\n  constructor( public dialogRef: MatDialogRef<PrintTableDialogComponent>, @Inject(MAT_DIALOG_DATA) public printTable: PrintConfig) {}\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  print() {\r\n    setTimeout(() => {\r\n      const dialogConfig = 'width=600,height=700,scrollbars=no,menubar=no,toolbar=no,location=no,status=no,titlebar=no';\r\n      const printDoc = `\r\n    <html>\r\n      <head>\r\n        <style> ${styles} </style>\r\n      </head>\r\n      <body onload=\"window.print();\" onafterprint=\"window.close()\">\r\n        ${this.printContentRef.nativeElement.innerHTML}\r\n      </body>\r\n    </html>\r\n    `;\r\n\r\n      const popupWinindow = window.open('', '_blank', dialogConfig);\r\n      popupWinindow.document.write(printDoc);\r\n      popupWinindow.document.close();\r\n    });\r\n  }\r\n\r\n}\r\n","import { Subject } from 'rxjs';\r\n\r\nexport class ResizeColumn {\r\n  startX: number;\r\n  startWidth: number;\r\n  isResizingRight: boolean;\r\n  currentResizeIndex: number;\r\n  resizeHandler?: 'left' | 'right' = null;\r\n  public widthUpdate: Subject<{i: number, w: number}> = new Subject<{i: number, w: number}>();\r\n}\r\n","import { ElementRef } from \"@angular/core\";\r\n\r\nexport function requestFullscreen(element: ElementRef) {\r\n    if (element.nativeElement.requestFullscreen) {\r\n      element.nativeElement.requestFullscreen();\r\n    } else if (element.nativeElement.webkitRequestFullscreen) { /* Safari */\r\n      element.nativeElement.webkitRequestFullscreen();\r\n    } else if (element.nativeElement.msRequestFullscreen) { /* IE11 */\r\n      element.nativeElement.msRequestFullscreen();\r\n    }\r\n  }","import { Component, OnInit, AfterViewInit,\r\n         QueryList, ElementRef, ViewChild, TemplateRef, Renderer2, ChangeDetectionStrategy, ChangeDetectorRef, Input, OnDestroy, ContentChildren} from '@angular/core';\r\nimport { TableCoreDirective } from '../cores/table.core.directive';\r\nimport { TableService } from './dynamic-mat-table.service';\r\nimport { TableRow } from '../models/table-row.model';\r\nimport { TableField } from '../models/table-field.model';\r\nimport { AbstractFilter } from './extensions/filter/compare/abstract-filter';\r\nimport { TablePagination } from '../models/table-pagination.model';\r\nimport { HeaderFilterComponent } from './extensions/filter/header-filter.component';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { PrintTableDialogComponent } from './extensions/print-dialog/print-dialog.component';\r\nimport { trigger, transition, style, animate, query, stagger, state } from '@angular/animations';\r\nimport { ResizeColumn } from '../models/resize-column.mode';\r\nimport { TableIntl } from '../international/table-Intl';\r\nimport { TableMenuActionChange } from './extensions/table-menu/table-menu.component';\r\nimport { CdkDragDrop, CdkDragStart, moveItemInArray } from '@angular/cdk/drag-drop';\r\nimport { isNullorUndefined } from '../cores/type';\r\nimport { TableSetting } from '../models/table-setting.model';\r\nimport { delay } from 'rxjs/operators';\r\nimport { FixedSizeTableVirtualScrollStrategy } from '../cores/fixed-size-table-virtual-scroll-strategy';\r\nimport { Subscription } from 'rxjs';\r\nimport { MatMenuTrigger } from '@angular/material/menu';\r\nimport { ContextMenuItem } from '../models/context-menu.model';\r\nimport { OverlayContainer } from '@angular/cdk/overlay';\r\nimport { MatTooltipDefaultOptions, MAT_TOOLTIP_DEFAULT_OPTIONS } from '@angular/material/tooltip';\r\nimport { requestFullscreen } from '../utilies/html.helper';\r\nimport { TableVirtualScrollDataSource } from '../cores/table-data-source';\r\n\r\nexport const tableAnimation = trigger('tableAnimation', [\r\n  transition('void => *', [\r\n    query(':enter', style({ transform: 'translateX(-50%)', opacity: 0 }), {\r\n      //limit: 5,\r\n      optional: true,\r\n    }),\r\n    query(':enter',\r\n      stagger('0.01s', [\r\n        animate('0.5s ease', style({ transform: 'translateX(0%)', opacity: 1 })\r\n        ),\r\n      ]),\r\n      {  \r\n        //limit: 5, \r\n        optional: true }\r\n    ),\r\n  ]),\r\n]);\r\n\r\nexport const expandAnimation = trigger('detailExpand', [\r\n  state('collapsed', style({height: '0px', minHeight: '0'})),\r\n  state('expanded', style({height: '*'})),\r\n  transition('expanded <=> collapsed', animate('100ms cubic-bezier(0.4, 0.0, 0.2, 1)')),\r\n]); \r\n \r\nexport const cellTooltipDefaults: MatTooltipDefaultOptions = {\r\n  showDelay: 500,\r\n  hideDelay: 400,\r\n  touchendHideDelay: 1000,\r\n  position: 'above',\r\n};\r\n\r\n@Component({\r\n  // tslint:disable-next-line: component-selector\r\n  selector: 'dynamic-mat-table',\r\n  templateUrl: './dynamic-mat-table.component.html',\r\n  styleUrls: ['./dynamic-mat-table.component.scss'],\r\n  animations: [tableAnimation, expandAnimation], \r\n  // changeDetection: ChangeDetectionStrategy.OnPush,\r\n  providers: [\r\n    {provide: MAT_TOOLTIP_DEFAULT_OPTIONS, useValue: cellTooltipDefaults}\r\n  ],\r\n})\r\nexport class DynamicMatTableComponent<T extends TableRow> extends TableCoreDirective<T> implements OnInit, AfterViewInit, OnDestroy {\r\n  @ViewChild('tbl', {static: true}) tbl; \r\n  @Input()\r\n  get setting() {\r\n    return this.tableSetting;\r\n  } \r\n  set setting(value: TableSetting) {    \r\n    if ( !isNullorUndefined(value) ) {\r\n      value.columnSetting = value.columnSetting || this.tableSetting.columnSetting;\r\n      value.alternativeRowStyle = value.alternativeRowStyle || this.tableSetting.alternativeRowStyle;\r\n      value.columnSetting = value.columnSetting || this.tableSetting.columnSetting;\r\n      value.direction = value.direction || this.tableSetting.direction;\r\n      value.normalRowStyle = value.normalRowStyle || this.tableSetting.normalRowStyle;      \r\n      value.visibaleActionMenu = value.visibaleActionMenu || this.tableSetting.visibaleActionMenu;\r\n      value.visibleTableMenu = value.visibleTableMenu || this.tableSetting.visibleTableMenu;\r\n      this.tableSetting = value;\r\n      this.setDisplayedColumns();\r\n    }\r\n  } \r\n\r\n  @ViewChild(MatMenuTrigger) contextMenu: MatMenuTrigger;\r\n  public contextMenuPosition = { x: '0px', y: '0px' };  \r\n  @ViewChild('printRef', { static: true }) printRef !: TemplateRef<any>;\r\n  @ViewChild('printContentRef', { static: true }) printContentRef !: ElementRef;\r\n  @ContentChildren(HeaderFilterComponent) headerFilterList !: QueryList<HeaderFilterComponent>;  \r\n  private dragDropData = {dragColumnIndex: -1, dropColumnIndex: -1};\r\n  private eventsSubscription: Subscription;\r\n  printing = true;\r\n  printTemplate: TemplateRef<any> = null;\r\n  resizeColumn: ResizeColumn = new ResizeColumn();\r\n  // mouse resize\r\n  resizableMousemove: () => void;\r\n  resizableMouseup: () => void;\r\n\r\n  constructor(\r\n    public dialog: MatDialog,\r\n    private renderer: Renderer2,\r\n    public languagePack: TableIntl,\r\n    public tableService: TableService,\r\n    public cdr: ChangeDetectorRef,\r\n    private overlayContainer: OverlayContainer\r\n  ) {\r\n    super(tableService, cdr); \r\n    this.overlayContainer.getContainerElement().addEventListener('contextmenu', (e) =>{\r\n      e.preventDefault(); return false;\r\n    });\r\n    \r\n    this.eventsSubscription = this.resizeColumn.widthUpdate.pipe(delay(100)).subscribe((data) => {\r\n      this.columns[data.i].width = data.w;\r\n      if (this.tableSetting.columnSetting[data.i]) {\r\n        this.tableSetting.columnSetting[data.i].width = data.w;\r\n      }\r\n      this.refreshGrid();\r\n    });\r\n  }\r\n\r\n  indexTrackFn = (index: number) => {    \r\n    return index;\r\n  };\r\n\r\n  trackColumn(index: number, item: TableField<T>): string {\r\n    return `${item.index}`;\r\n  }\r\n\r\n  ngOnDestroy(): void {    \r\n    if (this.eventsSubscription) {\r\n      this.eventsSubscription.unsubscribe();\r\n    }\r\n  }\r\n\r\n  public refreshUI() {\r\n    const scrollStrategy: FixedSizeTableVirtualScrollStrategy = this.viewport['_scrollStrategy'];        \r\n    scrollStrategy?.viewport?.checkViewportSize();\r\n    scrollStrategy?.viewport?.scrollToOffset(0);    \r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  ngOnInit() {    \r\n    const scrollStrategy: FixedSizeTableVirtualScrollStrategy = this.viewport['_scrollStrategy'];\r\n\r\n    scrollStrategy.offsetChange.subscribe(offset => {      \r\n      // console.log(offset);\r\n    })\r\n    this.viewport.renderedRangeStream.subscribe( t => {\r\n      // in expanding row scrolling make not good apperance therefor close it.\r\n      if (this.expandedElement && this.expandedElement.option && this.expandedElement.option.expand) {\r\n        // console.log('clear', t); \r\n        // this.expandedElement.option.expand = false;\r\n        // this.expandedElement = null;\r\n      }\r\n    })\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.tvsDataSource.paginator = this.paginator;\r\n    this.tvsDataSource.sort = this.sort;    \r\n    this.dataSource.subscribe(x => {\r\n      //console.log(x);      \r\n      this.initSystemField(x);\r\n      this.tvsDataSource.data = x;\r\n      // this.cdr.detectChanges();\r\n      setTimeout(() =>{\r\n        this.refreshUI();\r\n      }, 0);\r\n    });\r\n\r\n    this.tvsDataSource.sort.sortChange.subscribe(sort => {\r\n      this.pagination.pageIndex = 0;\r\n      this.onTableEvent.emit({ event: 'SortChanged', sender: sort })\r\n    });\r\n\r\n    // this.dataSource.dataOfRange$.subscribe((data) => {\r\n    //   // console.log('dataOfRange');\r\n    // });\r\n  }\r\n\r\n  public get inverseOfTranslation(): number {\r\n    if (!this.viewport || !this.viewport[\"_renderedContentOffset\"]) {\r\n      return -0;\r\n    }\r\n    let offset = this.viewport[\"_renderedContentOffset\"];\r\n    return -offset;\r\n  }   \r\n\r\n  // TO DO\r\n  ellipsis(cellRef) {\r\n    // console.log(cellRef.clientHeight);\r\n    // console.log(cellRef.scrollHeight);\r\n    if (cellRef.clientHeight > this.rowHeight) {\r\n      cellRef.style.maxHeight = '48px';\r\n    }\r\n  }\r\n\r\n  rowStyle(row) {\r\n    let style: any =  row?.option?.style || {};\r\n    if (this.setting.alternativeRowStyle && row.id % 2 === 0) {\r\n      // style is high priority\r\n      style = { ...this.setting.alternativeRowStyle ,...style};\r\n    }\r\n    if (this.setting.rowStyle) {\r\n      style = { ...this.setting.rowStyle ,...style};\r\n    }    \r\n    return style;\r\n  }\r\n\r\n  cellClass(option, column) {\r\n    let clas = null;\r\n    if (option && column.name) {\r\n      clas = option[column.name] ? option[column.name].style : null;\r\n    }\r\n    \r\n    if ( clas === null) {\r\n      return column.cellClass;\r\n    } else {\r\n      return {...clas, ...column.cellClass};\r\n    }\r\n  }\r\n\r\n  cellStyle(option, column) {\r\n    let style = null;\r\n    if (option && column.name) {\r\n      style = option[column.name] ? option[column.name].style : null;\r\n    }\r\n    \r\n    if ( style === null) {\r\n      return column.cellStyle;\r\n    } else {\r\n      return {...style, ...column.cellStyle};\r\n    }\r\n  }\r\n\r\n  cellIcon(option, cellName) {\r\n    if (option && cellName) {\r\n      return option[cellName] ? option[cellName].icon : null;\r\n    } else {\r\n      return null;\r\n    }    \r\n  }\r\n\r\n  filter_onChanged(column: TableField<T>, filter: AbstractFilter[]) {\r\n    this.pending = true;\r\n    this.tvsDataSource.setFilter(column.name, filter).subscribe(() => {\r\n      this.pending = false;\r\n    });\r\n  }\r\n\r\n  currentContextMenuSender: any = {};\r\n  onContextMenu(event: MouseEvent, column: TableField<T>, row: any) {    \r\n    if(this.currentContextMenuSender?.time && (new Date().getTime() - this.currentContextMenuSender.time) < 500) {\r\n      return;\r\n    }\r\n    this.contextMenu.closeMenu();\r\n    if (this.contextMenuItems?.length === 0 ) {\r\n      return;\r\n    }\r\n    event.preventDefault();\r\n    this.contextMenuPosition.x = event.clientX + 'px';\r\n    this.contextMenuPosition.y = event.clientY + 'px';\r\n    this.currentContextMenuSender = { column: column, row: row, time: new Date().getTime()};\r\n    this.contextMenu.menuData = this.currentContextMenuSender;\r\n    this.contextMenu.menu.focusFirstItem('mouse');    \r\n    this.onRowEvent.emit({ event: 'BeforContextMenuOpen', sender: {row: row, column: column, contextMenu: this.contextMenuItems}});\r\n    this.contextMenu.openMenu();\r\n  }\r\n\r\n  onContextMenuItemClick(data: ContextMenuItem) {    \r\n    this.contextMenu.menuData.item = data;\r\n    this.onRowEvent.emit({ event: 'ContextMenuClick', sender: this.contextMenu.menuData });\r\n  }\r\n\r\n  tableMenuActionChange(e: TableMenuActionChange) {\r\n    if (e.type === 'TableSetting') {      \r\n       this.saveSetting(e.data, false);\r\n    } else if(e.type === 'FullScreenMode') {\r\n      requestFullscreen(this.tbl.elementRef);\r\n    } else if (e.type === 'Download') {\r\n      if (e.data === 'CSV') {\r\n        this.tableService.exportToCsv<T>(\r\n          this.columns,\r\n          this.tvsDataSource.filteredData,\r\n          this.rowSelectionModel\r\n        );\r\n      } else if (e.data === 'JSON') {\r\n        this.tableService.exportToJson(this.tvsDataSource.filteredData);\r\n      }\r\n    } else if (e.type === 'FilterClear') {\r\n      this.tvsDataSource.clearFilter();\r\n      this.headerFilterList.forEach((hf) => hf.clearColumn_OnClick());\r\n    } else if (e.type === 'Print') {\r\n      this.printConfig.displayedFields = this.columns\r\n        .filter((c) => isNullorUndefined(c.printable) || c.printable === true)\r\n        .map((o) => o.name);\r\n      this.printConfig.title = this.printConfig.title || this.tableName;\r\n      this.printConfig.direction = this.tableSetting.direction || 'ltr';\r\n      this.printConfig.columns = this.tableColumns;\r\n      this.printConfig.data = this.tvsDataSource.filteredData;\r\n      const params = this.tvsDataSource.toTranslate();\r\n      this.printConfig.tablePrintParameters = [];\r\n      params.forEach((item) => {\r\n        this.printConfig.tablePrintParameters.push(item);\r\n      });\r\n\r\n      this.dialog.open(PrintTableDialogComponent, {\r\n        width: '90vw',\r\n        data: this.printConfig,\r\n      });\r\n    } else if (e.type === 'SaveSetting') {\r\n      this.saveSetting(null, true);\r\n    }\r\n  }\r\n\r\n  rowMenuActionChange(contextMenuItem: ContextMenuItem, row: any) {\r\n    console.log('contextMenuItem');    \r\n    this.onRowEvent.emit({ event: 'RowActionMenu', sender: {row: row, action: contextMenuItem}});\r\n    // this.rowActionMenuChange.emit({actionItem: contextMenuItem, rowItem: row });\r\n  }\r\n\r\n  doRendering(e) {\r\n    this.pending = false;\r\n    if (this.viewport.getViewportSize() === 0) {\r\n      // console.log('zero');\r\n    }\r\n  }\r\n\r\n  pagination_onChange(e: TablePagination) {\r\n    // console.log(e);\r\n    this.pending = true;\r\n    this.tvsDataSource.refreshFilterPredicate(); // pagination Bugfixed\r\n    this.paginationChange.emit(e);\r\n  } \r\n\r\n  reload_onClick(){\r\n    this.onTableEvent.emit({ sender: null, event: 'ReloadData'});\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////////////\r\n\r\n  onResizeColumn(event: any, index: number, type: 'left' | 'right') {\r\n    // console.log(index,type);    \r\n    this.resizeColumn.resizeHandler = type;\r\n    this.resizeColumn.startX = event.pageX;\r\n    // console.log(this.resizeColumn.resizeHandler, this.resizeColumn.startX);\r\n    if (this.resizeColumn.resizeHandler === 'right') {\r\n      this.resizeColumn.startWidth = event.target.parentElement.clientWidth;\r\n      this.resizeColumn.currentResizeIndex = index;\r\n    } else {\r\n      if (event.target.parentElement.previousElementSibling === null) {\r\n        // for first column not resize\r\n        return;\r\n      } else {\r\n        this.resizeColumn.startWidth =\r\n          event.target.parentElement.previousElementSibling.clientWidth;\r\n        this.resizeColumn.currentResizeIndex = index;\r\n      }\r\n    }\r\n    event.preventDefault();\r\n    this.mouseMove(index);\r\n  }\r\n\r\n  mouseMove(index: number) {\r\n    this.resizableMousemove = this.renderer.listen(\r\n      'document',\r\n      'mousemove',\r\n      (event) => {\r\n        if (this.resizeColumn.resizeHandler !== null && event.buttons) {\r\n          const rtl = this.direction === 'rtl' ? -1 : 1;\r\n          let width = 0;\r\n          if (this.resizeColumn.resizeHandler === 'right') {\r\n            const dx = event.pageX - this.resizeColumn.startX;\r\n            width = this.resizeColumn.startWidth + rtl * dx;\r\n          } else {\r\n            const dx = this.resizeColumn.startX - event.pageX;\r\n            width = this.resizeColumn.startWidth - rtl * dx;\r\n          }\r\n          if ( this.resizeColumn.currentResizeIndex === index && width > this.minWidth ) {\r\n            this.resizeColumn.widthUpdate.next({\r\n              i: index - (this.resizeColumn.resizeHandler === 'left' ? 1 : 0),\r\n              w: width,\r\n            });\r\n          }\r\n        }\r\n      }\r\n    );\r\n    this.resizableMouseup = this.renderer.listen(\r\n      'document',\r\n      'mouseup',\r\n      (event) => {\r\n        if (this.resizeColumn.resizeHandler !== null) {\r\n          this.resizeColumn.resizeHandler = null;\r\n          this.resizeColumn.currentResizeIndex = -1;       \r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n  public expandRow(rowIndex: number, mode: boolean = true) {    \r\n    if( rowIndex === null || rowIndex === undefined) {\r\n      throw 'Row index is not defined.';      \r\n    }\r\n    if (this.expandedElement === this.tvsDataSource.allData[rowIndex]) {\r\n      this.expandedElement.option.expand = mode;    \r\n      this.expandedElement = this.expandedElement === this.tvsDataSource.allData[rowIndex] ? null : this.tvsDataSource.allData[rowIndex];    \r\n    } else {\r\n      if (this.expandedElement && this.expandedElement !== this.tvsDataSource.allData[rowIndex]) {\r\n        this.expandedElement.option.expand = false;      \r\n      }\r\n      this.expandedElement = null;      \r\n      if (mode === true) {    \r\n        // this.viewport.scrollToIndex(rowIndex, 'smooth');      \r\n        // setTimeout( () => {\r\n        //   this.expandedElement = this.expandedElement === this.dataSource.allData[rowIndex] ? null : this.dataSource.allData[rowIndex];    \r\n        //   if (this.expandedElement.option === undefined || this.expandedElement.option === null) {\r\n        //     this.expandedElement.option = { expand: false};\r\n        //   }\r\n        //   this.expandedElement.option.expand = true;\r\n        //   this.refreshGrid();\r\n        // }, 300);\r\n        this.expandedElement = this.expandedElement === this.tvsDataSource.allData[rowIndex] ? null : this.tvsDataSource.allData[rowIndex];    \r\n        if (this.expandedElement.option === undefined || this.expandedElement.option === null) {\r\n          this.expandedElement.option = { expand: false};\r\n        }\r\n        this.expandedElement.option.expand = true;\r\n      }\r\n    }    \r\n  }\r\n\r\n  onRowSelection(e, row, column: TableField<T>) {\r\n    if (this.rowSelectionMode && this.rowSelectionMode !== 'none' && column.rowSelectionable !== false) {\r\n      this.onRowSelectionChange(e, row);\r\n    }\r\n  }\r\n\r\n  onCellClick(e, row, column: TableField<T>) {    \r\n    this.onRowSelection(e, row, column);\r\n    if (column.clickable !== false) {\r\n      this.onRowEvent.emit({ event: 'CellClick', sender: {row: row, column: column} });\r\n    }\r\n  }\r\n\r\n  onRowDblClick(e, row) {    \r\n    this.onRowEvent.emit({ event: e, sender: {row: row} });\r\n  }\r\n\r\n  onRowClick(e, row) {\r\n    this.onRowEvent.emit({ event: 'RowClick', sender: {row: row} });    \r\n  }\r\n\r\n  /************************************ Drag & Drop Column *******************************************/\r\n\r\n  dragStarted(event: CdkDragStart) {\r\n    // console.log(event);    \r\n    // debugger  \r\n    // this.dragDropData.dragColumnIndex = event.source.;\r\n  }\r\n \r\n  dropListDropped(event: CdkDragDrop<string[]>) {    \r\n    if (event) {\r\n      this.dragDropData.dropColumnIndex = event.currentIndex;\r\n      this.moveColumn(event.previousIndex, event.currentIndex);\r\n    }\r\n  }\r\n\r\n  drop(event: CdkDragDrop<string[]>) {\r\n    moveItemInArray(event.container.data, event.previousIndex, event.currentIndex);\r\n\r\n    // updates moved data and table, but not dynamic if more dropzones\r\n    // this.dataSource.data = clonedeep(this.dataSource.data);\r\n  }\r\n  /************************************  *******************************************/\r\n \r\n  copyProperty(from: any, to: any) {\r\n    const keys = Object.keys(from);\r\n    keys.forEach( key => {\r\n      if (from[key] !== undefined && from[key] === null) {\r\n        to[key] = Array.isArray(from[key]) ? Object.assign([], from[key]) : Object.assign({}, from[key]);\r\n      }\r\n    });\r\n  } \r\n}\r\n\r\n\r\n","import { Compiler, ComponentFactoryResolver, ComponentRef, Directive, EventEmitter, Input, OnChanges, OnDestroy, OnInit, SimpleChanges, ViewContainerRef } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { DynamicMatTableComponent } from '../../dynamic-mat-table/dynamic-mat-table.component';\r\nimport { TableField } from '../../models/table-field.model';\r\nimport { IRowEvent } from '../../models/table-row.model';\r\nimport { IDynamicCell } from './IDynamicCell';\r\n\r\n@Directive({\r\n  selector: '[dynamicCell]'\r\n})\r\nexport class DynamicCellDirective implements OnInit, OnChanges, OnDestroy  {\r\n  @Input() component: any;\r\n  @Input() column: TableField<any>;\r\n  @Input() row: any;\r\n  @Input() onRowEvent: EventEmitter<IRowEvent>;  \r\n  componentRef: ComponentRef<IDynamicCell> = null;\r\n\r\n  constructor(\r\n    public compiler: Compiler,\r\n    private cfr: ComponentFactoryResolver,\r\n    private vc: ViewContainerRef,\r\n    private parent: DynamicMatTableComponent<any>\r\n    ) {}    \r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (this.componentRef === null || this.componentRef === undefined) {\r\n      this.initComponent();\r\n    }    \r\n    // pass input parameters\r\n    if (changes.column && changes.column.currentValue) {\r\n      this.componentRef.instance.column = this.column;\r\n    }    \r\n    if (changes.row && changes.row.currentValue) {\r\n      (this.componentRef.instance as any).row = this.row;\r\n    }\r\n    if (changes.onRowEvent && changes.onRowEvent.currentValue) {\r\n      (this.componentRef.instance as any).onRowEvent = this.onRowEvent;\r\n    }\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.componentRef) {\r\n      this.componentRef.destroy();\r\n    }\r\n  }\r\n\r\n  initComponent() {\r\n    try{\r\n      const componentFactory = this.cfr.resolveComponentFactory<IDynamicCell>(this.component);\r\n      this.componentRef = this.vc.createComponent<IDynamicCell>(componentFactory);      \r\n      this.updateInput();\r\n    } catch (e) {\r\n      // console.log(e);\r\n    } \r\n  }\r\n\r\n  updateInput() {\r\n    if (this.parent) {\r\n      (this.componentRef.instance as IDynamicCell).parent = this.parent;\r\n    }    \r\n    if (this.column) {\r\n      this.componentRef.instance.column = this.column;\r\n    }   \r\n    if (this.row) {\r\n      (this.componentRef.instance as IDynamicCell).row = this.row;\r\n    }\r\n    if (this.onRowEvent) {\r\n      (this.componentRef.instance as IDynamicCell).onRowEvent = this.onRowEvent;\r\n    }    \r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, Component, Output, Input, EventEmitter } from '@angular/core';\r\nimport { isNullorUndefined } from '../../../cores/type';\r\nimport { ContextMenuItem } from '../../../models/context-menu.model';\r\nimport { IRowEvent } from '../../../models/table-row.model';\r\nimport { TableSetting } from '../../../models/table-setting.model';\r\n\r\n@Component({\r\n  // tslint:disable-next-line: component-selector\r\n  selector: 'row-menu',\r\n  templateUrl: './row-menu.component.html',\r\n  styleUrls: ['./row-menu.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class RowMenuComponent<T> {\r\n  // @Output() rowActionChange: EventEmitter<ContextMenuItem> = new EventEmitter<ContextMenuItem>();\r\n  @Output() rowActionChange: EventEmitter<ContextMenuItem> = new EventEmitter<ContextMenuItem>();\r\n  @Input() actionMenus: ContextMenuItem[] = [];\r\n  @Input() tableSetting: TableSetting;\r\n  @Input() rowActionMenu?: { [key: string]: ContextMenuItem; };\r\n  visibleActionMenus: ContextMenuItem[] = [];\r\n\r\n  constructor() {\r\n  }\r\n\r\n  menuOnClick(e) {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n    this.visibleActionMenus = [];\r\n    this.actionMenus.forEach(menu => {\r\n      const am: ContextMenuItem = isNullorUndefined(this.rowActionMenu) || isNullorUndefined(this.rowActionMenu[menu.name]) ? menu : this.rowActionMenu[menu.name];\r\n      if ( isNullorUndefined(am.visible) || am.visible) {\r\n        this.visibleActionMenus.push({\r\n          name: menu.name,\r\n          text: am.text || menu.text,\r\n          disabled: am.disabled || menu.disabled,\r\n          icon: am.icon || menu.icon,\r\n          color: am.color || menu.color\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  menuButton_OnClick(menu: ContextMenuItem) {\r\n    setTimeout(() => {\r\n      this.rowActionChange.emit(menu);\r\n    });\r\n  }\r\n}\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { RowMenuComponent } from './row-menu.component';\r\n\r\nconst components = [RowMenuComponent];\r\n\r\n@NgModule({\r\n  declarations: [components],\r\n  exports: components,\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    MatMenuModule\r\n  ],\r\n})\r\nexport class RowMenuModule {}\r\n","import { ChangeDetectionStrategy, Component, Output, Input, EventEmitter } from '@angular/core';\r\nimport { moveItemInArray, CdkDragDrop } from '@angular/cdk/drag-drop';\r\nimport { TableService } from '../../dynamic-mat-table.service';\r\nimport { TableSetting } from '../../../models/table-setting.model';\r\nimport { TableIntl } from '../../../international/table-Intl';\r\nimport { clone, deepClone, isNullorUndefined } from '../../../cores/type';\r\n\r\n@Component({\r\n  // tslint:disable-next-line: component-selector\r\n  selector: 'table-menu',\r\n  templateUrl: './table-menu.component.html',\r\n  styleUrls: ['./table-menu.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class TableMenuComponent {\r\n  @Output() menuActionChange: EventEmitter<TableMenuActionChange> = new EventEmitter<TableMenuActionChange>();\r\n  @Input()\r\n  get tableSetting(): TableSetting {\r\n    return this.currentTableSetting;\r\n  }\r\n  set tableSetting(value: TableSetting) {\r\n    this.originalTableSetting = value;\r\n    this.reverseDirection = value.direction === 'rtl' ? 'ltr' : 'rtl';\r\n    this.currentTableSetting = clone<TableSetting>(value);\r\n  }\r\n\r\n  currentColumn: number = null;\r\n  reverseDirection: string = null;\r\n  originalTableSetting: TableSetting;\r\n  currentTableSetting: TableSetting;\r\n\r\n  constructor(public languagePack: TableIntl, public tableService: TableService) {\r\n  }\r\n\r\n  screenMode_OnClick() {\r\n    this.menuActionChange.emit({\r\n      type: 'FullScreenMode',\r\n      data: this.currentTableSetting,\r\n    });\r\n  }\r\n\r\n  /***** Column Setting ******/\r\n  columnMenuDropped(event: CdkDragDrop<any>): void {\r\n    moveItemInArray(\r\n      this.currentTableSetting.columnSetting,\r\n      event.item.data.columnIndex,\r\n      event.currentIndex\r\n    );\r\n  }\r\n\r\n  toggleSelectedColumn(columnIndex: number) {\r\n    const colFound = this.currentTableSetting.columnSetting.find(\r\n      (col) => col.index === columnIndex\r\n    );\r\n    colFound.display = colFound.display === 'visible' ? 'hiden' : 'visible';\r\n  }\r\n\r\n  apply_OnClick(e) {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n    setTimeout(() => {\r\n      this.menuActionChange.emit({\r\n        type: 'TableSetting',\r\n        data: this.currentTableSetting,\r\n      });\r\n      this.tableService.saveColumnInfo(this.currentTableSetting.columnSetting);\r\n    });\r\n  }\r\n\r\n  setting_onClick(i) {\r\n    this.currentColumn = i;\r\n  }\r\n\r\n  cancel_OnClick() {\r\n    this.currentTableSetting = deepClone(this.originalTableSetting);\r\n  }\r\n\r\n  isVisible(visible: boolean) {\r\n    return isNullorUndefined(visible) ? true : visible;\r\n  }\r\n\r\n  /*****  Save ********/\r\n  saveSetting_OnClick() {\r\n    setTimeout(() => {\r\n      this.menuActionChange.emit({ type: 'SaveSetting' });\r\n    });\r\n  }\r\n\r\n  /*****  Filter ********/\r\n  clearFilter_OnClick() {\r\n    setTimeout(() => {\r\n      this.menuActionChange.emit({ type: 'FilterClear' });\r\n    });\r\n  }\r\n\r\n  /******* Save File ***********/\r\n  download_OnClick(type: string) {\r\n    setTimeout(() => {\r\n      this.menuActionChange.emit({ type: 'Download', data: type });\r\n    });\r\n  }\r\n\r\n  print_OnClick(menu) {\r\n    menu._overlayRef._host.parentElement.click();\r\n    setTimeout(() => {\r\n      this.menuActionChange.emit({ type: 'Print', data: null });\r\n    });\r\n  }\r\n}\r\n\r\nexport interface TableMenuActionChange {\r\n  type: 'FilterClear' | 'TableSetting' | 'Download' | 'SaveSetting' | 'Print' | 'FullScreenMode';\r\n  data?: any;\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { DragDropModule } from '@angular/cdk/drag-drop';\r\nimport { MatRadioModule } from '@angular/material/radio';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { TableMenuComponent } from './table-menu.component';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\n\r\nconst components = [TableMenuComponent];\r\n\r\n@NgModule({\r\n  declarations: [components],\r\n  exports: components,\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    MatButtonModule,\r\n    MatCheckboxModule,\r\n    MatIconModule,\r\n    DragDropModule,\r\n    MatMenuModule,\r\n    MatRadioModule,\r\n  ],\r\n})\r\nexport class TableMenuModule {}\r\n","import { Directive, HostListener } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[filter-event]'\r\n})\r\nexport class FilterEventDirective {\r\n  @HostListener('click', ['$event'])\r\n  onClick(e: MouseEvent) {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n\r\n    return false;\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport { HeaderFilterComponent } from './header-filter.component';\r\nimport { FilterEventDirective } from './filter-event.directive';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatButtonModule } from '@angular/material/button';\r\n\r\n\r\nconst components = [HeaderFilterComponent, FilterEventDirective];\r\n\r\n@NgModule({\r\n  declarations: components ,\r\n  exports: components,\r\n  imports: [\r\n    CommonModule,\r\n    MatFormFieldModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatMenuModule,\r\n    MatSelectModule,\r\n    ReactiveFormsModule,\r\n    MatButtonModule,\r\n    FormsModule\r\n  ],\r\n})\r\nexport class HeaderFilterModule {}\r\n","import { Injectable, OnDestroy } from '@angular/core';\r\nimport { distinctUntilChanged } from 'rxjs/operators';\r\nimport { BehaviorSubject, Subject } from 'rxjs';\r\nimport { CdkVirtualScrollViewport, VirtualScrollStrategy } from '@angular/cdk/scrolling';\r\nimport { ListRange } from '@angular/cdk/collections';\r\nimport { Subscription } from 'rxjs';\r\n\r\nexport interface TSVStrategyConfigs {\r\n  rowHeight: number;\r\n  headerHeight: number;\r\n  footerHeight: number;\r\n  bufferMultiplier: number;\r\n}\r\n\r\nexport declare type TableScrollStrategy = 'fixed-size' | 'none' | null;\r\n\r\n@Injectable()\r\nexport class FixedSizeTableVirtualScrollStrategy implements VirtualScrollStrategy, OnDestroy {  \r\n  private eventsSubscription: Subscription;\r\n  private length = 0;\r\n  private rowHeight!: number;\r\n  private headerHeight!: number;\r\n  private footerHeight!: number;\r\n  private bufferMultiplier!: number;\r\n  private indexChange = new Subject<number>();\r\n  public stickyChange = new Subject<number>();\r\n  public scrollStrategyMode: TableScrollStrategy = 'fixed-size';\r\n\r\n  public viewport: CdkVirtualScrollViewport;\r\n\r\n  public renderedRangeStream = new BehaviorSubject<ListRange>({start: 0, end: 0});\r\n  public offsetChange = new BehaviorSubject(0);\r\n\r\n  public scrolledIndexChange = this.indexChange.pipe(distinctUntilChanged());\r\n\r\n  get dataLength(): number {\r\n    return this.length;\r\n  }\r\n\r\n  set dataLength(value: number) {\r\n    this.length = value;\r\n    this.onDataLengthChanged();\r\n  }\r\n\r\n  ngOnDestroy(): void {    \r\n    this.eventsSubscription.unsubscribe();\r\n  }\r\n\r\n  public attach(viewport: CdkVirtualScrollViewport): void {\r\n    this.viewport = viewport;\r\n    this.eventsSubscription = this.viewport.renderedRangeStream.subscribe(this.renderedRangeStream);\r\n    this.onDataLengthChanged();\r\n  }\r\n\r\n  public detach(): void {\r\n    this.indexChange.complete();\r\n    this.stickyChange.complete();\r\n    this.renderedRangeStream.complete();\r\n  }\r\n \r\n  public onContentScrolled(): void {\r\n    this.updateContent();\r\n  }\r\n\r\n  public onDataLengthChanged(): void {\r\n    if (this.viewport) {\r\n      this.viewport.setTotalContentSize(this.dataLength * this.rowHeight + this.headerHeight + this.footerHeight);\r\n    }\r\n    this.updateContent();\r\n  }\r\n\r\n  public onContentRendered(): void {\r\n    // no-op\r\n  }\r\n\r\n  public onRenderedOffsetChanged(): void {\r\n    // no-op\r\n  }\r\n\r\n  public scrollToIndex(index: number, behavior: ScrollBehavior): void {    \r\n    // if (this.viewport) {\r\n    //   this.viewport.scrollToOffset( this.rowHeight * index , behavior);\r\n    // }    \r\n    if (!this.viewport || !this.rowHeight) {\r\n      return;\r\n    }\r\n    this.viewport.scrollToOffset((index - 1 ) * this.rowHeight + this.headerHeight);\r\n  }\r\n\r\n  public setConfig(configs: TSVStrategyConfigs) {\r\n    const {rowHeight, headerHeight, footerHeight, bufferMultiplier} = configs;\r\n    if (\r\n      this.rowHeight === rowHeight\r\n      && this.headerHeight === headerHeight\r\n      && this.footerHeight === footerHeight\r\n      && this.bufferMultiplier === bufferMultiplier\r\n    ) {\r\n      return;\r\n    }\r\n    this.rowHeight = rowHeight;\r\n    this.headerHeight = headerHeight;\r\n    this.footerHeight = footerHeight;\r\n    this.bufferMultiplier = bufferMultiplier;\r\n    this.onDataLengthChanged();\r\n  }\r\n\r\n  // bug fixed some time viewport is zero height (i dont know why!)\r\n  public getViewportSize() {\r\n    if (this.viewport.getViewportSize() === 0) {      \r\n      return this.viewport.elementRef.nativeElement.clientHeight + 52;\r\n    } else {\r\n      return this.viewport.getViewportSize();\r\n    }\r\n  }\r\n\r\n  private updateContent() {    \r\n    if (!this.viewport || !this.rowHeight) {\r\n      return;\r\n    }\r\n    let start = 0;\r\n    let end = this.dataLength;   \r\n\r\n    if ( this.scrollStrategyMode === 'none' && this.viewport.getRenderedRange().start  === start && this.viewport.getRenderedRange().end  === end ) {\r\n      return;\r\n    } \r\n\r\n    const scrollOffset = this.viewport.measureScrollOffset();\r\n    const amount = Math.ceil(this.getViewportSize() / this.rowHeight);\r\n    const offset = Math.max(scrollOffset - this.headerHeight, 0);    \r\n    const buffer = Math.ceil(amount * this.bufferMultiplier);\r\n\r\n    const skip = Math.round(offset / this.rowHeight);\r\n    const index = Math.max(0, skip);    \r\n     \r\n    if (this.scrollStrategyMode === 'fixed-size') {\r\n      start = Math.max(0, index - buffer);\r\n      end = Math.min(this.dataLength, index + amount + buffer);\r\n    }\r\n    const renderedOffset = start * this.rowHeight;    \r\n    \r\n    this.viewport.setRenderedContentOffset(renderedOffset);\r\n    this.viewport.setRenderedRange({start, end});    \r\n    this.indexChange.next(index);\r\n    this.stickyChange.next(renderedOffset);\r\n    this.offsetChange.next(offset)\r\n  }\r\n}\r\n","import { AfterContentInit, ContentChild, Directive, forwardRef,\r\n         Input, NgZone, OnChanges, OnDestroy, Output, EventEmitter } from '@angular/core';\r\nimport { VIRTUAL_SCROLL_STRATEGY } from '@angular/cdk/scrolling';\r\nimport { distinctUntilChanged, filter, map, switchMap, takeUntil, takeWhile, tap } from 'rxjs/operators';\r\nimport { TableVirtualScrollDataSource } from './table-data-source';\r\nimport { MatTable } from '@angular/material/table';\r\nimport { FixedSizeTableVirtualScrollStrategy } from './fixed-size-table-virtual-scroll-strategy';\r\nimport { CdkHeaderRowDef } from '@angular/cdk/table';\r\nimport { Subject } from 'rxjs';\r\n\r\n\r\nexport function _tableVirtualScrollDirectiveStrategyFactory(tableDir: TableItemSizeDirective) {\r\n  return tableDir.scrollStrategy;\r\n}\r\n\r\nconst stickyHeaderSelector = '.mat-header-row .mat-table-sticky';\r\nconst stickyFooterSelector = '.mat-footer-row .mat-table-sticky';\r\n\r\nconst defaults = {\r\n  rowHeight: 48,\r\n  headerHeight: 56,\r\n  headerEnabled: true,\r\n  footerHeight: 48,\r\n  footerEnabled: false,\r\n  bufferMultiplier: 0.7\r\n};\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: 'cdk-virtual-scroll-viewport[tvsItemSize]',\r\n  providers: [{\r\n    provide: VIRTUAL_SCROLL_STRATEGY,\r\n    useFactory: _tableVirtualScrollDirectiveStrategyFactory,\r\n    deps: [forwardRef(() => TableItemSizeDirective)]\r\n  }]\r\n})\r\nexport class TableItemSizeDirective implements OnChanges, AfterContentInit, OnDestroy {\r\n  private alive = true;\r\n\r\n  // tslint:disable-next-line:no-input-rename\r\n  @Input('tvsItemSize')\r\n  rowHeight = defaults.rowHeight;\r\n\r\n  @Input()\r\n  headerEnabled = defaults.headerEnabled;\r\n\r\n  @Input()\r\n  headerHeight = defaults.headerHeight;\r\n\r\n  @Input()\r\n  footerEnabled = defaults.footerEnabled;\r\n\r\n  @Input()\r\n  footerHeight = defaults.footerHeight;\r\n\r\n  @Input()\r\n  bufferMultiplier = defaults.bufferMultiplier;\r\n\r\n  @ContentChild(MatTable, { static: true }) table: MatTable<any>;\r\n\r\n  // @Output() requestRendering: EventEmitter<any> = new EventEmitter();\r\n\r\n  scrollStrategy = new FixedSizeTableVirtualScrollStrategy();\r\n\r\n  dataSourceChanges = new Subject<void>();\r\n  private stickyPositions: Map<HTMLElement, number>;\r\n\r\n  constructor(private zone: NgZone) {\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.alive = false;\r\n    this.dataSourceChanges.complete();\r\n  }\r\n\r\n  private isAlive() {\r\n    return () => this.alive;\r\n  }\r\n\r\n  private isStickyEnabled(): boolean {\r\n    return !!this.scrollStrategy.viewport && ((this.table as any)._headerRowDefs as CdkHeaderRowDef[])\r\n      .map(def => def.sticky)\r\n      .reduce((prevState, state) => prevState && state, true);\r\n  }\r\n\r\n  ngAfterContentInit() {\r\n    const switchDataSourceOrigin = (this.table as any)._switchDataSource;\r\n    (this.table as any)._switchDataSource = (dataSource: any) => {\r\n      switchDataSourceOrigin.call(this.table, dataSource);\r\n      this.connectDataSource(dataSource);\r\n    };\r\n\r\n    this.connectDataSource(this.table.dataSource);\r\n\r\n    this.scrollStrategy.stickyChange\r\n      .pipe(\r\n        filter(() => this.isStickyEnabled()),\r\n        tap(() => {\r\n          if (!this.stickyPositions) {\r\n            this.initStickyPositions();\r\n          }\r\n        }),\r\n        takeWhile(this.isAlive())\r\n      )\r\n      .subscribe((stickyOffset) => {\r\n        this.setSticky(stickyOffset);\r\n      });\r\n  }\r\n\r\n  connectDataSource(dataSource: any) {\r\n      this.dataSourceChanges.next();\r\n      if (dataSource instanceof TableVirtualScrollDataSource) {\r\n        dataSource\r\n          .dataToRender$\r\n          .pipe(\r\n            distinctUntilChanged(),\r\n            takeUntil(this.dataSourceChanges),\r\n            takeWhile(this.isAlive()),\r\n            tap(data => this.scrollStrategy.dataLength = data.length),\r\n            switchMap(data =>\r\n              this.scrollStrategy\r\n                .renderedRangeStream\r\n                .pipe(\r\n                   map(({ start, end }) => {\r\n                    // this.requestRendering.emit({from: start, to: end});\r\n                    return typeof start !== 'number' || typeof end !== 'number' ? data : data.slice(start, end);\r\n                   })                  \r\n                )\r\n            )\r\n          )\r\n          .subscribe(data => {\r\n            this.zone.run(() => {\r\n              dataSource.dataOfRange$.next(data);\r\n            });\r\n          });\r\n      } else {\r\n        throw new Error('[tvsItemSize] requires TableVirtualScrollDataSource be set as [dataSource] of [mat-table]');\r\n      }    \r\n  }\r\n\r\n  ngOnChanges() {\r\n    const config = {\r\n      rowHeight: +this.rowHeight || defaults.rowHeight,\r\n      headerHeight: this.headerEnabled ? +this.headerHeight || defaults.headerHeight : 0,\r\n      footerHeight: this.footerEnabled ? +this.footerHeight || defaults.footerHeight : 0,\r\n      bufferMultiplier: +this.bufferMultiplier || defaults.bufferMultiplier\r\n    };\r\n    this.scrollStrategy.setConfig(config);\r\n  }\r\n\r\n\r\n  // setSticky(offset) {\r\n  //   // fixed bug when sticky true for header and one column. column scroll front of header. becuse of z-index\r\n  //   let topOffset = -offset;\r\n  //   this.scrollStrategy.viewport.elementRef.nativeElement.querySelectorAll('mat-header-row.mat-table-sticky')\r\n  //     .forEach((el: HTMLElement) => {\r\n  //       el.style.top = `${topOffset}px`;\r\n  //       topOffset += el.offsetHeight;\r\n  //       if (el.style.zIndex !== null ) {\r\n  //         el.style.zIndex = '1000';\r\n  //       }\r\n  //     });\r\n  // }\r\n\r\n  setSticky(offset) {\r\n    this.scrollStrategy.viewport.elementRef.nativeElement.querySelectorAll(stickyHeaderSelector)\r\n      .forEach((el: HTMLElement) => {\r\n        const parent = el.parentElement;\r\n        let baseOffset = 0;\r\n        if (this.stickyPositions.has(parent)) {\r\n          baseOffset = this.stickyPositions.get(parent);\r\n        }\r\n        el.style.top = `${baseOffset - offset}px`;\r\n      });\r\n    this.scrollStrategy.viewport.elementRef.nativeElement.querySelectorAll(stickyFooterSelector)\r\n      .forEach((el: HTMLElement) => {\r\n        const parent = el.parentElement;\r\n        let baseOffset = 0;\r\n        if (this.stickyPositions.has(parent)) {\r\n          baseOffset = this.stickyPositions.get(parent);\r\n        }\r\n        el.style.bottom = `${-baseOffset + offset}px`;\r\n      });\r\n  }\r\n\r\n  private initStickyPositions() {\r\n    this.stickyPositions = new Map<HTMLElement, number>();\r\n    this.scrollStrategy.viewport.elementRef.nativeElement.querySelectorAll(stickyHeaderSelector)\r\n      .forEach(el => {\r\n        const parent = el.parentElement;\r\n        if (!this.stickyPositions.has(parent)) {\r\n          this.stickyPositions.set(parent, parent.offsetTop);\r\n        }\r\n      });\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { TableItemSizeDirective } from './table-item-size.directive';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    TableItemSizeDirective\r\n   ],\r\n  imports: [],\r\n  exports: [TableItemSizeDirective]\r\n})\r\nexport class TableVirtualScrollModule {\r\n}\r\n","import { Component, ElementRef, EventEmitter, HostListener, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\n\n@Component({\n  selector: 'dm-toolbar',\n  templateUrl: './toolbar.component.html',\n  styleUrls: ['./toolbar.component.scss'],\n})\nexport class ToolbarComponent implements OnInit, OnChanges {\n  @Input() itemList: ToolbarItem[] = [];\n  @Input() color: string = null;\n  @Input() direction: 'ltr' | 'rtl' = 'ltr';\n  @Output() actionClick = new EventEmitter<ToolbarItem>();\n\n  @HostListener('document:keyup', ['$event'])\n  onKeyup(e: KeyboardEvent) {    \n  }\n\n  normalItemList: ToolbarItem[] = [];\n  floatItemList: ToolbarItem[] = [];\n\n  constructor(public _el:ElementRef) {    \n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if(changes.itemList && this.itemList) {\n      this.normalItemList = this.itemList.filter( item => item.float === undefined || item.float == false);\n      this.floatItemList = this.itemList.filter( item => item?.float == true);\n    }\n  }\n\n  ngOnInit() {}\n\n  item_onClick(item: ToolbarItem) {\n    this.actionClick.emit(item);\n  }\n}\n\nexport interface ToolbarItem {\n  id: number;\n  name?: string;\n  tooltip?: string;\n  matIcon?: string;\n  matIconColor?: string;\n  svgIcon?: string;\n  splitter?: boolean;\n  disable?: boolean;\n  float?: boolean;\n}\n\n\n","import { Compiler, CompilerFactory, COMPILER_OPTIONS, NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatSortModule } from '@angular/material/sort';\r\nimport { DragDropModule } from '@angular/cdk/drag-drop';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { ScrollingModule } from '@angular/cdk/scrolling';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\r\nimport { MatPaginatorIntl, MatPaginatorModule} from '@angular/material/paginator';\r\nimport { MatDividerModule } from '@angular/material/divider';\r\nimport { TableIntl } from '../international/table-Intl';\r\nimport { TableCoreDirective } from '../cores/table.core.directive';\r\nimport { RowMenuModule } from './extensions/row-menu/row-menu.module';\r\nimport { DynamicMatTableComponent } from './dynamic-mat-table.component';\r\nimport { TableMenuModule } from './extensions/table-menu/table-menu.module';\r\nimport { HeaderFilterModule } from './extensions/filter/header-filter.module';\r\nimport { TableVirtualScrollModule } from '../cores/table-virtual-scroll.module';\r\nimport { PrintTableDialogComponent } from './extensions/print-dialog/print-dialog.component';\r\nimport { DynamicCellDirective } from '../cores/dynamic-cell/dynamic-cell.directive';\r\nimport { JitCompilerFactory } from '@angular/platform-browser-dynamic';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { ToolbarComponent } from './extensions/toolbar/toolbar.component';\r\nimport { MatRippleModule } from '@angular/material/core';\r\n\r\nexport function createCompiler(compilerFactory: CompilerFactory): Compiler {\r\n  return compilerFactory.createCompiler();\r\n}\r\n\r\nexport function paginatorLabels(tableIntl: TableIntl) {\r\n  const paginatorIntl = new MatPaginatorIntl();\r\n  // paginatorIntl.itemsPerPageLabel = 'آیتم در هر صفحه:';\r\n  // paginatorIntl.nextPageLabel = 'صفحه بعد';\r\n  // paginatorIntl.previousPageLabel = 'صفحه قبل';\r\n  paginatorIntl.getRangeLabel = paginatorIntl.getRangeLabel;\r\n\r\n  return paginatorIntl || null;\r\n}\r\n\r\nconst ExtentionsModule = [HeaderFilterModule, RowMenuModule];\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    MatTableModule,\r\n    ScrollingModule,\r\n    TableVirtualScrollModule,\r\n    MatCheckboxModule,\r\n    MatFormFieldModule,\r\n    MatInputModule,\r\n    MatSortModule,\r\n    MatProgressBarModule,\r\n    MatIconModule,\r\n    DragDropModule,\r\n    TableMenuModule,\r\n    MatPaginatorModule,\r\n    MatDialogModule,\r\n    MatButtonModule,\r\n    MatMenuModule,\r\n    MatDividerModule,\r\n    MatTooltipModule,\r\n    MatRippleModule,\r\n    ExtentionsModule,\r\n    // NoopAnimationsModule\r\n  ],\r\n  exports: [DynamicMatTableComponent, ToolbarComponent],\r\n  providers: [\r\n    // bugfixed in library compiler not load and must create library\r\n    {provide: COMPILER_OPTIONS, useValue: {}, multi: true},\r\n    {provide: CompilerFactory, useClass: JitCompilerFactory, deps: [COMPILER_OPTIONS]},\r\n    {provide: Compiler, useFactory: createCompiler, deps: [CompilerFactory]},\r\n    TableIntl,\r\n    {\r\n      provide: MatPaginatorIntl,\r\n      useFactory: paginatorLabels,\r\n      deps: [TableIntl],\r\n    },\r\n  ],\r\n  declarations: [\r\n    DynamicMatTableComponent,\r\n    PrintTableDialogComponent,\r\n    ToolbarComponent,\r\n    TableCoreDirective,\r\n    DynamicCellDirective\r\n  ],\r\n  entryComponents: [PrintTableDialogComponent],\r\n})\r\nexport class DynamicMatTableModule {}\r\n","import { MatPaginatorIntl } from '@angular/material/paginator';\r\n\r\nexport interface LanguagePack {\r\n  tableLabels: TableLabels;\r\n  filterLabels: FilterLabels;\r\n  paginatorLabels: MatPaginatorIntl;\r\n  menuLabels: MenuLabels;\r\n}\r\n\r\nexport interface TableLabels {\r\n  NoData: string;\r\n}\r\n\r\nexport interface PaginatorLabels {\r\n  itemsPerPageLabel: string;\r\n  nextPageLabel: string;\r\n  previousPageLabel: string;\r\n  firstPageLabel: string;\r\n  lastPageLabel: string;\r\n  getRangeLabel: (page: number, pageSize: number, length: number) => string;\r\n}\r\n\r\nexport interface FilterLabels {\r\n  Clear: string;\r\n  Search: string;\r\n  And: string;\r\n  Or: string;\r\n  /* Text Compare */\r\n  Text: string;\r\n  TextContains: string;\r\n  TextEquals: string;\r\n  TextStartsWith: string;\r\n  TextEndsWith: string;\r\n  TextEmpty: string;\r\n  TextNotEmpty: string;\r\n  /* Number Compare */\r\n  Number: string;\r\n  NumberEquals: string;\r\n  NumberNotEquals: string;\r\n  NumberGreaterThan: string;\r\n  NumberLessThan: string;\r\n  NumberEmpty: string;\r\n  NumberNotEmpty: string;\r\n  /* Category List Compare */\r\n  CategoryContains: string;\r\n  CategoryNotContains: string;\r\n  /* Boolean Compare */\r\n  /* Date Compare */\r\n\r\n  /* Paginator */\r\n}\r\n\r\nexport interface MenuLabels {\r\n  saveData: string;\r\n  columnSetting: string;\r\n  saveTableSetting: string;\r\n  fullScreen: string;  \r\n  clearFilter: string;\r\n  jsonFile: string;\r\n  csvFile: string;\r\n  printTable: string;\r\n  filterMode: string;\r\n  filterLocalMode: string;\r\n  filterServerMode: string;\r\n  sortMode: string;\r\n  sortLocalMode: string;\r\n  sortServerMode: string;\r\n  printMode: string;\r\n  printYesMode: string;\r\n  printNoMode: string;\r\n  pinMode: string;\r\n  pinNoneMode: string;\r\n  pinStartMode: string;\r\n  pinEndMode: string;\r\n  thereIsNoColumn: string;\r\n}\r\n","import { ThemePalette } from \"@angular/material/core\";\r\n\r\nexport interface ContextMenuItem {\r\n    name: string;\r\n    text: string;\r\n    color: ThemePalette;\r\n    icon?: string;\r\n    disabled?: boolean;\r\n    visible?: boolean;\r\n    divider?: boolean;\r\n  }","import { Dictionary } from '../cores/type';\r\nimport { ContextMenuItem } from './context-menu.model';\r\n\r\n// this fields are for each row data\r\nexport interface TableRow {\r\n  id?: number;  \r\n  rowActionMenu?: { [key: string]: ContextMenuItem; };\r\n  option?: RowOption;\r\n}\r\n\r\n\r\n\r\nexport type TableSelectionMode = 'single' | 'multi' | 'none';\r\nexport type RowEventType = 'MasterSelectionChange' | 'RowSelectionChange' | 'RowActionMenu' | 'RowClick' | 'CellClick' | 'BeforContextMenuOpen' | 'ContextMenuClick';\r\n\r\nexport interface IRowEvent {\r\n  event: RowEventType | any;\r\n  sender: any;\r\n}\r\n\r\nexport interface ITableEvent {\r\n  event: 'ReloadData' | 'SortChanged' | any;\r\n  sender: any | undefined;\r\n}\r\n\r\nexport interface IRowActionMenuEvent<T> {\r\n  actionItem: ContextMenuItem;\r\n  rowItem: T;\r\n}\r\n\r\nexport interface RowOption extends Dictionary<any> {\r\n  style?: any;\r\n  class?: any; \r\n  selected?: boolean;\r\n  expand?: boolean; \r\n}","import { TableRow } from './table-row.model';\r\n\r\nexport declare type AtRenderFunc<R extends TableRow> = (row: R) => string;\r\nexport declare type AtClassFunc = (row: any, col: any) => string;\r\nexport declare type AtSortFunc<R extends TableRow> = (data: R[], col: any) => string;\r\nexport declare type AtFilterFunc<R extends TableRow> = (data: R[], col: any) => string;\r\nexport declare type ToPrint = (data: any) => any;\r\nexport declare type ToExport = (data: any, type: any) => any;\r\nexport declare type FieldType = 'text' | 'number' | 'date' | 'category';\r\nexport declare type FieldDisplay = 'visible' | 'hiden' | 'prevent-hidden';\r\nexport declare type FieldSticky = 'start' | 'end' | 'none';\r\nexport declare type FieldFilter = 'client-side' | 'server-side' | 'none';\r\nexport declare type FieldSort = 'client-side' | 'server-side' | 'none';\r\n\r\nexport interface TableField<R extends TableRow> extends AbstractField {\r\n    // renderer?: AtRenderFunc<R>;\r\n    classNames?: string;\r\n    rowClass?: string | AtClassFunc;\r\n    customSortFunction?: AtSortFunc<R>;\r\n    customFilterFunction?: AtSortFunc<R>;    \r\n    toPrint?: ToPrint;\r\n    toExport?: ToExport;\r\n}\r\n\r\nexport interface AbstractField {\r\n  index?: number;\r\n  name: string;\r\n  type?: FieldType;\r\n  width?: number;\r\n  header?: string;\r\n  isKey?: boolean;\r\n  inlineEdit?: boolean;\r\n  display?: FieldDisplay;\r\n  sticky?: FieldSticky;\r\n  filter?: FieldFilter;\r\n  sort?: FieldSort;\r\n  cellClass?: string;\r\n  cellStyle?: any;\r\n  icon?: string;\r\n  iconColor?: string;  \r\n  dynamicCellComponent?: any;\r\n  draggable?: boolean;\r\n  filterable?: boolean;\r\n  sortable?: boolean;\r\n  clickable?: boolean;  \r\n  printable?: boolean;\r\n  exportable?: boolean;\r\n  enableContextMenu?: boolean;\r\n  rowSelectionable?: boolean;\r\n  option?: any; // for store share data show in cell of column\r\n  categoryData?: any[];\r\n  toString?: (column: TableField<any>, row: TableRow) => string;\r\n  customSort?: (column: TableField<any>, row: any) => string;\r\n}\r\n\r\n","import { AbstractField } from './table-field.model';\r\nimport { Direction } from './table-setting.model';\r\n\r\nexport interface PrintConfig {\r\n  displayedFields?: string[];\r\n  title?: string;\r\n  userPrintParameters?: { key: string, value: string; }[];\r\n  tablePrintParameters?: { key: string, value: string; }[];\r\n  showParameters?: boolean;\r\n  data?: any[];\r\n  columns?: AbstractField[];\r\n  direction?: Direction;\r\n}\r\n\r\n\r\n","export declare type TablePaginationMode = 'client-side' | 'server-side' | 'none';\r\nexport interface TablePagination {\r\n  length?: number;\r\n  pageIndex?: number;\r\n  pageSize?: number;\r\n  pageSizeOptions?: number[];\r\n  showFirstLastButtons?: boolean;\r\n}\r\n","import { TableScrollStrategy } from '../cores/fixed-size-table-virtual-scroll-strategy';\r\nimport { AbstractField } from './table-field.model';\r\n\r\nexport type Direction = 'rtl' | 'ltr';\r\nexport type ScreenMode = 'visible' | 'hiden' | 'none'  ;\r\nexport interface TableSetting {\r\n  // screenMode?: ScreenMode;\r\n  direction?: Direction;\r\n  columnSetting?: AbstractField[];\r\n  visibaleActionMenu?: VisibleActionMenu;\r\n  visibleTableMenu?: boolean;\r\n  alternativeRowStyle?: any;\r\n  normalRowStyle?: any;\r\n  scrollStrategy?: TableScrollStrategy;\r\n  rowStyle?: any;\r\n  enableContextMenu?: boolean;\r\n}\r\n\r\nexport interface VisibleActionMenu {\r\n  json?: boolean;\r\n  csv?: boolean;\r\n  print?: boolean;\r\n  columnSettingPin?: boolean;\r\n  columnSettingOrder?: boolean;\r\n  columnSettingFilter?: boolean;\r\n  columnSettingSort?: boolean;\r\n  columnSettingPrint?: boolean;\r\n  saveTableSetting?: boolean;\r\n  clearFilter?: boolean;\r\n}\r\n"],"names":["textify","titleCase","equals","empty","notEmpty","operations","components"],"mappings":"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"}