{"version":3,"file":"dynamic-mat-table.umd.js","sources":["../../../node_modules/tslib/tslib.es6.js","ng://dynamic-mat-table/lib/cores/type.ts","ng://dynamic-mat-table/lib/cores/dynamic-cell/IDynamicCell.ts","ng://dynamic-mat-table/lib/utilies/text.utils.ts","ng://dynamic-mat-table/lib/cores/table-data-source.ts","ng://dynamic-mat-table/lib/dynamic-mat-table/dynamic-mat-table.service.ts","ng://dynamic-mat-table/lib/cores/table.core.directive.ts","ng://dynamic-mat-table/lib/dynamic-mat-table/extensions/filter/compare/abstract-filter.ts","ng://dynamic-mat-table/lib/dynamic-mat-table/extensions/filter/compare/text-filter.ts","ng://dynamic-mat-table/lib/dynamic-mat-table/extensions/filter/compare/number-filter.ts","ng://dynamic-mat-table/lib/international/table-Intl.ts","ng://dynamic-mat-table/lib/dynamic-mat-table/extensions/filter/header-filter.component.ts","ng://dynamic-mat-table/lib/dynamic-mat-table/extensions/print-dialog/print-dialog.component.ts","ng://dynamic-mat-table/lib/models/resize-column.mode.ts","ng://dynamic-mat-table/lib/utilies/html.helper.ts","ng://dynamic-mat-table/lib/dynamic-mat-table/dynamic-mat-table.component.ts","ng://dynamic-mat-table/lib/cores/dynamic-cell/dynamic-cell.directive.ts","ng://dynamic-mat-table/lib/dynamic-mat-table/extensions/row-menu/row-menu.component.ts","ng://dynamic-mat-table/lib/dynamic-mat-table/extensions/row-menu/row-menu.module.ts","ng://dynamic-mat-table/lib/dynamic-mat-table/extensions/table-menu/table-menu.component.ts","ng://dynamic-mat-table/lib/dynamic-mat-table/extensions/table-menu/table-menu.module.ts","ng://dynamic-mat-table/lib/dynamic-mat-table/extensions/filter/filter-event.directive.ts","ng://dynamic-mat-table/lib/dynamic-mat-table/extensions/filter/header-filter.module.ts","ng://dynamic-mat-table/lib/cores/fixed-size-table-virtual-scroll-strategy.ts","ng://dynamic-mat-table/lib/cores/table-item-size.directive.ts","ng://dynamic-mat-table/lib/cores/table-virtual-scroll.module.ts","ng://dynamic-mat-table/lib/dynamic-mat-table/extensions/toolbar/toolbar.component.ts","ng://dynamic-mat-table/lib/dynamic-mat-table/dynamic-mat-table.module.ts","ng://dynamic-mat-table/lib/models/language-pack.model.ts","ng://dynamic-mat-table/lib/models/context-menu.model.ts","ng://dynamic-mat-table/lib/models/table-row.model.ts","ng://dynamic-mat-table/lib/models/table-field.model.ts","ng://dynamic-mat-table/lib/models/print-config.model.ts","ng://dynamic-mat-table/lib/models/table-pagination.model.ts","ng://dynamic-mat-table/lib/models/table-setting.model.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","\r\n// |||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||\r\n\r\n// |||||||||||||||||||||||||||||||||||||| Utils ||||||||||||||||||||||||||||||||||||||||||||||||||\r\n/**\r\n * check object is null or undefined\r\n */\r\nexport function isNullorUndefined(value: any): boolean {\r\n    if ( value === null || value === undefined) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n/**\r\n * clone object but refrence variable not change\r\n */\r\nexport function clone<T>(obj: any): any {\r\n    if ( obj === null || obj === undefined) {\r\n      return obj;\r\n    } else if ( Array.isArray(obj)) {\r\n      const array: T[] = [];\r\n      obj.forEach( item => array.push( Object.assign({}, item)));\r\n      return array;\r\n    } else {\r\n      return Object.assign({}, obj);\r\n    }\r\n  }\r\n\r\n/**\r\n * clone object and all refrence variable but may be there is a circle loop.\r\n */\r\nexport function deepClone<T>(obj: any) {\r\n    if ( obj === null || obj === undefined) {\r\n      return obj;\r\n    } else if ( Array.isArray(obj)) {\r\n      const array: T[] = [];\r\n      obj.forEach( item => array.push( deepClone<typeof item>(item) ));\r\n      return array as T[];\r\n    } else {\r\n      const c = Object.assign({} as T, obj);\r\n      const fields: string[] = Object.getOwnPropertyNames(obj);\r\n      fields.forEach( f => {\r\n        const field = obj[f];\r\n        if ( field !== null && typeof field === 'object' ) {\r\n          c[f] = deepClone<typeof field>(field);\r\n        }\r\n      });\r\n      return c;\r\n    }\r\n}\r\n\r\nexport function getObjectProp(fieldName: string, defaultValue: any, ...variable: any[]) {\r\n    for (const v in variable) {\r\n      if (variable[v] && !isNullorUndefined(variable[v][fieldName])) {\r\n        return variable[v][fieldName];\r\n      }\r\n    }\r\n    return defaultValue;\r\n}\r\n\r\nexport function copy(from: any, to: any, forced: boolean = false, nullSkip: boolean = true, undefinedSkip: boolean = true) {\r\n    if (from === null || from === undefined) {\r\n        return;\r\n    }\r\n    if (to === null || to === undefined) {\r\n        to = {};\r\n    }\r\n    const f: string[] = Object.keys(from);\r\n    const t: string[] = Object.keys(to);\r\n    f.forEach( fi => {\r\n        if (forced === true || t.includes(fi) === true) {\r\n            if (!(from[fi] === null && nullSkip === true) && !(from[fi] === undefined && undefinedSkip === true)) {\r\n                to[fi] = from[fi];\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\n// |||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||\r\n\r\n// |||||||||||||||||||||||||||||||||||| Text Utils |||||||||||||||||||||||||||||||||||||||||||||||\r\n/**\r\n * Transforms a camelCase string into a readable text format\r\n * @example textify('helloWorld!')\r\n * // Hello world!\r\n */\r\nexport function textify(text: string) {\r\n    return text\r\n      .replace(/([A-Z])/g, char => ` ${char.toLowerCase()}`)\r\n      .replace(/^([a-z])/, char => char.toUpperCase());\r\n}\r\n\r\n  /**\r\n   * Transforms a text string into a title case text format\r\n   * @example titleCase('hello world!')\r\n   * // Hello Workd!\r\n   */\r\nexport function titleCase(value: string) {\r\n    const sentence = value.toLowerCase().split(' ');\r\n    for (let i = 0; i < sentence.length; i++) {\r\n       sentence[i] = sentence[i][0].toUpperCase() + sentence[i].slice(1);\r\n    }\r\n    return sentence.join(' ');\r\n}\r\n\r\n\r\nexport interface Dictionary<T> {\r\n  [Key: string]: T;\r\n}","import { EventEmitter } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { DynamicMatTableComponent } from '../../dynamic-mat-table/dynamic-mat-table.component';\nimport { TableField } from '../../models/table-field.model';\nimport { IRowEvent, TableRow } from '../../models/table-row.model';\nexport interface IDynamicCell {\n  row: TableRow ;\n  column: TableField<any>;\n  parent: DynamicMatTableComponent<any>;\n  onRowEvent?: EventEmitter<IRowEvent>;\n  //onSignal?: BehaviorSubject<any>;  \n  // signal?: (sender: IDynamicCell, e: any) => void;\n}\n","/**\r\n * Simplifies a string (trims and lowerCases)\r\n */\r\nexport function simplify(s: string): string {\r\n  return `${s}`.trim().toLowerCase();\r\n}\r\n\r\n/**\r\n * Transforms a camelCase string into a readable text format\r\n * @example textify('helloWorld!')\r\n * // Hello world!\r\n */\r\nexport function textify(text: string) {\r\n  return text\r\n    .replace(/([A-Z])/g, char => ` ${char.toLowerCase()}`)\r\n    .replace(/^([a-z])/, char => char.toUpperCase());\r\n}\r\n\r\n/**\r\n * Transforms a text string into a title case text format\r\n * @example titleCase('hello world!')\r\n * // Hello Workd!\r\n */\r\nexport function titleCase(value: string) {\r\n  const sentence = value.toLowerCase().split(' ');\r\n  for (let i = 0; i < sentence.length; i++) {\r\n     sentence[i] = sentence[i][0].toUpperCase() + sentence[i].slice(1);\r\n  }\r\n  return sentence.join(' ');\r\n}\r\n","import { BehaviorSubject, combineLatest, merge, Observable, of, ReplaySubject, Subject, Subscription } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { MatSort, Sort } from '@angular/material/sort';\r\nimport { MatPaginator, PageEvent } from '@angular/material/paginator';\r\nimport { AbstractFilter } from '../dynamic-mat-table/extensions/filter/compare/abstract-filter';\r\nimport { titleCase } from '../utilies/text.utils';\r\n\r\nexport  class TableVirtualScrollDataSource<T> extends MatTableDataSource<T> {\r\n  public dataToRender$: Subject<T[]>;\r\n  public dataOfRange$: Subject<T[]>;\r\n  private streamsReady: boolean;\r\n  private filterMap: HashMap<AbstractFilter[]> = {};\r\n\r\n  get allData(): T[] {\r\n    return this.data;\r\n  }\r\n\r\n  toTranslate(): any[] {\r\n    const tranList = [];\r\n    const keys: string[] = Object.keys( this.filterMap );\r\n    for ( const k of keys) {\r\n      let fieldTotalTran = '';\r\n      for ( const f of this.filterMap[k]) {\r\n        fieldTotalTran += f.toPrint();\r\n      }\r\n      if ( fieldTotalTran !== '') {\r\n        tranList.push( { key: titleCase(k) , value: fieldTotalTran} );\r\n      }\r\n    }\r\n    return tranList;\r\n  }\r\n\r\n  getFilter(fieldName: string): AbstractFilter[] {\r\n    return this.filterMap[fieldName];\r\n  }\r\n\r\n  setFilter(fieldName: string, filters: AbstractFilter[]): Observable<null> {\r\n    this.filterMap[fieldName] = filters;\r\n    return new Observable(subscriber => {\r\n      setTimeout(() => {\r\n        this.refreshFilterPredicate();\r\n        subscriber.next();\r\n        subscriber.complete();\r\n      }, 200); // for show progress\r\n    });\r\n  }\r\n\r\n  clearFilter(fieldName: string = null) {\r\n    if (fieldName != null ) {\r\n      delete this.filterMap[fieldName];\r\n    } else {\r\n      this.filterMap = {};\r\n    }\r\n    this.refreshFilterPredicate();\r\n  }\r\n\r\n  clearData() {\r\n    this.data = [];\r\n  }\r\n\r\n  public refreshFilterPredicate() {\r\n    let conditionsString = '';\r\n    Object.keys(this.filterMap).forEach(key => {\r\n      let fieldCondition = '';\r\n      this.filterMap[key].forEach((fieldFilter, row, array) => {\r\n        if (row < array.length - 1) {\r\n          fieldCondition += fieldFilter.toString(key) + (fieldFilter.type === 'and' ? ' && ' : ' || ');\r\n        } else {\r\n          fieldCondition += fieldFilter.toString(key);\r\n        }\r\n      });\r\n      if (fieldCondition !== '') {\r\n        conditionsString += ` ${conditionsString === '' ? '' : ' && '} ( ${fieldCondition} )`;\r\n      }\r\n    });\r\n    if (conditionsString !== '') {\r\n      const filterFunction = new Function('_a$', 'return ' + conditionsString);\r\n      this.filterPredicate = (data: T, filter: string) => filterFunction(data) as boolean;\r\n    } else {\r\n      this.filterPredicate = (data: T, filter: string) => true;\r\n    }\r\n    this.filter = conditionsString;        \r\n  }\r\n\r\n  // When client paging active use for reterive paging data\r\n  pagingData(data) {\r\n    const p: MatPaginator = (this as any)._paginator;\r\n    if ( p && p !== null) {\r\n      const end = (p.pageIndex + 1) * p.pageSize;\r\n      const start = p.pageIndex * p.pageSize;\r\n      return data.slice(start, end);\r\n    }\r\n    return data;\r\n  }\r\n\r\n  _updateChangeSubscription() {\r\n    this.initStreams();\r\n    const sort: MatSort | null = (this as any)._sort;\r\n    const paginator: MatPaginator | null = (this as any)._paginator;\r\n    const internalPageChanges: Subject<void> = (this as any)._internalPageChanges;\r\n    const filter: BehaviorSubject<string> = (this as any)._filter;\r\n    const renderData: BehaviorSubject<T[]> = (this as any)._renderData;\r\n    const dataStream: BehaviorSubject<T[]> = (this as any)._data;\r\n\r\n    const sortChange: Observable<Sort | null | void> = sort ?\r\n      merge(sort.sortChange, sort.initialized) as Observable<Sort | void> : of(null);\r\n    const pageChange: Observable<PageEvent | null | void> = paginator ?\r\n      merge(paginator.page, internalPageChanges, paginator.initialized) as Observable<PageEvent | void> : of(null);\r\n\r\n    // First Filter\r\n    const filteredData = combineLatest([dataStream, filter]).pipe(map(([data]) => this._filterData(data)));\r\n    // Second Order\r\n    const orderedData = combineLatest([filteredData, sortChange]).pipe(map(([data]) => this._orderData(data)));\r\n    // Last Paging\r\n    const paginatedData = combineLatest([orderedData, pageChange]).pipe(map(([data]) => this.pagingData(data)));\r\n\r\n    this._renderChangesSubscription?.unsubscribe();\r\n    this._renderChangesSubscription = new Subscription();\r\n    this._renderChangesSubscription.add(paginatedData.subscribe(data => this.dataToRender$.next(data)));\r\n    this._renderChangesSubscription.add(this.dataOfRange$.subscribe(data => renderData.next(data)));\r\n  }\r\n\r\n  private initStreams() {\r\n    if (!this.streamsReady) {\r\n      this.dataToRender$ = new ReplaySubject<T[]>(1);\r\n      this.dataOfRange$ = new ReplaySubject<T[]>(1);\r\n      this.streamsReady = true;\r\n    }\r\n  }\r\n}\r\n\r\nexport interface HashMap<T> {\r\n  [key: string]: T;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { TableField } from '../models/table-field.model';\r\nimport { SelectionModel } from '@angular/cdk/collections';\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class TableService {\r\n  public tableName: string;\r\n\r\n  constructor() {}\r\n\r\n  /************************************* Local Export *****************************************/\r\n  static getFormattedTime() {\r\n    const today = new Date();\r\n    const y = today.getFullYear();\r\n    const m = today.getMonth() + 1;\r\n    const d = today.getDate();\r\n    const h = today.getHours();\r\n    const mi = today.getMinutes();\r\n    const s = today.getSeconds();\r\n    return y + \"-\" + m + \"-\" + d + \"-\" + h + \"-\" + mi + \"-\" + s;\r\n  }\r\n\r\n  // private downloadBlob(blob: any, filename: string) {\r\n  //   if (navigator.msSaveBlob) { // IE 10+\r\n  //     navigator.msSaveBlob(blob, filename);\r\n  //   } else {\r\n  //     const link = document.createElement('a');\r\n  //     if (link.download !== undefined) {\r\n  //       // Browsers that support HTML5 download attribute\r\n  //       const link = window.document.createElement('a');\r\n  //       const date = new Date();\r\n  //       link.className = 'download' + date.getUTCFullYear() + date.getUTCMonth() + date.getUTCSeconds();\r\n  //       link.setAttribute('href', blob);\r\n  //       link.setAttribute('download', filename);\r\n  //       link.style.visibility = 'hidden';\r\n  //       link.click();\r\n  //       // setTimeout(() => {\r\n  //       //   const g = document.body.getElementsByClassName(link.className);\r\n  //       //   document.body.removeChild(link);\r\n  //       // });\r\n  //     }\r\n  //   }\r\n  // }\r\n\r\n  private downloadBlob(blob: Blob | any, filename: string) {\r\n    if (navigator.msSaveBlob) {\r\n      // IE 10+\r\n      navigator.msSaveBlob(blob, filename);\r\n    } else {\r\n      const link = document.createElement(\"a\");\r\n      if (link.download !== undefined) {\r\n        // Browsers that support HTML5 download attribute\r\n        const url = URL.createObjectURL(blob);\r\n        link.setAttribute(\"href\", url);\r\n        link.setAttribute(\"download\", filename);\r\n        link.style.visibility = \"hidden\";\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n      }\r\n    }\r\n  }  \r\n\r\n  public exportToCsv<T>( columns: TableField<T>[], rows: object[], selectionModel: SelectionModel<any>, filename: string = \"\") {\r\n    filename = filename === \"\" ? this.tableName + TableService.getFormattedTime() + \".csv\" : filename;\r\n    if (!rows || !rows.length) {\r\n      return;\r\n    }    \r\n    const fields = columns.filter((c) => c.exportable !== false && c.display !== 'hiden');\r\n    const separator = \",\";\r\n    const CR_LF = \"\\n\"; //'\\u0D0A';\r\n    const keys = fields.map( f => f.name);\r\n    const headers = fields.map( f => f.header);\r\n    const csvContent = headers.join(separator) + CR_LF +\r\n      rows\r\n        .map((row) => {\r\n          return fields.map((f) => {              \r\n              let cell = f.toExport(row, \"csv\") || \"\";\r\n              cell = cell instanceof Date ? cell.toLocaleString() : cell.toString().replace(/\"/g, '\"\"');\r\n              if (cell.search(/(\"|,|\\n)/g) >= 0) {\r\n                cell = `\"${cell}\"`;\r\n              }\r\n              return cell;\r\n            }).join(separator);\r\n        }).join(CR_LF);\r\n    \r\n    const blob = new Blob([\r\n      new Uint8Array([0xEF, 0xBB, 0xBF]), /* UTF-8 BOM */\r\n      csvContent], {type : 'text/csv;charset=utf-8'});    \r\n    this.downloadBlob(blob, filename);\r\n  }\r\n\r\n  public exportToJson(rows: object[], filename: string = \"\") {\r\n    filename =\r\n      filename === \"\"\r\n        ? this.tableName + TableService.getFormattedTime() + \".json\"\r\n        : filename;\r\n    const blob = new Blob([JSON.stringify(rows)], {\r\n      type: \"text/csv;charset=utf-8;\",\r\n    });\r\n    this.downloadBlob(blob, filename);\r\n  }\r\n\r\n  /************************************* Save Setting into storage *****************************************/\r\n  public loadSavedColumnInfo(\r\n    columnInfo: TableField<any>[],\r\n    saveName?: string\r\n  ): TableField<any>[] {\r\n    // Only load if a save name is passed in\r\n    if (saveName) {\r\n      if (!localStorage) {\r\n        return;\r\n      }\r\n\r\n      const loadedInfo = localStorage.getItem(`${saveName}-columns`);\r\n\r\n      if (loadedInfo) {\r\n        return JSON.parse(loadedInfo);\r\n      }\r\n      this.saveColumnInfo(columnInfo);\r\n      return columnInfo;\r\n    }\r\n  }\r\n\r\n  public saveColumnInfo(\r\n    columnInfo: TableField<any>[],\r\n    saveName: string = this.tableName\r\n  ): void {\r\n    // console.log(saveName);\r\n    if (saveName) {\r\n      if (!localStorage) {\r\n        return;\r\n      }\r\n\r\n      localStorage.setItem(`${saveName}-columns`, JSON.stringify(columnInfo));\r\n    }\r\n  }\r\n}\r\n","import { IRowEvent, IRowActionMenuEvent, TableRow, TableSelectionMode, ITableEvent } from '../models/table-row.model';\r\nimport { TableVirtualScrollDataSource } from './table-data-source';\r\nimport { ViewChild, Input, Output, EventEmitter, HostBinding, ChangeDetectorRef, ElementRef } from '@angular/core';\r\nimport { TableField } from '../models/table-field.model';\r\nimport { titleCase } from '../utilies/text.utils';\r\nimport { CdkVirtualScrollViewport } from '@angular/cdk/scrolling';\r\nimport { moveItemInArray } from '@angular/cdk/drag-drop';\r\nimport { SelectionModel } from '@angular/cdk/collections';\r\nimport { TableService } from '../dynamic-mat-table/dynamic-mat-table.service';\r\nimport { TablePagination, TablePaginationMode } from '../models/table-pagination.model';\r\nimport { PrintConfig } from '../models/print-config.model';\r\nimport { TableSetting, Direction } from '../models/table-setting.model';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatTable } from '@angular/material/table';\r\nimport { Directive } from '@angular/core';\r\nimport { clone, getObjectProp, isNullorUndefined } from './type';\r\nimport { TableScrollStrategy } from './fixed-size-table-virtual-scroll-strategy';\r\nimport { ContextMenuItem } from '../models/context-menu.model';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: '[core]'\r\n})\r\nexport class TableCoreDirective<T extends TableRow> {\r\n  @ViewChild(MatSort, { static: true }) sort: MatSort;\r\n  @ViewChild(MatPaginator, { static: true }) paginator: MatPaginator; \r\n  @Input() public dataSource: BehaviorSubject<any[]>;\r\n  @Input() backgroundColor: string = null;\r\n  @Input()\r\n  @HostBinding('style.direction')\r\n  get direction(): Direction {\r\n    return this.tableSetting?.direction;\r\n  }\r\n  set direction(value: Direction) {\r\n    this.tableSetting.direction = value;\r\n  }\r\n\r\n  @Input() contextMenuItems: ContextMenuItem[] = [];\r\n  @Input()\r\n  get ScrollStrategyType() {\r\n    return this.tableSetting.scrollStrategy;\r\n  }\r\n  set ScrollStrategyType(value: TableScrollStrategy) {        \r\n    this.viewport['_scrollStrategy'].scrollStrategyMode = value;\r\n    this.tableSetting.scrollStrategy = value;\r\n  }\r\n\r\n  @Input()\r\n  get pagingMode() {\r\n    return this.tablePagingMode;\r\n  }\r\n  set pagingMode(value: TablePaginationMode) {\r\n    this.tablePagingMode = value;\r\n    this.updatePagination();\r\n  }\r\n\r\n  @Input()\r\n  get pagination() {\r\n    return this._tablePagination;\r\n  }\r\n  set pagination(value: TablePagination) {\r\n    if (value && value !== null) {\r\n      this._tablePagination = value;\r\n      if ( isNullorUndefined(this._tablePagination.pageSizeOptions)) {\r\n        this._tablePagination.pageSizeOptions = [5, 10, 25, 100];\r\n      }\r\n      if ( isNullorUndefined(this._tablePagination.pageSizeOptions)) {\r\n        this._tablePagination.pageSize = this._tablePagination.pageSizeOptions[0];\r\n      }\r\n      this.updatePagination();\r\n    }\r\n  } \r\n\r\n  @Input()\r\n  get rowSelectionModel() {\r\n    return this._rowSelectionModel;\r\n  }\r\n  set rowSelectionModel(value: SelectionModel<T>) { \r\n    if (!isNullorUndefined(value)) {\r\n      if (this._rowSelectionMode && value && this._rowSelectionMode !== 'none') {\r\n        this._rowSelectionMode = (value.isMultipleSelection() === true ? 'multi': 'single');\r\n      }\r\n      this._rowSelectionModel = value;\r\n    }\r\n  }\r\n\r\n  @Input()\r\n  get rowSelectionMode() {\r\n    return this._rowSelectionMode;\r\n  }\r\n  set rowSelectionMode(selection: TableSelectionMode) {    \r\n    selection = selection || 'none';\r\n    this._rowSelectionModel = selection === 'none' ? null : new SelectionModel<T>(selection === 'multi', []);    \r\n    if(selection === 'none' && this._rowSelectionMode !== 'none' && this.displayedColumns[0] === 'row-checkbox') {\r\n      this.displayedColumns.shift();            \r\n      this.saveSetting(this.tableSetting,false);\r\n    } else if(selection !== 'none' && this._rowSelectionMode === 'none') {\r\n      this.displayedColumns.unshift('row-checkbox');            \r\n      this.saveSetting(this.tableSetting,false);\r\n    }\r\n    this._rowSelectionMode = selection;    \r\n  }\r\n\r\n  @Input()\r\n  get tableName() {\r\n    return this.tableService.tableName;\r\n  }\r\n  set tableName(value: string) {\r\n    this.tableService.tableName = value;\r\n  }\r\n\r\n  @Input()\r\n  get showProgress() {\r\n    return this.progressColumn.length > 0;\r\n  }\r\n  set showProgress(value: boolean) {\r\n    this.progressColumn = [];\r\n    if (value === true) {\r\n      this.progressColumn.push('progress');\r\n    }\r\n  } \r\n\r\n  // private totalRecord = 0;\r\n\r\n  // @Input() \r\n  // get dataSource() {    \r\n  //   if(isNullorUndefined(this.tvsDataSource)) {      \r\n  //     return null;\r\n  //   }    \r\n  //   if (this.totalRecord !== this.tvsDataSource.allData.length) {      \r\n  //     this.initSystemField(this.tvsDataSource.allData);\r\n  //   }\r\n  //   return this.tvsDataSource;\r\n  // } \r\n  // set dataSource(value: TableVirtualScrollDataSource<T>) {           \r\n  //   this.clear();    \r\n  //   if (!isNullorUndefined(value)) {      \r\n  //     this.initSystemField(value.data);\r\n  //     this.tvsDataSource = value;\r\n  //     this.tvsDataSource.sort = this.sort;\r\n  //     (this.tvsDataSource as any)._paginator = value;      \r\n  //   } \r\n  // }\r\n\r\n  protected initSystemField(data: any[]) {    \r\n    data = data.map( (item, index) => {\r\n      item.id = index ;\r\n      item.option = item.option || {};      \r\n      return item;\r\n    });\r\n  }\r\n\r\n  public expandColumn = [];\r\n  private _expandComponent: any;\r\n  @Input()\r\n  get expandComponent(): any {    \r\n    return this._expandComponent;\r\n  }\r\n  set expandComponent(value: any) {    \r\n    this._expandComponent = value;\r\n    if (this._expandComponent !== null && this._expandComponent !== undefined) {\r\n      this.expandColumn = ['expandedDetail'];\r\n    } else {\r\n      this.expandColumn = [];\r\n    }\r\n  }\r\n\r\n  @Input() public rowContextMenuItems: ContextMenuItem[];\r\n  @Input() defaultWidth: number = null;\r\n  @Input() minWidth = 120;\r\n  @Input()\r\n  get columns() {\r\n    return this.tableColumns;\r\n  }\r\n  set columns(fields: TableField<T>[]) {\r\n    (fields || []).forEach((f, i) => {\r\n      // key name error //\r\n      if (f.name.toLowerCase() === 'id') {\r\n        throw 'Field name is reserved.[\"id\"]';\r\n      }      \r\n      const settingFields = (this.tableSetting.columnSetting || []).filter(s => s.name === f.name);\r\n      const settingField = settingFields.length > 0 ? settingFields[0] : null;\r\n      // default value for fields\r\n      f.printable = f.printable || true;\r\n      f.exportable = f.exportable || true;\r\n      f.toExport = f.toExport || ((value, type) => typeof value === 'object' ? null : value || '');\r\n      f.toPrint = (value) =>  typeof value === 'object' ? null : value || '';\r\n      f.enableContextMenu = f.enableContextMenu || true;\r\n      f.header = f.header || titleCase(f.name);\r\n      f.display = getObjectProp('display', 'visible' , settingField, f );\r\n      f.filter = getObjectProp('filter', 'client-side' , settingField, f );\r\n      f.sort = getObjectProp('sort', 'client-side' , settingField, f );\r\n      f.sticky = getObjectProp('sticky', 'none' , settingField, f );\r\n      f.width =  getObjectProp('width', this.defaultWidth , settingField, f );\r\n    });\r\n    this.tableColumns = fields;   \r\n    this.updateColumn();     \r\n  }\r\n\r\n  public updateColumn() {\r\n    if (isNullorUndefined(this.tableSetting.columnSetting)) {\r\n      this.tableSetting.columnSetting = clone(this.tableColumns);\r\n      this.refreshTableSetting();\r\n    }\r\n    this.setDisplayedColumns();\r\n  }\r\n\r\n  /*************************************** I/O parameters *********************************/\r\n  @Input() printConfig: PrintConfig = {};  \r\n  @Input() sticky: boolean;\r\n  @Input() pending: boolean;\r\n  @Input() rowHeight = 48;\r\n  @Input() headerHeight = 56;\r\n  @Input() footerHeight = 48;\r\n  @Input() headerEnable = true;\r\n  @Input() footerEnable = false;\r\n  @Input() showNoData: boolean;\r\n  @Input() showReload: boolean;  \r\n  // tslint:disable-next-line: no-output-on-prefix\r\n  @Output() onTableEvent: EventEmitter<ITableEvent> = new EventEmitter();\r\n  @Output() onRowEvent: EventEmitter<IRowEvent> = new EventEmitter();\r\n  @Output() settingChange: EventEmitter<any> = new EventEmitter();\r\n  @Output() paginationChange: EventEmitter<TablePagination> = new EventEmitter();\r\n  \r\n\r\n  //**this event is deperact and move to onRowEvent */\r\n  // @Output() rowActionMenuChange: EventEmitter<IRowActionMenuEvent<any>> = new EventEmitter();\r\n  \r\n  /*************************************** Expand Row *********************************/\r\n  expandedElement: TableRow | null;\r\n\r\n  constructor(public tableService: TableService, public cdr: ChangeDetectorRef) {    \r\n    this.showProgress = true;\r\n    this.tableSetting = {\r\n      direction: 'ltr',\r\n      columnSetting: null,\r\n      visibaleActionMenu: null\r\n    };\r\n  }\r\n\r\n  // Variables //\r\n  progressColumn: string[] = [];\r\n  displayedColumns: string[] = [];\r\n  // private menus: TableMenu[] = [];\r\n  public tableColumns: TableField<T>[];\r\n  public tvsDataSource: TableVirtualScrollDataSource<T> = new TableVirtualScrollDataSource<T>([]);\r\n\r\n  private _rowSelectionMode: TableSelectionMode;\r\n  private _rowSelectionModel = new SelectionModel<T>(true, []);\r\n  private _tablePagination: TablePagination = { };\r\n  public tablePagingMode: TablePaginationMode  = 'none';\r\n  public viewportClass: 'viewport' | 'viewport-with-pagination' = 'viewport-with-pagination';\r\n  tableSetting: TableSetting;\r\n\r\n  /**************************************** Refrence Variables ***************************************/\r\n  @ViewChild(MatTable, { static: true }) table !: MatTable<any>;\r\n  @ViewChild(CdkVirtualScrollViewport, { static: true }) viewport !: CdkVirtualScrollViewport;    \r\n  /**************************************** Methods **********************************************/\r\n\r\n  refreshTableSetting() {\r\n    // this.tableSetting = clone(this.tableSetting);\r\n  }\r\n\r\n  updatePagination() {    \r\n    if (isNullorUndefined(this.tvsDataSource)){\r\n      return;\r\n    }      \r\n    if (this.tablePagingMode === 'client-side' || this.tablePagingMode === 'server-side') {\r\n      this.viewportClass = 'viewport-with-pagination';\r\n      if ( !isNullorUndefined(this.tvsDataSource.paginator)) {\r\n        let dataLen = this.tvsDataSource.paginator.length;\r\n        if (!isNullorUndefined(this._tablePagination.length) && this._tablePagination.length > dataLen) {\r\n          dataLen = this._tablePagination.length;\r\n        }\r\n        this.tvsDataSource.paginator.length = dataLen;\r\n      } \r\n    } else {\r\n      this.viewportClass = 'viewport';\r\n      if ((this.tvsDataSource as any)._paginator !== undefined) {\r\n        delete (this.tvsDataSource as any)._paginator;\r\n      }\r\n    } \r\n    this.tvsDataSource.refreshFilterPredicate();\r\n  }\r\n\r\n  public clear() {\r\n    if (!isNullorUndefined(this.tvsDataSource)) {\r\n      if (this.viewport) {\r\n        this.viewport.scrollTo({ top: 0, behavior: 'auto' });\r\n      }\r\n      this.tvsDataSource.clearData();\r\n      this.expandedElement = null;\r\n    }\r\n    if(this._rowSelectionModel) {\r\n      this._rowSelectionModel.clear();\r\n    }\r\n    this.cdr.detectChanges()\r\n  }  \r\n \r\n  setDisplayedColumns() {    \r\n    if (this.columns) {\r\n      this.displayedColumns = [];\r\n      this.columns.forEach((colunm, index) => {\r\n        colunm.index = index;\r\n        if (colunm.display === undefined || colunm.display === 'visible' || colunm.display === 'prevent-hidden') {\r\n          this.displayedColumns.push(colunm.name);\r\n        }        \r\n      }); \r\n      //bugfixed because of double header show\r\n      // if ((this._rowSelectionMode === 'multi' || this._rowSelectionMode === 'single') && this.displayedColumns.indexOf('row-checkbox') === -1) {\r\n      //   this.displayedColumns.unshift('row-checkbox');\r\n      // } \r\n      setTimeout( () => {\r\n        if ((this._rowSelectionMode === 'multi' || this._rowSelectionMode === 'single') && this.displayedColumns.indexOf('row-checkbox') === -1) {\r\n          this.displayedColumns.unshift('row-checkbox');\r\n        }\r\n      }, 0); \r\n\r\n      if (this.tableSetting.visibleTableMenu !== false) {\r\n        this.displayedColumns.push('table-menu');\r\n      }\r\n    }\r\n    // this.updatePagination();\r\n  }\r\n\r\n  /************************************ Drag & Drop Column *******************************************/ \r\n  public refreshGrid() {\r\n    this.cdr.detectChanges()\r\n    this.table.renderRows();\r\n  }\r\n\r\n  public moveRow(from: number, to: number) {\r\n    if (from >= 0 && from < this.tvsDataSource.data.length  && to >= 0 && to < this.tvsDataSource.data.length ) {      \r\n      this.tvsDataSource.data[from].id = to;\r\n      this.tvsDataSource.data[to].id = from;        \r\n      moveItemInArray(this.tvsDataSource.data, from, to);\r\n      this.tvsDataSource.data = Object.assign([], this.tvsDataSource.data);\r\n    }\r\n  }\r\n\r\n  moveColumn(from: number, to: number) {\r\n    setTimeout(() => {\r\n      moveItemInArray(this.columns, from, to);\r\n      this.refreshColumn(this.columns);\r\n    });\r\n  }\r\n\r\n  refreshColumn(columns: TableField<T>[]) {\r\n    if (this.viewport) {      \r\n      const currentOffset = this.viewport.measureScrollOffset();\r\n      this.columns = columns;\r\n      this.setDisplayedColumns();\r\n      setTimeout(() => this.viewport.scrollTo({ top: currentOffset, behavior: 'auto' }), 0);\r\n    }\r\n  }\r\n\r\n  saveSetting(tableSetting: TableSetting, raiseEvent: boolean = false) {    \r\n    if (tableSetting !== null) {\r\n      this.tableSetting = tableSetting;\r\n      this.refreshColumn(tableSetting.columnSetting);\r\n    }\r\n    if (raiseEvent === true) {\r\n      this.settingChange.emit(this.tableSetting);\r\n    }\r\n  }\r\n\r\n  /************************************ Selection Table Row *******************************************/\r\n\r\n  /** Whether the number of selected elements matches the total number of rows. */\r\n  isAllSelected() {\r\n    const numSelected = this._rowSelectionModel.selected.length;\r\n    const numRows = this.tvsDataSource.data.length;\r\n    return numSelected === numRows;\r\n  }\r\n\r\n  /** Selects all rows if they are not all selected; otherwise clear selection. */\r\n  masterToggle() {\r\n    this.isAllSelected() ?\r\n      this._rowSelectionModel.clear() :\r\n      this.tvsDataSource.data.forEach(row => this._rowSelectionModel.select(row));    \r\n    this.onRowEvent.emit({ event: 'MasterSelectionChange', sender:  this._rowSelectionModel});\r\n  }\r\n\r\n  onRowSelectionChange(e: any, row: T) {\r\n    if (e) {      \r\n      this._rowSelectionModel.toggle(row);\r\n      this.onRowEvent.emit({ event: 'RowSelectionChange', sender:  this._rowSelectionModel});\r\n    }\r\n  }\r\n\r\n  /** The label for the checkbox on the passed row */\r\n  // checkboxLabel(row?: T): string {\r\n  //   if (!row) {\r\n  //     return `${this.isAllSelected() ? 'select' : 'deselect'} all`;\r\n  //   }\r\n  //   return `${this._rowSelectionModel.isSelected(row) ? 'deselect' : 'select'} row ${row.id + 1}`;\r\n  // } \r\n\r\n}\r\n\r\n","export abstract class AbstractFilter<T = any> {\r\n  /*\r\n    type variable is array because in future may be\r\n    control have two or more parameters such as ranger[from, to]\r\n  */\r\n  public parameters?: [{value: T, text: string}];\r\n  public type: 'and' | 'or';\r\n  abstract selectedIndex: number;\r\n  abstract readonly selectedValue: FilterOperation;\r\n  abstract toString(dynamicVariable: any): string;\r\n  abstract toPrint(): string;\r\n  abstract toSql(): string;\r\n  abstract getOperations(): FilterOperation[];\r\n  public hasValue() {\r\n    if (this.parameters !== null) {\r\n      return this.parameters.filter( p => p.value != null && p.value !== undefined && p.value.toString() !== '').length > 0;\r\n    }\r\n  }\r\n}\r\n\r\nexport  interface FilterOperation {\r\n  predicate: string;\r\n  text: string;\r\n}\r\n","import { AbstractFilter, FilterOperation } from './abstract-filter';\r\nimport { TableIntl } from '../../../../international/table-Intl';\r\n\r\nconst contains = 'a.toString().includes(b)';\r\nconst equals = 'a.toString() === b.toString()';\r\nconst startsWith = 'a.toString().startsWith(b)';\r\nconst endsWith = 'a.toString().endsWith(b.toString())';\r\nconst empty = '!a';\r\nconst notEmpty = '!!a';\r\nconst operations = [contains, equals, startsWith, endsWith, empty, notEmpty];\r\n\r\nexport class TextFilter extends AbstractFilter<string> {\r\n  private static sql = ['LIKE \"%[*]%\"', '= \"[*]\"', 'LIKE \"%[*]\"', 'LIKE \"[*]%\"', 'IS NULL', 'IS NOT NULL'];\r\n  private static operationList: FilterOperation[] = [];\r\n\r\n  constructor(public languagePack: TableIntl) {\r\n    super();\r\n    this._selectedIndex = 0;\r\n    if ( TextFilter.operationList.length === 0) { // init for first time\r\n      operations.forEach(fn => {\r\n        TextFilter.operationList.push({ predicate: fn, text: null});\r\n      });\r\n    }\r\n    TextFilter.operationList[0].text = languagePack.filterLabels.TextContains;    // contains //\r\n    TextFilter.operationList[1].text = languagePack.filterLabels.TextEquals;      // equals //\r\n    TextFilter.operationList[2].text = languagePack.filterLabels.TextStartsWith;  // startsWith //\r\n    TextFilter.operationList[3].text = languagePack.filterLabels.TextEndsWith;    // endsWith //\r\n    TextFilter.operationList[4].text = languagePack.filterLabels.TextEmpty;       // empty //\r\n    TextFilter.operationList[5].text = languagePack.filterLabels.TextNotEmpty;    // notEmpty //\r\n  }\r\n\r\n  // tslint:disable-next-line:variable-name\r\n  private _selectedIndex: number = null;\r\n  get selectedIndex(): number {\r\n    return this._selectedIndex;\r\n  }\r\n  set selectedIndex(value: number) {\r\n    this._selectedIndex = value;\r\n    // init filter parameters\r\n    if (value === 0 || value === 1 || value === 2 || value === 3 ) { // contains equals startsWith endsWith\r\n      this.parameters = [{ value: '', text: this.languagePack.filterLabels.Text }];\r\n    } else { // empty notEmpty\r\n      this.parameters = null;\r\n    }\r\n  }\r\n\r\n  get selectedValue(): FilterOperation {\r\n    if (this._selectedIndex !== null) {\r\n      return TextFilter.operationList[this._selectedIndex];\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public getOperations(): FilterOperation[] {\r\n    return TextFilter.operationList;\r\n  }\r\n\r\n  public toString(dynamicVariable: any): string {\r\n    const a = '_a$';\r\n    const b = '_b$';\r\n    const predicate = this.selectedValue.predicate.replace('a', a).replace('b', b);\r\n    const statement = predicate.replace(a, `${a}['${dynamicVariable}']?.toString()?.toLowerCase()`);\r\n    // one static parameters equals  notEquals greaterThan lessThan //\r\n    if (this._selectedIndex === 0 ||\r\n      this._selectedIndex === 1 ||\r\n      this._selectedIndex === 2 ||\r\n      this._selectedIndex === 3 ) {\r\n        const value = '\\'' + (this.parameters[0].value !== null ? this.parameters[0].value.toLowerCase() : ' null ') + '\\'';\r\n        return statement.replace('_b$', value);\r\n    } else { // without static parameters\r\n      return statement;\r\n    }\r\n  }\r\n\r\n  public toPrint(): string {\r\n    return TextFilter.operationList[this._selectedIndex].text + ' ' + this.parameters[0].value + ' ' + (this.type || '') + ' ';\r\n  }\r\n\r\n  public toSql(): string {\r\n    return TextFilter.sql[this._selectedIndex].replace('[*]', (this.parameters[0].value || '')) + (this.type || '') + ' ';\r\n  }\r\n}\r\n\r\n","import { AbstractFilter, FilterOperation } from './abstract-filter';\r\nimport { TableIntl } from '../../../../international/table-Intl';\r\n\r\nconst equals = 'a === b';\r\nconst notEquals = 'a !== b';\r\nconst greaterThan = 'a > b';\r\nconst lessThan = 'a < b';\r\nconst empty = '!a';\r\nconst notEmpty = '!!a';\r\nconst operations = [equals, notEquals, greaterThan, lessThan, empty, notEmpty];\r\n\r\nexport class NumberFilter extends AbstractFilter<number> {\r\n  private static sql = ['=', '<>', '>', '<', 'IS NULL', 'IS NOT NULL'];\r\n  private static operationList: FilterOperation[] = [];\r\n  // private languageText: LanguagePack;\r\n\r\n  constructor(public languagePack: TableIntl) {\r\n    super();\r\n    if ( NumberFilter.operationList.length === 0) {\r\n      operations.forEach(fn => {\r\n        NumberFilter.operationList.push({ predicate: fn, text: null});\r\n      });\r\n    }\r\n    NumberFilter.operationList[0].text = languagePack.filterLabels.NumberEquals;      // equals //\r\n    NumberFilter.operationList[1].text = languagePack.filterLabels.NumberNotEquals;   // notEquals //\r\n    NumberFilter.operationList[2].text = languagePack.filterLabels.NumberGreaterThan; // greaterThan //\r\n    NumberFilter.operationList[3].text = languagePack.filterLabels.NumberLessThan;    // lessThan //\r\n    NumberFilter.operationList[4].text = languagePack.filterLabels.NumberEmpty;       // empty //\r\n    NumberFilter.operationList[5].text = languagePack.filterLabels.NumberNotEmpty;    // notEmpty //\r\n  }\r\n\r\n  // tslint:disable-next-line:variable-name\r\n  private _selectedIndex: number = null;\r\n  get selectedIndex(): number {\r\n    return this._selectedIndex;\r\n  }\r\n  set selectedIndex(value: number) {\r\n    this._selectedIndex = value;\r\n    // init filter parameters\r\n    if (value === 0 || value === 1 || value === 2 || value === 3 ) { // equals notEquals greaterThan lessThan\r\n      this.parameters = [{ value: null, text: this.languagePack.filterLabels.Number }];\r\n    } else { // empty notEmpty\r\n      this.parameters = null;\r\n    }\r\n  }\r\n\r\n  get selectedValue(): FilterOperation {\r\n    if (this._selectedIndex !== null) {\r\n      return NumberFilter.operationList[this._selectedIndex];\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public getOperations(): FilterOperation[] {\r\n    return NumberFilter.operationList;\r\n  }\r\n\r\n  public toString(dynamicVariable: any): string {\r\n    const a = '_a$';\r\n    const b = '_b$';\r\n    const predicate = this.selectedValue.predicate.replace('a', a).replace('b', b);\r\n    const statement = predicate.replace(a, `${a}['${dynamicVariable}']`);\r\n    // one static variable (equals, notEquals,greaterThan,lessThan)\r\n    if (this._selectedIndex === 0 ||\r\n      this._selectedIndex === 1 ||\r\n      this._selectedIndex === 2 ||\r\n      this._selectedIndex === 3 ) {\r\n        const value = this.parameters[0].value ? this.parameters[0].value.toString() : ' null ';\r\n        return statement.replace(b, value);\r\n    } else { // none static variable (empty, notEmpty)\r\n      return statement;\r\n    }\r\n  }\r\n\r\n  public toPrint(): string {\r\n    return NumberFilter.operationList[this._selectedIndex].text + ' ' + this.parameters[0].value + ' ' + (this.type || '') + ' ';\r\n  }\r\n\r\n  public toSql(): string {\r\n    return NumberFilter.sql[this._selectedIndex] + ' ' + (this.parameters[0].value || '') + ' ' + (this.type || '') + ' ';\r\n  }\r\n}\r\n","import { LanguagePack, TableLabels, FilterLabels, MenuLabels } from '../models/language-pack.model';\r\nimport { Injectable } from '@angular/core';\r\nimport { MatPaginatorIntl } from '@angular/material/paginator';\r\nimport { Subject } from 'rxjs';\r\n\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TableIntl implements LanguagePack {\r\n  menuLabels: MenuLabels = {\r\n    saveData: 'Save Data',\r\n    fullScreen: 'Full Screen',\r\n    \r\n    columnSetting: 'Column Setting',\r\n    saveTableSetting: 'Save Table Setting',\r\n    clearFilter: 'Clear Filter',\r\n    jsonFile: 'Json File',\r\n    csvFile: 'CSV File',\r\n    printTable: 'Print Table',\r\n    filterMode: 'Filter Mode:',\r\n    filterLocalMode: 'Local',\r\n    filterServerMode: 'Server',\r\n    sortMode: 'Sort Mode:',\r\n    sortLocalMode: 'Local',\r\n    sortServerMode: 'Server',\r\n    printMode: 'Print Mode',\r\n    printYesMode: 'Yes',\r\n    printNoMode: 'No',\r\n    pinMode: 'Pin Mode:',\r\n    pinNoneMode: 'None',\r\n    pinStartMode: 'Start',\r\n    pinEndMode: 'End',\r\n    thereIsNoColumn: 'There is no column.'\r\n  };\r\n\r\n  paginatorLabels: MatPaginatorIntl = {\r\n    changes:  new Subject<void>(),\r\n    itemsPerPageLabel: 'Items per page:',\r\n    nextPageLabel: 'Next Page:',\r\n    previousPageLabel: 'Previous Page:',\r\n    firstPageLabel: 'First Page:',\r\n    lastPageLabel: 'Last Page:',\r\n    getRangeLabel : (page: number, pageSize: number, length: number) => {\r\n      if (length === 0 || pageSize === 0) { return `0 of ${length}`; }\r\n      length = Math.max(length, 0);\r\n      const startIndex = page * pageSize;\r\n      const endIndex = startIndex < length ?\r\n          Math.min(startIndex + pageSize, length) :\r\n          startIndex + pageSize;\r\n      return `${startIndex + 1} - ${endIndex} of ${length}`;\r\n    }\r\n  };\r\n\r\n  tableLabels: TableLabels =\r\n  {\r\n    NoData: 'No records found.'\r\n  };\r\n\r\n  filterLabels: FilterLabels = {\r\n    Clear: 'Clear',\r\n    Search: 'Search',\r\n    And: 'And',\r\n    Or: 'Or',\r\n    /* Text Compare */\r\n    Text: 'Text',\r\n    TextContains: 'Contains',\r\n    TextEmpty: 'Empty',\r\n    TextStartsWith: 'Starts With',\r\n    TextEndsWith: 'Ends With',\r\n    TextEquals: 'Equals',\r\n    TextNotEmpty: 'Not Empty',\r\n    /* Number Compare */\r\n    Number: 'Number',\r\n    NumberEquals: 'Equals',\r\n    NumberNotEquals: 'Not Equals',\r\n    NumberGreaterThan: 'Greater Than',\r\n    NumberLessThan: 'Less Than',\r\n    NumberEmpty: 'Empty',\r\n    NumberNotEmpty: 'Not Empty',\r\n    /* Category List Compare */\r\n    CategoryContains: 'Contains',\r\n    CategoryNotContains: 'Not Contains',\r\n    /* Boolean Compare */\r\n    /* Date Compare */\r\n  };\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","import { AfterViewInit, ChangeDetectionStrategy, Component, HostBinding, Output, ViewChild,\r\n         Input, EventEmitter, OnInit, ChangeDetectorRef, QueryList, ViewChildren, OnDestroy, ContentChildren } from '@angular/core';\r\nimport { TableField } from './../../../models/table-field.model';\r\nimport { TableService } from '../../dynamic-mat-table.service';\r\nimport { TextFilter } from './compare/text-filter';\r\nimport { NumberFilter } from './compare/number-filter';\r\nimport { AbstractFilter } from './compare/abstract-filter';\r\nimport { transition, trigger, query, style, stagger, animate } from '@angular/animations';\r\nimport { TableIntl } from '../../../international/table-Intl';\r\nimport { MatInput } from '@angular/material/input';\r\nimport { MatMenuTrigger } from '@angular/material/menu';\r\nimport { isNullorUndefined } from '../../../cores/type';\r\nimport { Subscription } from 'rxjs';\r\n\r\nconst listAnimation = trigger('listAnimation', [\r\n  transition('* <=> *', [\r\n    query(':enter',\r\n      [style({ opacity: 0 }), stagger('10ms', animate('400ms ease-out', style({ opacity: 1 })))],\r\n      { optional: true }\r\n    ),\r\n  ])\r\n]);\r\n\r\n@Component({\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'header-filter',\r\n  templateUrl: './header-filter.component.html',\r\n  styleUrls: ['./header-filter.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  animations: [listAnimation]\r\n})\r\nexport class HeaderFilterComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  @Input() field?: TableField<any>;\r\n  @Output() filterChanged: EventEmitter<AbstractFilter[]> = new EventEmitter<AbstractFilter[]>();\r\n\r\n  @ContentChildren('filterInput') filterInputList !: QueryList<MatInput>;\r\n  @ViewChild(MatMenuTrigger, { static: true }) menu !: MatMenuTrigger;\r\n\r\n  private filterList: AbstractFilter[] = [];\r\n  private eventsSubscription: Subscription;\r\n  @Input()\r\n  get filters(): AbstractFilter[] {\r\n    if ( isNullorUndefined(this.filterList) === true || this.filterList.length === 0) {\r\n      this.filterList = [];\r\n      this.addNewFilter(this.field.type || 'text');\r\n    }\r\n    return this.filterList;\r\n  }\r\n  set filters(values: AbstractFilter[]) {\r\n    this.filterList = values;\r\n  }\r\n\r\n  @HostBinding('class.has-value')\r\n  get hasValue(): boolean {\r\n    return this.filters && this.filters.filter( f => f.hasValue() === true).length > 0;\r\n  }\r\n\r\n  @HostBinding('class.show-trigger')\r\n  get showTrigger(): boolean {\r\n    if(this.menu === undefined) { \r\n      return false;\r\n    } else {\r\n      return this.menu.menuOpen || this.hasValue;\r\n    }\r\n  }\r\n\r\n  constructor(public languagePack: TableIntl, public service: TableService, private cdr: ChangeDetectorRef) {\r\n  }\r\n\r\n  ngOnDestroy(): void {    \r\n    if (this.eventsSubscription) {\r\n      this.eventsSubscription.unsubscribe();\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (isNullorUndefined(this.filters)) {\r\n      this.filters = [];\r\n      this.addNewFilter(this.field.type);\r\n    }\r\n  }\r\n\r\n  addNewFilter(type: string = 'text') {\r\n    switch (type || 'text') {\r\n      case 'text': {\r\n        this.filterList.push(new TextFilter(this.languagePack));\r\n        break;\r\n      }\r\n      case 'number': {\r\n        this.filterList.push(new NumberFilter(this.languagePack));\r\n        break;\r\n      }\r\n      case 'date': {\r\n        // this.compare = new DateCompare(service);\r\n        break;\r\n      }\r\n      case 'boolean': {\r\n        // this.compare = new BooleanCompare(service);\r\n        break;\r\n      }\r\n      default: this.filterList.push(new TextFilter(this.languagePack));\r\n    }\r\n    this.filters[this.filters.length - 1].selectedIndex = 0;\r\n    return this.filters[this.filters.length - 1];\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    if (this.menu) {\r\n      this.eventsSubscription = this.menu.menuOpened.subscribe(() => this.focusToLastInput());\r\n    }\r\n  }\r\n\r\n  focusToLastInput() {\r\n    setTimeout(() => {\r\n      if (this.filterInputList.length > 0) {\r\n        this.filterInputList.last.focus();\r\n      }\r\n    });\r\n  }\r\n\r\n  filterAction_OnClick(index, action) {\r\n    if (action === 0 || action === 1) { // and or\r\n      this.filters[index].type = action === 0 ? 'and' : 'or';\r\n      if (this.filters.length === index + 1) {\r\n        this.addNewFilter(this.field.type);\r\n        this.focusToLastInput();\r\n      }\r\n    } else if (action === 2 && this.filters.length > 1) { // delete\r\n      setTimeout(() => {\r\n        this.filters.splice(index, 1);\r\n        this.cdr.detectChanges();\r\n        this.focusToLastInput();\r\n      }); // bug for delete filter item(unwanted reaction close menu)\r\n    }\r\n  }\r\n\r\n  clearColumn_OnClick() {\r\n    this.filterList = [];\r\n    this.filterChanged.emit(this.filterList);\r\n  }\r\n\r\n  applyFilter_OnClick() {\r\n    this.filterChanged.emit(this.filterList);\r\n  }\r\n\r\n}\r\n\r\n","import { Component, OnInit, ViewChild, ElementRef, Inject } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { PrintConfig } from '../../../models/print-config.model';\r\n\r\n// tslint:disable-next-line:max-line-length\r\nconst styles = 'body{margin:15px;}table{width:100%;border-collapse:collapse;}h2{text-align:center;}th.mat-header-cell{text-align:center;}div{text-align:center;margin:30px }tr{border-bottom:1px solid }td,th{padding:10px; text-align: center }.param-list{text-align: left;border:solid gray;border-width: 0px 0px 2px 0;margin-bottom: 10px;padding-bottom: 10px;}.param {display: inline-block;margin: 10px;}';\r\n\r\n@Component({\r\n  // tslint:disable-next-line: component-selector\r\n  selector: 'print-dialog',\r\n  templateUrl: './print-dialog.component.html',\r\n  styleUrls: ['./print-dialog.component.scss']\r\n})\r\nexport class PrintTableDialogComponent implements OnInit {\r\n  @ViewChild('printContentRef', {static: true}) printContentRef !: ElementRef;\r\n\r\n  constructor( public dialogRef: MatDialogRef<PrintTableDialogComponent>, @Inject(MAT_DIALOG_DATA) public printTable: PrintConfig) {}\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  print() {\r\n    setTimeout(() => {\r\n      const dialogConfig = 'width=600,height=700,scrollbars=no,menubar=no,toolbar=no,location=no,status=no,titlebar=no';\r\n      const printDoc = `\r\n    <html>\r\n      <head>\r\n        <style> ${styles} </style>\r\n      </head>\r\n      <body onload=\"window.print();\" onafterprint=\"window.close()\">\r\n        ${this.printContentRef.nativeElement.innerHTML}\r\n      </body>\r\n    </html>\r\n    `;\r\n\r\n      const popupWinindow = window.open('', '_blank', dialogConfig);\r\n      popupWinindow.document.write(printDoc);\r\n      popupWinindow.document.close();\r\n    });\r\n  }\r\n\r\n}\r\n","import { Subject } from 'rxjs';\r\n\r\nexport class ResizeColumn {\r\n  startX: number;\r\n  startWidth: number;\r\n  isResizingRight: boolean;\r\n  currentResizeIndex: number;\r\n  resizeHandler?: 'left' | 'right' = null;\r\n  public widthUpdate: Subject<{i: number, w: number}> = new Subject<{i: number, w: number}>();\r\n}\r\n","import { ElementRef } from \"@angular/core\";\r\n\r\nexport function requestFullscreen(element: ElementRef) {\r\n    if (element.nativeElement.requestFullscreen) {\r\n      element.nativeElement.requestFullscreen();\r\n    } else if (element.nativeElement.webkitRequestFullscreen) { /* Safari */\r\n      element.nativeElement.webkitRequestFullscreen();\r\n    } else if (element.nativeElement.msRequestFullscreen) { /* IE11 */\r\n      element.nativeElement.msRequestFullscreen();\r\n    }\r\n  }","import { Component, OnInit, AfterViewInit,\r\n         QueryList, ElementRef, ViewChild, TemplateRef, Renderer2, ChangeDetectionStrategy, ChangeDetectorRef, Input, OnDestroy, ContentChildren} from '@angular/core';\r\nimport { TableCoreDirective } from '../cores/table.core.directive';\r\nimport { TableService } from './dynamic-mat-table.service';\r\nimport { TableRow } from '../models/table-row.model';\r\nimport { TableField } from '../models/table-field.model';\r\nimport { AbstractFilter } from './extensions/filter/compare/abstract-filter';\r\nimport { TablePagination } from '../models/table-pagination.model';\r\nimport { HeaderFilterComponent } from './extensions/filter/header-filter.component';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { PrintTableDialogComponent } from './extensions/print-dialog/print-dialog.component';\r\nimport { trigger, transition, style, animate, query, stagger, state } from '@angular/animations';\r\nimport { ResizeColumn } from '../models/resize-column.mode';\r\nimport { TableIntl } from '../international/table-Intl';\r\nimport { TableMenuActionChange } from './extensions/table-menu/table-menu.component';\r\nimport { CdkDragDrop, CdkDragStart, moveItemInArray } from '@angular/cdk/drag-drop';\r\nimport { isNullorUndefined } from '../cores/type';\r\nimport { TableSetting } from '../models/table-setting.model';\r\nimport { delay } from 'rxjs/operators';\r\nimport { FixedSizeTableVirtualScrollStrategy } from '../cores/fixed-size-table-virtual-scroll-strategy';\r\nimport { Subscription } from 'rxjs';\r\nimport { MatMenuTrigger } from '@angular/material/menu';\r\nimport { ContextMenuItem } from '../models/context-menu.model';\r\nimport { OverlayContainer } from '@angular/cdk/overlay';\r\nimport { MatTooltipDefaultOptions, MAT_TOOLTIP_DEFAULT_OPTIONS } from '@angular/material/tooltip';\r\nimport { requestFullscreen } from '../utilies/html.helper';\r\nimport { TableVirtualScrollDataSource } from '../cores/table-data-source';\r\n\r\nexport const tableAnimation = trigger('tableAnimation', [\r\n  transition('void => *', [\r\n    query(':enter', style({ transform: 'translateX(-50%)', opacity: 0 }), {\r\n      //limit: 5,\r\n      optional: true,\r\n    }),\r\n    query(':enter',\r\n      stagger('0.01s', [\r\n        animate('0.5s ease', style({ transform: 'translateX(0%)', opacity: 1 })\r\n        ),\r\n      ]),\r\n      {  \r\n        //limit: 5, \r\n        optional: true }\r\n    ),\r\n  ]),\r\n]);\r\n\r\nexport const expandAnimation = trigger('detailExpand', [\r\n  state('collapsed', style({height: '0px', minHeight: '0'})),\r\n  state('expanded', style({height: '*'})),\r\n  transition('expanded <=> collapsed', animate('100ms cubic-bezier(0.4, 0.0, 0.2, 1)')),\r\n]); \r\n \r\nexport const cellTooltipDefaults: MatTooltipDefaultOptions = {\r\n  showDelay: 500,\r\n  hideDelay: 400,\r\n  touchendHideDelay: 1000,\r\n  position: 'above',\r\n};\r\n\r\n@Component({\r\n  // tslint:disable-next-line: component-selector\r\n  selector: 'dynamic-mat-table',\r\n  templateUrl: './dynamic-mat-table.component.html',\r\n  styleUrls: ['./dynamic-mat-table.component.scss'],\r\n  animations: [tableAnimation, expandAnimation], \r\n  // changeDetection: ChangeDetectionStrategy.OnPush,\r\n  providers: [\r\n    {provide: MAT_TOOLTIP_DEFAULT_OPTIONS, useValue: cellTooltipDefaults}\r\n  ],\r\n})\r\nexport class DynamicMatTableComponent<T extends TableRow> extends TableCoreDirective<T> implements OnInit, AfterViewInit, OnDestroy {\r\n  @ViewChild('tbl', {static: true}) tbl; \r\n  @Input()\r\n  get setting() {\r\n    return this.tableSetting;\r\n  } \r\n  set setting(value: TableSetting) {    \r\n    if ( !isNullorUndefined(value) ) {\r\n      value.columnSetting = value.columnSetting || this.tableSetting.columnSetting;\r\n      value.alternativeRowStyle = value.alternativeRowStyle || this.tableSetting.alternativeRowStyle;\r\n      value.columnSetting = value.columnSetting || this.tableSetting.columnSetting;\r\n      value.direction = value.direction || this.tableSetting.direction;\r\n      value.normalRowStyle = value.normalRowStyle || this.tableSetting.normalRowStyle;      \r\n      value.visibaleActionMenu = value.visibaleActionMenu || this.tableSetting.visibaleActionMenu;\r\n      value.visibleTableMenu = value.visibleTableMenu || this.tableSetting.visibleTableMenu;\r\n      this.tableSetting = value;\r\n      this.setDisplayedColumns();\r\n    }\r\n  } \r\n\r\n  @ViewChild(MatMenuTrigger) contextMenu: MatMenuTrigger;\r\n  public contextMenuPosition = { x: '0px', y: '0px' };  \r\n  @ViewChild('printRef', { static: true }) printRef !: TemplateRef<any>;\r\n  @ViewChild('printContentRef', { static: true }) printContentRef !: ElementRef;\r\n  @ContentChildren(HeaderFilterComponent) headerFilterList !: QueryList<HeaderFilterComponent>;  \r\n  private dragDropData = {dragColumnIndex: -1, dropColumnIndex: -1};\r\n  private eventsSubscription: Subscription;\r\n  printing = true;\r\n  printTemplate: TemplateRef<any> = null;\r\n  resizeColumn: ResizeColumn = new ResizeColumn();\r\n  // mouse resize\r\n  resizableMousemove: () => void;\r\n  resizableMouseup: () => void;\r\n\r\n  constructor(\r\n    public dialog: MatDialog,\r\n    private renderer: Renderer2,\r\n    public languagePack: TableIntl,\r\n    public tableService: TableService,\r\n    public cdr: ChangeDetectorRef,\r\n    private overlayContainer: OverlayContainer\r\n  ) {\r\n    super(tableService, cdr); \r\n    this.overlayContainer.getContainerElement().addEventListener('contextmenu', (e) =>{\r\n      e.preventDefault(); return false;\r\n    });\r\n    \r\n    this.eventsSubscription = this.resizeColumn.widthUpdate.pipe(delay(100)).subscribe((data) => {\r\n      this.columns[data.i].width = data.w;\r\n      if (this.tableSetting.columnSetting[data.i]) {\r\n        this.tableSetting.columnSetting[data.i].width = data.w;\r\n      }\r\n      this.refreshGrid();\r\n    });\r\n  }\r\n\r\n  indexTrackFn = (index: number) => {    \r\n    return index;\r\n  };\r\n\r\n  trackColumn(index: number, item: TableField<T>): string {\r\n    return `${item.index}`;\r\n  }\r\n\r\n  ngOnDestroy(): void {    \r\n    if (this.eventsSubscription) {\r\n      this.eventsSubscription.unsubscribe();\r\n    }\r\n  }\r\n\r\n  public refreshUI() {\r\n    const scrollStrategy: FixedSizeTableVirtualScrollStrategy = this.viewport['_scrollStrategy'];        \r\n    scrollStrategy?.viewport?.checkViewportSize();\r\n    scrollStrategy?.viewport?.scrollToOffset(0);    \r\n    this.cdr.detectChanges();\r\n  }\r\n\r\n  ngOnInit() {    \r\n    const scrollStrategy: FixedSizeTableVirtualScrollStrategy = this.viewport['_scrollStrategy'];\r\n\r\n    scrollStrategy.offsetChange.subscribe(offset => {      \r\n      // console.log(offset);\r\n    })\r\n    this.viewport.renderedRangeStream.subscribe( t => {\r\n      // in expanding row scrolling make not good apperance therefor close it.\r\n      if (this.expandedElement && this.expandedElement.option && this.expandedElement.option.expand) {\r\n        // console.log('clear', t); \r\n        // this.expandedElement.option.expand = false;\r\n        // this.expandedElement = null;\r\n      }\r\n    })\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.tvsDataSource.paginator = this.paginator;\r\n    this.tvsDataSource.sort = this.sort;    \r\n    this.dataSource.subscribe(x => {\r\n      //console.log(x);      \r\n      this.initSystemField(x);\r\n      this.tvsDataSource.data = x;\r\n      // this.cdr.detectChanges();\r\n      setTimeout(() =>{\r\n        this.refreshUI();\r\n      }, 0);\r\n    });\r\n\r\n    this.tvsDataSource.sort.sortChange.subscribe(sort => {\r\n      this.pagination.pageIndex = 0;\r\n      this.onTableEvent.emit({ event: 'SortChanged', sender: sort })\r\n    });\r\n\r\n    // this.dataSource.dataOfRange$.subscribe((data) => {\r\n    //   // console.log('dataOfRange');\r\n    // });\r\n  }\r\n\r\n  public get inverseOfTranslation(): number {\r\n    if (!this.viewport || !this.viewport[\"_renderedContentOffset\"]) {\r\n      return -0;\r\n    }\r\n    let offset = this.viewport[\"_renderedContentOffset\"];\r\n    return -offset;\r\n  }   \r\n\r\n  // TO DO\r\n  ellipsis(cellRef) {\r\n    // console.log(cellRef.clientHeight);\r\n    // console.log(cellRef.scrollHeight);\r\n    if (cellRef.clientHeight > this.rowHeight) {\r\n      cellRef.style.maxHeight = '48px';\r\n    }\r\n  }\r\n\r\n  rowStyle(row) {\r\n    let style: any =  row?.option?.style || {};\r\n    if (this.setting.alternativeRowStyle && row.id % 2 === 0) {\r\n      // style is high priority\r\n      style = { ...this.setting.alternativeRowStyle ,...style};\r\n    }\r\n    if (this.setting.rowStyle) {\r\n      style = { ...this.setting.rowStyle ,...style};\r\n    }    \r\n    return style;\r\n  }\r\n\r\n  cellClass(option, column) {\r\n    let clas = null;\r\n    if (option && column.name) {\r\n      clas = option[column.name] ? option[column.name].style : null;\r\n    }\r\n    \r\n    if ( clas === null) {\r\n      return column.cellClass;\r\n    } else {\r\n      return {...clas, ...column.cellClass};\r\n    }\r\n  }\r\n\r\n  cellStyle(option, column) {\r\n    let style = null;\r\n    if (option && column.name) {\r\n      style = option[column.name] ? option[column.name].style : null;\r\n    }\r\n    \r\n    if ( style === null) {\r\n      return column.cellStyle;\r\n    } else {\r\n      return {...style, ...column.cellStyle};\r\n    }\r\n  }\r\n\r\n  cellIcon(option, cellName) {\r\n    if (option && cellName) {\r\n      return option[cellName] ? option[cellName].icon : null;\r\n    } else {\r\n      return null;\r\n    }    \r\n  }\r\n\r\n  filter_onChanged(column: TableField<T>, filter: AbstractFilter[]) {\r\n    this.pending = true;\r\n    this.tvsDataSource.setFilter(column.name, filter).subscribe(() => {\r\n      this.pending = false;\r\n    });\r\n  }\r\n\r\n  currentContextMenuSender: any = {};\r\n  onContextMenu(event: MouseEvent, column: TableField<T>, row: any) {    \r\n    if(this.currentContextMenuSender?.time && (new Date().getTime() - this.currentContextMenuSender.time) < 500) {\r\n      return;\r\n    }\r\n    this.contextMenu.closeMenu();\r\n    if (this.contextMenuItems?.length === 0 ) {\r\n      return;\r\n    }\r\n    event.preventDefault();\r\n    this.contextMenuPosition.x = event.clientX + 'px';\r\n    this.contextMenuPosition.y = event.clientY + 'px';\r\n    this.currentContextMenuSender = { column: column, row: row, time: new Date().getTime()};\r\n    this.contextMenu.menuData = this.currentContextMenuSender;\r\n    this.contextMenu.menu.focusFirstItem('mouse');    \r\n    this.onRowEvent.emit({ event: 'BeforContextMenuOpen', sender: {row: row, column: column, contextMenu: this.contextMenuItems}});\r\n    this.contextMenu.openMenu();\r\n  }\r\n\r\n  onContextMenuItemClick(data: ContextMenuItem) {    \r\n    this.contextMenu.menuData.item = data;\r\n    this.onRowEvent.emit({ event: 'ContextMenuClick', sender: this.contextMenu.menuData });\r\n  }\r\n\r\n  tableMenuActionChange(e: TableMenuActionChange) {\r\n    if (e.type === 'TableSetting') {      \r\n       this.saveSetting(e.data, false);\r\n    } else if(e.type === 'FullScreenMode') {\r\n      requestFullscreen(this.tbl.elementRef);\r\n    } else if (e.type === 'Download') {\r\n      if (e.data === 'CSV') {\r\n        this.tableService.exportToCsv<T>(\r\n          this.columns,\r\n          this.tvsDataSource.filteredData,\r\n          this.rowSelectionModel\r\n        );\r\n      } else if (e.data === 'JSON') {\r\n        this.tableService.exportToJson(this.tvsDataSource.filteredData);\r\n      }\r\n    } else if (e.type === 'FilterClear') {\r\n      this.tvsDataSource.clearFilter();\r\n      this.headerFilterList.forEach((hf) => hf.clearColumn_OnClick());\r\n    } else if (e.type === 'Print') {\r\n      this.printConfig.displayedFields = this.columns\r\n        .filter((c) => isNullorUndefined(c.printable) || c.printable === true)\r\n        .map((o) => o.name);\r\n      this.printConfig.title = this.printConfig.title || this.tableName;\r\n      this.printConfig.direction = this.tableSetting.direction || 'ltr';\r\n      this.printConfig.columns = this.tableColumns;\r\n      this.printConfig.data = this.tvsDataSource.filteredData;\r\n      const params = this.tvsDataSource.toTranslate();\r\n      this.printConfig.tablePrintParameters = [];\r\n      params.forEach((item) => {\r\n        this.printConfig.tablePrintParameters.push(item);\r\n      });\r\n\r\n      this.dialog.open(PrintTableDialogComponent, {\r\n        width: '90vw',\r\n        data: this.printConfig,\r\n      });\r\n    } else if (e.type === 'SaveSetting') {\r\n      this.saveSetting(null, true);\r\n    }\r\n  }\r\n\r\n  rowMenuActionChange(contextMenuItem: ContextMenuItem, row: any) {\r\n    console.log('contextMenuItem');    \r\n    this.onRowEvent.emit({ event: 'RowActionMenu', sender: {row: row, action: contextMenuItem}});\r\n    // this.rowActionMenuChange.emit({actionItem: contextMenuItem, rowItem: row });\r\n  }\r\n\r\n  doRendering(e) {\r\n    this.pending = false;\r\n    if (this.viewport.getViewportSize() === 0) {\r\n      // console.log('zero');\r\n    }\r\n  }\r\n\r\n  pagination_onChange(e: TablePagination) {\r\n    // console.log(e);\r\n    this.pending = true;\r\n    this.tvsDataSource.refreshFilterPredicate(); // pagination Bugfixed\r\n    this.paginationChange.emit(e);\r\n  } \r\n\r\n  reload_onClick(){\r\n    this.onTableEvent.emit({ sender: null, event: 'ReloadData'});\r\n  }\r\n\r\n  /////////////////////////////////////////////////////////////////\r\n\r\n  onResizeColumn(event: any, index: number, type: 'left' | 'right') {\r\n    // console.log(index,type);    \r\n    this.resizeColumn.resizeHandler = type;\r\n    this.resizeColumn.startX = event.pageX;\r\n    // console.log(this.resizeColumn.resizeHandler, this.resizeColumn.startX);\r\n    if (this.resizeColumn.resizeHandler === 'right') {\r\n      this.resizeColumn.startWidth = event.target.parentElement.clientWidth;\r\n      this.resizeColumn.currentResizeIndex = index;\r\n    } else {\r\n      if (event.target.parentElement.previousElementSibling === null) {\r\n        // for first column not resize\r\n        return;\r\n      } else {\r\n        this.resizeColumn.startWidth =\r\n          event.target.parentElement.previousElementSibling.clientWidth;\r\n        this.resizeColumn.currentResizeIndex = index;\r\n      }\r\n    }\r\n    event.preventDefault();\r\n    this.mouseMove(index);\r\n  }\r\n\r\n  mouseMove(index: number) {\r\n    this.resizableMousemove = this.renderer.listen(\r\n      'document',\r\n      'mousemove',\r\n      (event) => {\r\n        if (this.resizeColumn.resizeHandler !== null && event.buttons) {\r\n          const rtl = this.direction === 'rtl' ? -1 : 1;\r\n          let width = 0;\r\n          if (this.resizeColumn.resizeHandler === 'right') {\r\n            const dx = event.pageX - this.resizeColumn.startX;\r\n            width = this.resizeColumn.startWidth + rtl * dx;\r\n          } else {\r\n            const dx = this.resizeColumn.startX - event.pageX;\r\n            width = this.resizeColumn.startWidth - rtl * dx;\r\n          }\r\n          if ( this.resizeColumn.currentResizeIndex === index && width > this.minWidth ) {\r\n            this.resizeColumn.widthUpdate.next({\r\n              i: index - (this.resizeColumn.resizeHandler === 'left' ? 1 : 0),\r\n              w: width,\r\n            });\r\n          }\r\n        }\r\n      }\r\n    );\r\n    this.resizableMouseup = this.renderer.listen(\r\n      'document',\r\n      'mouseup',\r\n      (event) => {\r\n        if (this.resizeColumn.resizeHandler !== null) {\r\n          this.resizeColumn.resizeHandler = null;\r\n          this.resizeColumn.currentResizeIndex = -1;       \r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n  public expandRow(rowIndex: number, mode: boolean = true) {    \r\n    if( rowIndex === null || rowIndex === undefined) {\r\n      throw 'Row index is not defined.';      \r\n    }\r\n    if (this.expandedElement === this.tvsDataSource.allData[rowIndex]) {\r\n      this.expandedElement.option.expand = mode;    \r\n      this.expandedElement = this.expandedElement === this.tvsDataSource.allData[rowIndex] ? null : this.tvsDataSource.allData[rowIndex];    \r\n    } else {\r\n      if (this.expandedElement && this.expandedElement !== this.tvsDataSource.allData[rowIndex]) {\r\n        this.expandedElement.option.expand = false;      \r\n      }\r\n      this.expandedElement = null;      \r\n      if (mode === true) {    \r\n        // this.viewport.scrollToIndex(rowIndex, 'smooth');      \r\n        // setTimeout( () => {\r\n        //   this.expandedElement = this.expandedElement === this.dataSource.allData[rowIndex] ? null : this.dataSource.allData[rowIndex];    \r\n        //   if (this.expandedElement.option === undefined || this.expandedElement.option === null) {\r\n        //     this.expandedElement.option = { expand: false};\r\n        //   }\r\n        //   this.expandedElement.option.expand = true;\r\n        //   this.refreshGrid();\r\n        // }, 300);\r\n        this.expandedElement = this.expandedElement === this.tvsDataSource.allData[rowIndex] ? null : this.tvsDataSource.allData[rowIndex];    \r\n        if (this.expandedElement.option === undefined || this.expandedElement.option === null) {\r\n          this.expandedElement.option = { expand: false};\r\n        }\r\n        this.expandedElement.option.expand = true;\r\n      }\r\n    }    \r\n  }\r\n\r\n  onRowSelection(e, row, column: TableField<T>) {\r\n    if (this.rowSelectionMode && this.rowSelectionMode !== 'none' && column.rowSelectionable !== false) {\r\n      this.onRowSelectionChange(e, row);\r\n    }\r\n  }\r\n\r\n  onCellClick(e, row, column: TableField<T>) {    \r\n    this.onRowSelection(e, row, column);\r\n    if (column.clickable !== false) {\r\n      this.onRowEvent.emit({ event: 'CellClick', sender: {row: row, column: column} });\r\n    }\r\n  }\r\n\r\n  onRowDblClick(e, row) {    \r\n    this.onRowEvent.emit({ event: e, sender: {row: row} });\r\n  }\r\n\r\n  onRowClick(e, row) {\r\n    this.onRowEvent.emit({ event: 'RowClick', sender: {row: row} });    \r\n  }\r\n\r\n  /************************************ Drag & Drop Column *******************************************/\r\n\r\n  dragStarted(event: CdkDragStart) {\r\n    // console.log(event);    \r\n    // debugger  \r\n    // this.dragDropData.dragColumnIndex = event.source.;\r\n  }\r\n \r\n  dropListDropped(event: CdkDragDrop<string[]>) {    \r\n    if (event) {\r\n      this.dragDropData.dropColumnIndex = event.currentIndex;\r\n      this.moveColumn(event.previousIndex, event.currentIndex);\r\n    }\r\n  }\r\n\r\n  drop(event: CdkDragDrop<string[]>) {\r\n    moveItemInArray(event.container.data, event.previousIndex, event.currentIndex);\r\n\r\n    // updates moved data and table, but not dynamic if more dropzones\r\n    // this.dataSource.data = clonedeep(this.dataSource.data);\r\n  }\r\n  /************************************  *******************************************/\r\n \r\n  copyProperty(from: any, to: any) {\r\n    const keys = Object.keys(from);\r\n    keys.forEach( key => {\r\n      if (from[key] !== undefined && from[key] === null) {\r\n        to[key] = Array.isArray(from[key]) ? Object.assign([], from[key]) : Object.assign({}, from[key]);\r\n      }\r\n    });\r\n  } \r\n}\r\n\r\n\r\n","import { Compiler, ComponentFactoryResolver, ComponentRef, Directive, EventEmitter, Input, OnChanges, OnDestroy, OnInit, SimpleChanges, ViewContainerRef } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { DynamicMatTableComponent } from '../../dynamic-mat-table/dynamic-mat-table.component';\r\nimport { TableField } from '../../models/table-field.model';\r\nimport { IRowEvent } from '../../models/table-row.model';\r\nimport { IDynamicCell } from './IDynamicCell';\r\n\r\n@Directive({\r\n  selector: '[dynamicCell]'\r\n})\r\nexport class DynamicCellDirective implements OnInit, OnChanges, OnDestroy  {\r\n  @Input() component: any;\r\n  @Input() column: TableField<any>;\r\n  @Input() row: any;\r\n  @Input() onRowEvent: EventEmitter<IRowEvent>;  \r\n  componentRef: ComponentRef<IDynamicCell> = null;\r\n\r\n  constructor(\r\n    public compiler: Compiler,\r\n    private cfr: ComponentFactoryResolver,\r\n    private vc: ViewContainerRef,\r\n    private parent: DynamicMatTableComponent<any>\r\n    ) {}    \r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (this.componentRef === null || this.componentRef === undefined) {\r\n      this.initComponent();\r\n    }    \r\n    // pass input parameters\r\n    if (changes.column && changes.column.currentValue) {\r\n      this.componentRef.instance.column = this.column;\r\n    }    \r\n    if (changes.row && changes.row.currentValue) {\r\n      (this.componentRef.instance as any).row = this.row;\r\n    }\r\n    if (changes.onRowEvent && changes.onRowEvent.currentValue) {\r\n      (this.componentRef.instance as any).onRowEvent = this.onRowEvent;\r\n    }\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.componentRef) {\r\n      this.componentRef.destroy();\r\n    }\r\n  }\r\n\r\n  initComponent() {\r\n    try{\r\n      const componentFactory = this.cfr.resolveComponentFactory<IDynamicCell>(this.component);\r\n      this.componentRef = this.vc.createComponent<IDynamicCell>(componentFactory);      \r\n      this.updateInput();\r\n    } catch (e) {\r\n      // console.log(e);\r\n    } \r\n  }\r\n\r\n  updateInput() {\r\n    if (this.parent) {\r\n      (this.componentRef.instance as IDynamicCell).parent = this.parent;\r\n    }    \r\n    if (this.column) {\r\n      this.componentRef.instance.column = this.column;\r\n    }   \r\n    if (this.row) {\r\n      (this.componentRef.instance as IDynamicCell).row = this.row;\r\n    }\r\n    if (this.onRowEvent) {\r\n      (this.componentRef.instance as IDynamicCell).onRowEvent = this.onRowEvent;\r\n    }    \r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, Component, Output, Input, EventEmitter } from '@angular/core';\r\nimport { isNullorUndefined } from '../../../cores/type';\r\nimport { ContextMenuItem } from '../../../models/context-menu.model';\r\nimport { IRowEvent } from '../../../models/table-row.model';\r\nimport { TableSetting } from '../../../models/table-setting.model';\r\n\r\n@Component({\r\n  // tslint:disable-next-line: component-selector\r\n  selector: 'row-menu',\r\n  templateUrl: './row-menu.component.html',\r\n  styleUrls: ['./row-menu.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class RowMenuComponent<T> {\r\n  // @Output() rowActionChange: EventEmitter<ContextMenuItem> = new EventEmitter<ContextMenuItem>();\r\n  @Output() rowActionChange: EventEmitter<ContextMenuItem> = new EventEmitter<ContextMenuItem>();\r\n  @Input() actionMenus: ContextMenuItem[] = [];\r\n  @Input() tableSetting: TableSetting;\r\n  @Input() rowActionMenu?: { [key: string]: ContextMenuItem; };\r\n  visibleActionMenus: ContextMenuItem[] = [];\r\n\r\n  constructor() {\r\n  }\r\n\r\n  menuOnClick(e) {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n    this.visibleActionMenus = [];\r\n    this.actionMenus.forEach(menu => {\r\n      const am: ContextMenuItem = isNullorUndefined(this.rowActionMenu) || isNullorUndefined(this.rowActionMenu[menu.name]) ? menu : this.rowActionMenu[menu.name];\r\n      if ( isNullorUndefined(am.visible) || am.visible) {\r\n        this.visibleActionMenus.push({\r\n          name: menu.name,\r\n          text: am.text || menu.text,\r\n          disabled: am.disabled || menu.disabled,\r\n          icon: am.icon || menu.icon,\r\n          color: am.color || menu.color\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  menuButton_OnClick(menu: ContextMenuItem) {\r\n    setTimeout(() => {\r\n      this.rowActionChange.emit(menu);\r\n    });\r\n  }\r\n}\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { RowMenuComponent } from './row-menu.component';\r\n\r\nconst components = [RowMenuComponent];\r\n\r\n@NgModule({\r\n  declarations: [components],\r\n  exports: components,\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    MatButtonModule,\r\n    MatIconModule,\r\n    MatMenuModule\r\n  ],\r\n})\r\nexport class RowMenuModule {}\r\n","import { ChangeDetectionStrategy, Component, Output, Input, EventEmitter } from '@angular/core';\r\nimport { moveItemInArray, CdkDragDrop } from '@angular/cdk/drag-drop';\r\nimport { TableService } from '../../dynamic-mat-table.service';\r\nimport { TableSetting } from '../../../models/table-setting.model';\r\nimport { TableIntl } from '../../../international/table-Intl';\r\nimport { clone, deepClone, isNullorUndefined } from '../../../cores/type';\r\n\r\n@Component({\r\n  // tslint:disable-next-line: component-selector\r\n  selector: 'table-menu',\r\n  templateUrl: './table-menu.component.html',\r\n  styleUrls: ['./table-menu.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class TableMenuComponent {\r\n  @Output() menuActionChange: EventEmitter<TableMenuActionChange> = new EventEmitter<TableMenuActionChange>();\r\n  @Input()\r\n  get tableSetting(): TableSetting {\r\n    return this.currentTableSetting;\r\n  }\r\n  set tableSetting(value: TableSetting) {\r\n    this.originalTableSetting = value;\r\n    this.reverseDirection = value.direction === 'rtl' ? 'ltr' : 'rtl';\r\n    this.currentTableSetting = clone<TableSetting>(value);\r\n  }\r\n\r\n  currentColumn: number = null;\r\n  reverseDirection: string = null;\r\n  originalTableSetting: TableSetting;\r\n  currentTableSetting: TableSetting;\r\n\r\n  constructor(public languagePack: TableIntl, public tableService: TableService) {\r\n  }\r\n\r\n  screenMode_OnClick() {\r\n    this.menuActionChange.emit({\r\n      type: 'FullScreenMode',\r\n      data: this.currentTableSetting,\r\n    });\r\n  }\r\n\r\n  /***** Column Setting ******/\r\n  columnMenuDropped(event: CdkDragDrop<any>): void {\r\n    moveItemInArray(\r\n      this.currentTableSetting.columnSetting,\r\n      event.item.data.columnIndex,\r\n      event.currentIndex\r\n    );\r\n  }\r\n\r\n  toggleSelectedColumn(columnIndex: number) {\r\n    const colFound = this.currentTableSetting.columnSetting.find(\r\n      (col) => col.index === columnIndex\r\n    );\r\n    colFound.display = colFound.display === 'visible' ? 'hiden' : 'visible';\r\n  }\r\n\r\n  apply_OnClick(e) {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n    setTimeout(() => {\r\n      this.menuActionChange.emit({\r\n        type: 'TableSetting',\r\n        data: this.currentTableSetting,\r\n      });\r\n      this.tableService.saveColumnInfo(this.currentTableSetting.columnSetting);\r\n    });\r\n  }\r\n\r\n  setting_onClick(i) {\r\n    this.currentColumn = i;\r\n  }\r\n\r\n  cancel_OnClick() {\r\n    this.currentTableSetting = deepClone(this.originalTableSetting);\r\n  }\r\n\r\n  isVisible(visible: boolean) {\r\n    return isNullorUndefined(visible) ? true : visible;\r\n  }\r\n\r\n  /*****  Save ********/\r\n  saveSetting_OnClick() {\r\n    setTimeout(() => {\r\n      this.menuActionChange.emit({ type: 'SaveSetting' });\r\n    });\r\n  }\r\n\r\n  /*****  Filter ********/\r\n  clearFilter_OnClick() {\r\n    setTimeout(() => {\r\n      this.menuActionChange.emit({ type: 'FilterClear' });\r\n    });\r\n  }\r\n\r\n  /******* Save File ***********/\r\n  download_OnClick(type: string) {\r\n    setTimeout(() => {\r\n      this.menuActionChange.emit({ type: 'Download', data: type });\r\n    });\r\n  }\r\n\r\n  print_OnClick(menu) {\r\n    menu._overlayRef._host.parentElement.click();\r\n    setTimeout(() => {\r\n      this.menuActionChange.emit({ type: 'Print', data: null });\r\n    });\r\n  }\r\n}\r\n\r\nexport interface TableMenuActionChange {\r\n  type: 'FilterClear' | 'TableSetting' | 'Download' | 'SaveSetting' | 'Print' | 'FullScreenMode';\r\n  data?: any;\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { DragDropModule } from '@angular/cdk/drag-drop';\r\nimport { MatRadioModule } from '@angular/material/radio';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { TableMenuComponent } from './table-menu.component';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\n\r\nconst components = [TableMenuComponent];\r\n\r\n@NgModule({\r\n  declarations: [components],\r\n  exports: components,\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    MatButtonModule,\r\n    MatCheckboxModule,\r\n    MatIconModule,\r\n    DragDropModule,\r\n    MatMenuModule,\r\n    MatRadioModule,\r\n  ],\r\n})\r\nexport class TableMenuModule {}\r\n","import { Directive, HostListener } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[filter-event]'\r\n})\r\nexport class FilterEventDirective {\r\n  @HostListener('click', ['$event'])\r\n  onClick(e: MouseEvent) {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n\r\n    return false;\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport { HeaderFilterComponent } from './header-filter.component';\r\nimport { FilterEventDirective } from './filter-event.directive';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatButtonModule } from '@angular/material/button';\r\n\r\n\r\nconst components = [HeaderFilterComponent, FilterEventDirective];\r\n\r\n@NgModule({\r\n  declarations: components ,\r\n  exports: components,\r\n  imports: [\r\n    CommonModule,\r\n    MatFormFieldModule,\r\n    MatIconModule,\r\n    MatInputModule,\r\n    MatMenuModule,\r\n    MatSelectModule,\r\n    ReactiveFormsModule,\r\n    MatButtonModule,\r\n    FormsModule\r\n  ],\r\n})\r\nexport class HeaderFilterModule {}\r\n","import { Injectable, OnDestroy } from '@angular/core';\r\nimport { distinctUntilChanged } from 'rxjs/operators';\r\nimport { BehaviorSubject, Subject } from 'rxjs';\r\nimport { CdkVirtualScrollViewport, VirtualScrollStrategy } from '@angular/cdk/scrolling';\r\nimport { ListRange } from '@angular/cdk/collections';\r\nimport { Subscription } from 'rxjs';\r\n\r\nexport interface TSVStrategyConfigs {\r\n  rowHeight: number;\r\n  headerHeight: number;\r\n  footerHeight: number;\r\n  bufferMultiplier: number;\r\n}\r\n\r\nexport declare type TableScrollStrategy = 'fixed-size' | 'none' | null;\r\n\r\n@Injectable()\r\nexport class FixedSizeTableVirtualScrollStrategy implements VirtualScrollStrategy, OnDestroy {  \r\n  private eventsSubscription: Subscription;\r\n  private length = 0;\r\n  private rowHeight!: number;\r\n  private headerHeight!: number;\r\n  private footerHeight!: number;\r\n  private bufferMultiplier!: number;\r\n  private indexChange = new Subject<number>();\r\n  public stickyChange = new Subject<number>();\r\n  public scrollStrategyMode: TableScrollStrategy = 'fixed-size';\r\n\r\n  public viewport: CdkVirtualScrollViewport;\r\n\r\n  public renderedRangeStream = new BehaviorSubject<ListRange>({start: 0, end: 0});\r\n  public offsetChange = new BehaviorSubject(0);\r\n\r\n  public scrolledIndexChange = this.indexChange.pipe(distinctUntilChanged());\r\n\r\n  get dataLength(): number {\r\n    return this.length;\r\n  }\r\n\r\n  set dataLength(value: number) {\r\n    this.length = value;\r\n    this.onDataLengthChanged();\r\n  }\r\n\r\n  ngOnDestroy(): void {    \r\n    this.eventsSubscription.unsubscribe();\r\n  }\r\n\r\n  public attach(viewport: CdkVirtualScrollViewport): void {\r\n    this.viewport = viewport;\r\n    this.eventsSubscription = this.viewport.renderedRangeStream.subscribe(this.renderedRangeStream);\r\n    this.onDataLengthChanged();\r\n  }\r\n\r\n  public detach(): void {\r\n    this.indexChange.complete();\r\n    this.stickyChange.complete();\r\n    this.renderedRangeStream.complete();\r\n  }\r\n \r\n  public onContentScrolled(): void {\r\n    this.updateContent();\r\n  }\r\n\r\n  public onDataLengthChanged(): void {\r\n    if (this.viewport) {\r\n      this.viewport.setTotalContentSize(this.dataLength * this.rowHeight + this.headerHeight + this.footerHeight);\r\n    }\r\n    this.updateContent();\r\n  }\r\n\r\n  public onContentRendered(): void {\r\n    // no-op\r\n  }\r\n\r\n  public onRenderedOffsetChanged(): void {\r\n    // no-op\r\n  }\r\n\r\n  public scrollToIndex(index: number, behavior: ScrollBehavior): void {    \r\n    // if (this.viewport) {\r\n    //   this.viewport.scrollToOffset( this.rowHeight * index , behavior);\r\n    // }    \r\n    if (!this.viewport || !this.rowHeight) {\r\n      return;\r\n    }\r\n    this.viewport.scrollToOffset((index - 1 ) * this.rowHeight + this.headerHeight);\r\n  }\r\n\r\n  public setConfig(configs: TSVStrategyConfigs) {\r\n    const {rowHeight, headerHeight, footerHeight, bufferMultiplier} = configs;\r\n    if (\r\n      this.rowHeight === rowHeight\r\n      && this.headerHeight === headerHeight\r\n      && this.footerHeight === footerHeight\r\n      && this.bufferMultiplier === bufferMultiplier\r\n    ) {\r\n      return;\r\n    }\r\n    this.rowHeight = rowHeight;\r\n    this.headerHeight = headerHeight;\r\n    this.footerHeight = footerHeight;\r\n    this.bufferMultiplier = bufferMultiplier;\r\n    this.onDataLengthChanged();\r\n  }\r\n\r\n  // bug fixed some time viewport is zero height (i dont know why!)\r\n  public getViewportSize() {\r\n    if (this.viewport.getViewportSize() === 0) {      \r\n      return this.viewport.elementRef.nativeElement.clientHeight + 52;\r\n    } else {\r\n      return this.viewport.getViewportSize();\r\n    }\r\n  }\r\n\r\n  private updateContent() {    \r\n    if (!this.viewport || !this.rowHeight) {\r\n      return;\r\n    }\r\n    let start = 0;\r\n    let end = this.dataLength;   \r\n\r\n    if ( this.scrollStrategyMode === 'none' && this.viewport.getRenderedRange().start  === start && this.viewport.getRenderedRange().end  === end ) {\r\n      return;\r\n    } \r\n\r\n    const scrollOffset = this.viewport.measureScrollOffset();\r\n    const amount = Math.ceil(this.getViewportSize() / this.rowHeight);\r\n    const offset = Math.max(scrollOffset - this.headerHeight, 0);    \r\n    const buffer = Math.ceil(amount * this.bufferMultiplier);\r\n\r\n    const skip = Math.round(offset / this.rowHeight);\r\n    const index = Math.max(0, skip);    \r\n     \r\n    if (this.scrollStrategyMode === 'fixed-size') {\r\n      start = Math.max(0, index - buffer);\r\n      end = Math.min(this.dataLength, index + amount + buffer);\r\n    }\r\n    const renderedOffset = start * this.rowHeight;    \r\n    \r\n    this.viewport.setRenderedContentOffset(renderedOffset);\r\n    this.viewport.setRenderedRange({start, end});    \r\n    this.indexChange.next(index);\r\n    this.stickyChange.next(renderedOffset);\r\n    this.offsetChange.next(offset)\r\n  }\r\n}\r\n","import { AfterContentInit, ContentChild, Directive, forwardRef,\r\n         Input, NgZone, OnChanges, OnDestroy, Output, EventEmitter } from '@angular/core';\r\nimport { VIRTUAL_SCROLL_STRATEGY } from '@angular/cdk/scrolling';\r\nimport { distinctUntilChanged, filter, map, switchMap, takeUntil, takeWhile, tap } from 'rxjs/operators';\r\nimport { TableVirtualScrollDataSource } from './table-data-source';\r\nimport { MatTable } from '@angular/material/table';\r\nimport { FixedSizeTableVirtualScrollStrategy } from './fixed-size-table-virtual-scroll-strategy';\r\nimport { CdkHeaderRowDef } from '@angular/cdk/table';\r\nimport { Subject } from 'rxjs';\r\n\r\n\r\nexport function _tableVirtualScrollDirectiveStrategyFactory(tableDir: TableItemSizeDirective) {\r\n  return tableDir.scrollStrategy;\r\n}\r\n\r\nconst stickyHeaderSelector = '.mat-header-row .mat-table-sticky';\r\nconst stickyFooterSelector = '.mat-footer-row .mat-table-sticky';\r\n\r\nconst defaults = {\r\n  rowHeight: 48,\r\n  headerHeight: 56,\r\n  headerEnabled: true,\r\n  footerHeight: 48,\r\n  footerEnabled: false,\r\n  bufferMultiplier: 0.7\r\n};\r\n\r\n@Directive({\r\n  // tslint:disable-next-line:directive-selector\r\n  selector: 'cdk-virtual-scroll-viewport[tvsItemSize]',\r\n  providers: [{\r\n    provide: VIRTUAL_SCROLL_STRATEGY,\r\n    useFactory: _tableVirtualScrollDirectiveStrategyFactory,\r\n    deps: [forwardRef(() => TableItemSizeDirective)]\r\n  }]\r\n})\r\nexport class TableItemSizeDirective implements OnChanges, AfterContentInit, OnDestroy {\r\n  private alive = true;\r\n\r\n  // tslint:disable-next-line:no-input-rename\r\n  @Input('tvsItemSize')\r\n  rowHeight = defaults.rowHeight;\r\n\r\n  @Input()\r\n  headerEnabled = defaults.headerEnabled;\r\n\r\n  @Input()\r\n  headerHeight = defaults.headerHeight;\r\n\r\n  @Input()\r\n  footerEnabled = defaults.footerEnabled;\r\n\r\n  @Input()\r\n  footerHeight = defaults.footerHeight;\r\n\r\n  @Input()\r\n  bufferMultiplier = defaults.bufferMultiplier;\r\n\r\n  @ContentChild(MatTable, { static: true }) table: MatTable<any>;\r\n\r\n  // @Output() requestRendering: EventEmitter<any> = new EventEmitter();\r\n\r\n  scrollStrategy = new FixedSizeTableVirtualScrollStrategy();\r\n\r\n  dataSourceChanges = new Subject<void>();\r\n  private stickyPositions: Map<HTMLElement, number>;\r\n\r\n  constructor(private zone: NgZone) {\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.alive = false;\r\n    this.dataSourceChanges.complete();\r\n  }\r\n\r\n  private isAlive() {\r\n    return () => this.alive;\r\n  }\r\n\r\n  private isStickyEnabled(): boolean {\r\n    return !!this.scrollStrategy.viewport && ((this.table as any)._headerRowDefs as CdkHeaderRowDef[])\r\n      .map(def => def.sticky)\r\n      .reduce((prevState, state) => prevState && state, true);\r\n  }\r\n\r\n  ngAfterContentInit() {\r\n    const switchDataSourceOrigin = (this.table as any)._switchDataSource;\r\n    (this.table as any)._switchDataSource = (dataSource: any) => {\r\n      switchDataSourceOrigin.call(this.table, dataSource);\r\n      this.connectDataSource(dataSource);\r\n    };\r\n\r\n    this.connectDataSource(this.table.dataSource);\r\n\r\n    this.scrollStrategy.stickyChange\r\n      .pipe(\r\n        filter(() => this.isStickyEnabled()),\r\n        tap(() => {\r\n          if (!this.stickyPositions) {\r\n            this.initStickyPositions();\r\n          }\r\n        }),\r\n        takeWhile(this.isAlive())\r\n      )\r\n      .subscribe((stickyOffset) => {\r\n        this.setSticky(stickyOffset);\r\n      });\r\n  }\r\n\r\n  connectDataSource(dataSource: any) {\r\n      this.dataSourceChanges.next();\r\n      if (dataSource instanceof TableVirtualScrollDataSource) {\r\n        dataSource\r\n          .dataToRender$\r\n          .pipe(\r\n            distinctUntilChanged(),\r\n            takeUntil(this.dataSourceChanges),\r\n            takeWhile(this.isAlive()),\r\n            tap(data => this.scrollStrategy.dataLength = data.length),\r\n            switchMap(data =>\r\n              this.scrollStrategy\r\n                .renderedRangeStream\r\n                .pipe(\r\n                   map(({ start, end }) => {\r\n                    // this.requestRendering.emit({from: start, to: end});\r\n                    return typeof start !== 'number' || typeof end !== 'number' ? data : data.slice(start, end);\r\n                   })                  \r\n                )\r\n            )\r\n          )\r\n          .subscribe(data => {\r\n            this.zone.run(() => {\r\n              dataSource.dataOfRange$.next(data);\r\n            });\r\n          });\r\n      } else {\r\n        throw new Error('[tvsItemSize] requires TableVirtualScrollDataSource be set as [dataSource] of [mat-table]');\r\n      }    \r\n  }\r\n\r\n  ngOnChanges() {\r\n    const config = {\r\n      rowHeight: +this.rowHeight || defaults.rowHeight,\r\n      headerHeight: this.headerEnabled ? +this.headerHeight || defaults.headerHeight : 0,\r\n      footerHeight: this.footerEnabled ? +this.footerHeight || defaults.footerHeight : 0,\r\n      bufferMultiplier: +this.bufferMultiplier || defaults.bufferMultiplier\r\n    };\r\n    this.scrollStrategy.setConfig(config);\r\n  }\r\n\r\n\r\n  // setSticky(offset) {\r\n  //   // fixed bug when sticky true for header and one column. column scroll front of header. becuse of z-index\r\n  //   let topOffset = -offset;\r\n  //   this.scrollStrategy.viewport.elementRef.nativeElement.querySelectorAll('mat-header-row.mat-table-sticky')\r\n  //     .forEach((el: HTMLElement) => {\r\n  //       el.style.top = `${topOffset}px`;\r\n  //       topOffset += el.offsetHeight;\r\n  //       if (el.style.zIndex !== null ) {\r\n  //         el.style.zIndex = '1000';\r\n  //       }\r\n  //     });\r\n  // }\r\n\r\n  setSticky(offset) {\r\n    this.scrollStrategy.viewport.elementRef.nativeElement.querySelectorAll(stickyHeaderSelector)\r\n      .forEach((el: HTMLElement) => {\r\n        const parent = el.parentElement;\r\n        let baseOffset = 0;\r\n        if (this.stickyPositions.has(parent)) {\r\n          baseOffset = this.stickyPositions.get(parent);\r\n        }\r\n        el.style.top = `${baseOffset - offset}px`;\r\n      });\r\n    this.scrollStrategy.viewport.elementRef.nativeElement.querySelectorAll(stickyFooterSelector)\r\n      .forEach((el: HTMLElement) => {\r\n        const parent = el.parentElement;\r\n        let baseOffset = 0;\r\n        if (this.stickyPositions.has(parent)) {\r\n          baseOffset = this.stickyPositions.get(parent);\r\n        }\r\n        el.style.bottom = `${-baseOffset + offset}px`;\r\n      });\r\n  }\r\n\r\n  private initStickyPositions() {\r\n    this.stickyPositions = new Map<HTMLElement, number>();\r\n    this.scrollStrategy.viewport.elementRef.nativeElement.querySelectorAll(stickyHeaderSelector)\r\n      .forEach(el => {\r\n        const parent = el.parentElement;\r\n        if (!this.stickyPositions.has(parent)) {\r\n          this.stickyPositions.set(parent, parent.offsetTop);\r\n        }\r\n      });\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { TableItemSizeDirective } from './table-item-size.directive';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    TableItemSizeDirective\r\n   ],\r\n  imports: [],\r\n  exports: [TableItemSizeDirective]\r\n})\r\nexport class TableVirtualScrollModule {\r\n}\r\n","import { Component, ElementRef, EventEmitter, HostListener, Input, OnChanges, OnInit, Output, SimpleChanges } from '@angular/core';\n\n@Component({\n  selector: 'dm-toolbar',\n  templateUrl: './toolbar.component.html',\n  styleUrls: ['./toolbar.component.scss'],\n})\nexport class ToolbarComponent implements OnInit, OnChanges {\n  @Input() itemList: ToolbarItem[] = [];\n  @Input() color: string = null;\n  @Input() direction: 'ltr' | 'rtl' = 'ltr';\n  @Output() actionClick = new EventEmitter<ToolbarItem>();\n\n  @HostListener('document:keyup', ['$event'])\n  onKeyup(e: KeyboardEvent) {    \n  }\n\n  normalItemList: ToolbarItem[] = [];\n  floatItemList: ToolbarItem[] = [];\n\n  constructor(public _el:ElementRef) {    \n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if(changes.itemList && this.itemList) {\n      this.normalItemList = this.itemList.filter( item => item.float === undefined || item.float == false);\n      this.floatItemList = this.itemList.filter( item => item?.float == true);\n    }\n  }\n\n  ngOnInit() {}\n\n  item_onClick(item: ToolbarItem) {\n    this.actionClick.emit(item);\n  }\n}\n\nexport interface ToolbarItem {\n  id: number;\n  name?: string;\n  tooltip?: string;\n  matIcon?: string;\n  matIconColor?: string;\n  svgIcon?: string;\n  splitter?: boolean;\n  disable?: boolean;\n  float?: boolean;\n}\n\n\n","import { Compiler, CompilerFactory, COMPILER_OPTIONS, NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatSortModule } from '@angular/material/sort';\r\nimport { DragDropModule } from '@angular/cdk/drag-drop';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { ScrollingModule } from '@angular/cdk/scrolling';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { MatCheckboxModule } from '@angular/material/checkbox';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\r\nimport { MatPaginatorIntl, MatPaginatorModule} from '@angular/material/paginator';\r\nimport { MatDividerModule } from '@angular/material/divider';\r\nimport { TableIntl } from '../international/table-Intl';\r\nimport { TableCoreDirective } from '../cores/table.core.directive';\r\nimport { RowMenuModule } from './extensions/row-menu/row-menu.module';\r\nimport { DynamicMatTableComponent } from './dynamic-mat-table.component';\r\nimport { TableMenuModule } from './extensions/table-menu/table-menu.module';\r\nimport { HeaderFilterModule } from './extensions/filter/header-filter.module';\r\nimport { TableVirtualScrollModule } from '../cores/table-virtual-scroll.module';\r\nimport { PrintTableDialogComponent } from './extensions/print-dialog/print-dialog.component';\r\nimport { DynamicCellDirective } from '../cores/dynamic-cell/dynamic-cell.directive';\r\nimport { JitCompilerFactory } from '@angular/platform-browser-dynamic';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { ToolbarComponent } from './extensions/toolbar/toolbar.component';\r\nimport { MatRippleModule } from '@angular/material/core';\r\n\r\nexport function createCompiler(compilerFactory: CompilerFactory): Compiler {\r\n  return compilerFactory.createCompiler();\r\n}\r\n\r\nexport function paginatorLabels(tableIntl: TableIntl) {\r\n  const paginatorIntl = new MatPaginatorIntl();\r\n  // paginatorIntl.itemsPerPageLabel = '   :';\r\n  // paginatorIntl.nextPageLabel = ' ';\r\n  // paginatorIntl.previousPageLabel = ' ';\r\n  paginatorIntl.getRangeLabel = paginatorIntl.getRangeLabel;\r\n\r\n  return paginatorIntl || null;\r\n}\r\n\r\nconst ExtentionsModule = [HeaderFilterModule, RowMenuModule];\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    MatTableModule,\r\n    ScrollingModule,\r\n    TableVirtualScrollModule,\r\n    MatCheckboxModule,\r\n    MatFormFieldModule,\r\n    MatInputModule,\r\n    MatSortModule,\r\n    MatProgressBarModule,\r\n    MatIconModule,\r\n    DragDropModule,\r\n    TableMenuModule,\r\n    MatPaginatorModule,\r\n    MatDialogModule,\r\n    MatButtonModule,\r\n    MatMenuModule,\r\n    MatDividerModule,\r\n    MatTooltipModule,\r\n    MatRippleModule,\r\n    ExtentionsModule,\r\n    // NoopAnimationsModule\r\n  ],\r\n  exports: [DynamicMatTableComponent, ToolbarComponent],\r\n  providers: [\r\n    // bugfixed in library compiler not load and must create library\r\n    {provide: COMPILER_OPTIONS, useValue: {}, multi: true},\r\n    {provide: CompilerFactory, useClass: JitCompilerFactory, deps: [COMPILER_OPTIONS]},\r\n    {provide: Compiler, useFactory: createCompiler, deps: [CompilerFactory]},\r\n    TableIntl,\r\n    {\r\n      provide: MatPaginatorIntl,\r\n      useFactory: paginatorLabels,\r\n      deps: [TableIntl],\r\n    },\r\n  ],\r\n  declarations: [\r\n    DynamicMatTableComponent,\r\n    PrintTableDialogComponent,\r\n    ToolbarComponent,\r\n    TableCoreDirective,\r\n    DynamicCellDirective\r\n  ],\r\n  entryComponents: [PrintTableDialogComponent],\r\n})\r\nexport class DynamicMatTableModule {}\r\n","import { MatPaginatorIntl } from '@angular/material/paginator';\r\n\r\nexport interface LanguagePack {\r\n  tableLabels: TableLabels;\r\n  filterLabels: FilterLabels;\r\n  paginatorLabels: MatPaginatorIntl;\r\n  menuLabels: MenuLabels;\r\n}\r\n\r\nexport interface TableLabels {\r\n  NoData: string;\r\n}\r\n\r\nexport interface PaginatorLabels {\r\n  itemsPerPageLabel: string;\r\n  nextPageLabel: string;\r\n  previousPageLabel: string;\r\n  firstPageLabel: string;\r\n  lastPageLabel: string;\r\n  getRangeLabel: (page: number, pageSize: number, length: number) => string;\r\n}\r\n\r\nexport interface FilterLabels {\r\n  Clear: string;\r\n  Search: string;\r\n  And: string;\r\n  Or: string;\r\n  /* Text Compare */\r\n  Text: string;\r\n  TextContains: string;\r\n  TextEquals: string;\r\n  TextStartsWith: string;\r\n  TextEndsWith: string;\r\n  TextEmpty: string;\r\n  TextNotEmpty: string;\r\n  /* Number Compare */\r\n  Number: string;\r\n  NumberEquals: string;\r\n  NumberNotEquals: string;\r\n  NumberGreaterThan: string;\r\n  NumberLessThan: string;\r\n  NumberEmpty: string;\r\n  NumberNotEmpty: string;\r\n  /* Category List Compare */\r\n  CategoryContains: string;\r\n  CategoryNotContains: string;\r\n  /* Boolean Compare */\r\n  /* Date Compare */\r\n\r\n  /* Paginator */\r\n}\r\n\r\nexport interface MenuLabels {\r\n  saveData: string;\r\n  columnSetting: string;\r\n  saveTableSetting: string;\r\n  fullScreen: string;  \r\n  clearFilter: string;\r\n  jsonFile: string;\r\n  csvFile: string;\r\n  printTable: string;\r\n  filterMode: string;\r\n  filterLocalMode: string;\r\n  filterServerMode: string;\r\n  sortMode: string;\r\n  sortLocalMode: string;\r\n  sortServerMode: string;\r\n  printMode: string;\r\n  printYesMode: string;\r\n  printNoMode: string;\r\n  pinMode: string;\r\n  pinNoneMode: string;\r\n  pinStartMode: string;\r\n  pinEndMode: string;\r\n  thereIsNoColumn: string;\r\n}\r\n","import { ThemePalette } from \"@angular/material/core\";\r\n\r\nexport interface ContextMenuItem {\r\n    name: string;\r\n    text: string;\r\n    color: ThemePalette;\r\n    icon?: string;\r\n    disabled?: boolean;\r\n    visible?: boolean;\r\n    divider?: boolean;\r\n  }","import { Dictionary } from '../cores/type';\r\nimport { ContextMenuItem } from './context-menu.model';\r\n\r\n// this fields are for each row data\r\nexport interface TableRow {\r\n  id?: number;  \r\n  rowActionMenu?: { [key: string]: ContextMenuItem; };\r\n  option?: RowOption;\r\n}\r\n\r\n\r\n\r\nexport type TableSelectionMode = 'single' | 'multi' | 'none';\r\nexport type RowEventType = 'MasterSelectionChange' | 'RowSelectionChange' | 'RowActionMenu' | 'RowClick' | 'CellClick' | 'BeforContextMenuOpen' | 'ContextMenuClick';\r\n\r\nexport interface IRowEvent {\r\n  event: RowEventType | any;\r\n  sender: any;\r\n}\r\n\r\nexport interface ITableEvent {\r\n  event: 'ReloadData' | 'SortChanged' | any;\r\n  sender: any | undefined;\r\n}\r\n\r\nexport interface IRowActionMenuEvent<T> {\r\n  actionItem: ContextMenuItem;\r\n  rowItem: T;\r\n}\r\n\r\nexport interface RowOption extends Dictionary<any> {\r\n  style?: any;\r\n  class?: any; \r\n  selected?: boolean;\r\n  expand?: boolean; \r\n}","import { TableRow } from './table-row.model';\r\n\r\nexport declare type AtRenderFunc<R extends TableRow> = (row: R) => string;\r\nexport declare type AtClassFunc = (row: any, col: any) => string;\r\nexport declare type AtSortFunc<R extends TableRow> = (data: R[], col: any) => string;\r\nexport declare type AtFilterFunc<R extends TableRow> = (data: R[], col: any) => string;\r\nexport declare type ToPrint = (data: any) => any;\r\nexport declare type ToExport = (data: any, type: any) => any;\r\nexport declare type FieldType = 'text' | 'number' | 'date' | 'category';\r\nexport declare type FieldDisplay = 'visible' | 'hiden' | 'prevent-hidden';\r\nexport declare type FieldSticky = 'start' | 'end' | 'none';\r\nexport declare type FieldFilter = 'client-side' | 'server-side' | 'none';\r\nexport declare type FieldSort = 'client-side' | 'server-side' | 'none';\r\n\r\nexport interface TableField<R extends TableRow> extends AbstractField {\r\n    // renderer?: AtRenderFunc<R>;\r\n    classNames?: string;\r\n    rowClass?: string | AtClassFunc;\r\n    customSortFunction?: AtSortFunc<R>;\r\n    customFilterFunction?: AtSortFunc<R>;    \r\n    toPrint?: ToPrint;\r\n    toExport?: ToExport;\r\n}\r\n\r\nexport interface AbstractField {\r\n  index?: number;\r\n  name: string;\r\n  type?: FieldType;\r\n  width?: number;\r\n  header?: string;\r\n  isKey?: boolean;\r\n  inlineEdit?: boolean;\r\n  display?: FieldDisplay;\r\n  sticky?: FieldSticky;\r\n  filter?: FieldFilter;\r\n  sort?: FieldSort;\r\n  cellClass?: string;\r\n  cellStyle?: any;\r\n  icon?: string;\r\n  iconColor?: string;  \r\n  dynamicCellComponent?: any;\r\n  draggable?: boolean;\r\n  filterable?: boolean;\r\n  sortable?: boolean;\r\n  clickable?: boolean;  \r\n  printable?: boolean;\r\n  exportable?: boolean;\r\n  enableContextMenu?: boolean;\r\n  rowSelectionable?: boolean;\r\n  option?: any; // for store share data show in cell of column\r\n  categoryData?: any[];\r\n  toString?: (column: TableField<any>, row: TableRow) => string;\r\n  customSort?: (column: TableField<any>, row: any) => string;\r\n}\r\n\r\n","import { AbstractField } from './table-field.model';\r\nimport { Direction } from './table-setting.model';\r\n\r\nexport interface PrintConfig {\r\n  displayedFields?: string[];\r\n  title?: string;\r\n  userPrintParameters?: { key: string, value: string; }[];\r\n  tablePrintParameters?: { key: string, value: string; }[];\r\n  showParameters?: boolean;\r\n  data?: any[];\r\n  columns?: AbstractField[];\r\n  direction?: Direction;\r\n}\r\n\r\n\r\n","export declare type TablePaginationMode = 'client-side' | 'server-side' | 'none';\r\nexport interface TablePagination {\r\n  length?: number;\r\n  pageIndex?: number;\r\n  pageSize?: number;\r\n  pageSizeOptions?: number[];\r\n  showFirstLastButtons?: boolean;\r\n}\r\n","import { TableScrollStrategy } from '../cores/fixed-size-table-virtual-scroll-strategy';\r\nimport { AbstractField } from './table-field.model';\r\n\r\nexport type Direction = 'rtl' | 'ltr';\r\nexport type ScreenMode = 'visible' | 'hiden' | 'none'  ;\r\nexport interface TableSetting {\r\n  // screenMode?: ScreenMode;\r\n  direction?: Direction;\r\n  columnSetting?: AbstractField[];\r\n  visibaleActionMenu?: VisibleActionMenu;\r\n  visibleTableMenu?: boolean;\r\n  alternativeRowStyle?: any;\r\n  normalRowStyle?: any;\r\n  scrollStrategy?: TableScrollStrategy;\r\n  rowStyle?: any;\r\n  enableContextMenu?: boolean;\r\n}\r\n\r\nexport interface VisibleActionMenu {\r\n  json?: boolean;\r\n  csv?: boolean;\r\n  print?: boolean;\r\n  columnSettingPin?: boolean;\r\n  columnSettingOrder?: boolean;\r\n  columnSettingFilter?: boolean;\r\n  columnSettingSort?: boolean;\r\n  columnSettingPrint?: boolean;\r\n  saveTableSetting?: boolean;\r\n  clearFilter?: boolean;\r\n}\r\n"],"names":["textify","titleCase","Observable","merge","of","combineLatest","map","Subscription","ReplaySubject","MatTableDataSource","Injectable","EventEmitter","SelectionModel","moveItemInArray","Directive","ChangeDetectorRef","ViewChild","MatSort","MatPaginator","Input","HostBinding","Output","MatTable","CdkVirtualScrollViewport","equals","empty","notEmpty","operations","Subject","trigger","transition","query","style","stagger","animate","Component","ChangeDetectionStrategy","ContentChildren","MatMenuTrigger","MatDialogRef","Inject","MAT_DIALOG_DATA","state","delay","MAT_TOOLTIP_DEFAULT_OPTIONS","MatDialog","Renderer2","OverlayContainer","Compiler","ComponentFactoryResolver","ViewContainerRef","NgModule","CommonModule","FormsModule","MatButtonModule","MatIconModule","MatMenuModule","components","MatCheckboxModule","DragDropModule","MatRadioModule","HostListener","MatFormFieldModule","MatInputModule","MatSelectModule","ReactiveFormsModule","BehaviorSubject","distinctUntilChanged","filter","tap","takeWhile","takeUntil","switchMap","VIRTUAL_SCROLL_STRATEGY","forwardRef","NgZone","ContentChild","ElementRef","MatPaginatorIntl","MatTableModule","ScrollingModule","MatSortModule","MatProgressBarModule","MatPaginatorModule","MatDialogModule","MatDividerModule","MatTooltipModule","MatRippleModule","COMPILER_OPTIONS","CompilerFactory","JitCompilerFactory"],"mappings":"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"}